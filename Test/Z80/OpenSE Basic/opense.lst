                        ; --------------------------------------
                        ; zasm: assemble "opense.asm"
                        ; opts: --dotnames
                        ; date: 2015-01-07 18:56:08
                        ; --------------------------------------


                        
                        ; The Legalese OpenSE BASIC Disassembly
                        ; Copyright (c) 2011-2012 Andrew Owen 
                        ; Distributed under the CC BY-SA 3.0 license
                        ; Creative Commons Attribution-ShareAlike 3.0 Unported
                        
                        
                        ; Foreword
                        
                        ; Development of OpenSE BASIC was funded by donations to the Red Cross Japan
                        ; Tsunami Appeal (http://www.pledgebank.com/opense). 
                        
                        
                        ; Legal
                        
                        ; The purpose of a commented disassembly is typically as an aid to
                        ; understanding the code.  That is not the purpose of this document. Meaningful
                        ; labels are used throughout and individuals requiring further explanation will
                        ; find an excellent disassembly in Logan and O'Hara's 'The Complete Timex
                        ; TS1000 / Sinclair ZX81 ROM Disassembly', from which the labels used in this
                        ; document are taken (for easy cross-referencing).  This document is provided
                        ; as evidence to support the contention that OpenSE BASIC is a derivative work
                        ; of the ZX81 ROM by Grant and Vickers that may be distributed under an open
                        ; source license without infringing the rights of British Sky Broadcasting
                        ; Group plc, the copyright holder of the ZX Spectrum ROM.
                        
                        
                        ; OpenSE BASIC - An open source firmware for Timex 2000/ZX Spectrum clones
                        ; Copyright (c) 1981 Nine Tiles Networks Ltd
                        
                        ; This program is free software: you can redistribute it and/or modify it under
                        ; the terms of the GNU General Public License as published by the Free Software
                        ; Foundation, either version 2 of the License, or (at your option) any later
                        ; version.  This program is distributed in the hope that it will be useful, but
                        ; WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
                        ; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
                        ; more details.
                        
                        ; You should have received a copy of the GNU General Public License along with
                        ; this program.  If not, see <http://www.gnu.org/licenses/>.
                        
                        
                        ; Purpose
                        
                        ; To enable the legal distribution of 8-bit computers capable of running
                        ; software written for the ZX Spectrum without infringing the rights of British
                        ; Sky Broadcasting Group plc, the copyright holder of the ZX Spectrum ROM.
                        
                        
                        ; Method
                        
                        ; With the ZX81 ROM as the starting point, routines were taken from the ZX80,
                        ; skeleton ROM (from The Messenger), SAM Coupe, and original code from SE Basic
                        ; to replace the missing routines from the ZX Spectrum ROM.  To fill the
                        ; remaining gaps, machine reverse engineering was used to generate functionally
                        ; equivalent but different code, as permitted under the interoperability clause
                        ; in section 50B of the UK Copyright (Computer Programs) Regulations 1992
                        ; amendment to the UK Copyright, Designs and Patents Act 1988.
                        
                        
                        ; Attribution
                        
                        ; The following labels in comments donate the origin of the code that follows
                        ; them: zx80, zx81, sam, skel, se. All other code is legally reverse engineered
                        ; in accordance with section 50B of the 1992 act.
                        
                        
                        ; Acknowledgements
                        
                        ; Jarek Adamski, Alvin Albrecht, Richard Altwasser, Toni Baker, Steve Berry,
                        ; Mark Boyd, Jeff Braine, Martin Brennan, Ian Collier, Rob Collins,
                        ; Chris Cowley, Andrew Cummins, Rick Dickinson, Paul Dunn, John Elliott,
                        ; Paul Farrow, Lou Galie, Simon Goodwin, Rupert Goodwins, Bruce Gordon,
                        ; John Grant, Jim Grimwood, Henk de Groot, Frank O'Hara, Paul Harrison,
                        ; Jonathan Graham Harston, Martijn van der Heide, Pete Hope, Miguel Jodar,
                        ; Dilwyn Jones, Zeljko Juric, Susan Kare, Stephen Kelly, Richard Kelsh,
                        ; Philip Kendall, Slavomir Labsky, Jiri Lamac, Cliff Lawson, Ian Logan,
                        ; Gerton Lunter, Kevin Males, Markos Masouras, Alan Miles, Simon Owen,
                        ; Milan Pikula, Andrew Ryals, Jose Sanchez, Einar Saukas, Clive Sinclair,
                        ; Chris Smith, Dylan Smith, Tony Stratton, Steve Vickers, Geoff Wearmouth,
                        ; Matt Westcott, Jim Westwood, Matthew Wilson, Gunter Woijk, Mark Woodmass,
                        ; Martin Wren-Hilton, Andy Wright, Chris Young, Vladimir Yudin
                        
                        
                        .section .text
                        
0000:                   	org 0
                        	include "opense.def"	
                        ; Definitions file for opense.asm
                        ; Copyright (c) 2011-2012 Andrew Owen
                        
                        ; X80 maths co-processor instruction set (uses binutils style macros)
                        
                        ; parameter definitions
                        ; (period used to distinguish from assembler commands)
                        
0000:                   .le	equ	0	; less than or equal
0001:                   .ge	equ	1	; greater or equal
0002:                   .ne	equ	2	; not equal
0003:                   .gt	equ	3	; greater than
0004:                   .lt	equ	4	; less than
0005:                   .eq	equ	5	; equal
002D:                   .lz	equ	2DH	; less than zero
002E:                   .gz	equ	2EH	; greater than zero
                        
                        ; instruction macros
                        
                        .macro	fwait		; stop the Z80
                        	rst	28h
                        .endm
                        
                        .macro	fjpt	n	; jump if true
                        	defb	0x00, \n - $
                        .endm
                        
                        .macro	fxch		; exchange
                        	defb	0x01
                        .endm
                        
                        .macro	fdel		; delete
                        	defb	0x02
                        .endm
                        
                        .macro	fsub		; subtract
                        	defb	0x03
                        .endm
                        
                        .macro	fmul		; multiply
                        	defb	0x04
                        .endm
                        
                        .macro	fdiv		; divide
                        	defb	0x05
                        .endm
                        
                        .macro	ftop		; to power
                        	defb	0x06
                        .endm
                        
                        .macro	fbor		; binary or
                        	defb	0x07
                        .endm
                        
                        .macro	fband		; binary and
                        	defb	0x08
                        .endm
                        
                        .macro	fcp	n	; compare (.le ... gtz)
                        	defb	0x09 + \n
                        .endm
                        
                        .macro	fadd		; add
                        	defb	0x0f
                        .endm
                        
                        .macro	fbands		; binary and string
                        	defb	0x10
                        .endm
                        
                        .macro	fcps	n	; compare string (.le to .eq)
                        	defb	0x11 + \n
                        .endm
                        
                        .macro	fcat		; concatenate string
                        	defb	0x17
                        .endm
                        
                        .macro	fvals		; value string
                        	defb	0x18
                        .endm
                        
                        .macro	fusrs		; user string
                        	defb	0x19
                        .endm
                        
                        .macro	fread		; read in
                        	defb	0x1a
                        .endm
                        
                        .macro	fneg		; negate
                        	defb	0x1b
                        .endm
                        
                        .macro	fasc		; character to ASCII
                        	defb	0x1c
                        .endm
                        
                        .macro	fval		; value
                        	defb	0x1d
                        .endm
                        
                        .macro	flen		; length of string
                        	defb	0x1e
                        .endm
                        
                        .macro	fsin		; sine
                        	defb	0x1f
                        .endm
                        
                        .macro	fcos		; cosine
                        	defb	0x20
                        .endm
                        
                        .macro	ftan		; tangent
                        	defb	0x21
                        .endm
                        
                        .macro	fasin		; arcsine
                        	defb	0x22
                        .endm
                        
                        .macro	facos		; arccosine
                        	defb	0x23
                        .endm
                        
                        .macro	fatan		; arctangent
                        	defb	0x24
                        .endm
                        
                        .macro	flogn		; natural logarithm
                        	defb	0x25
                        .endm
                        
                        .macro	fexp		; exponential
                        	defb	0x26
                        .endm
                        
                        .macro	fint		; integer (rounded down)
                        	defb	0x27
                        .endm
                        
                        .macro	fsqrt		; square root
                        	defb	0x28
                        .endm
                        
                        .macro	fsgn		; signum
                        	defb	0x29
                        .endm
                        
                        .macro	fabs		; absolute value
                        	defb	0x2a
                        .endm
                        
                        .macro	fpeek		; PEEK
                        	defb	0x2b
                        .endm
                        
                        .macro	fin		; IN
                        	defb	0x2c
                        .endm
                        
                        .macro	fusr		; user address
                        	defb	0x2d
                        .endm
                        
                        .macro	fstrs		; string
                        	defb	0x2e
                        .endm
                        
                        .macro	fchrs		; character
                        	defb	0x2f
                        .endm
                        
                        .macro	fnot		; not
                        	defb	0x30
                        .endm
                        
                        .macro	fmove		; move
                        	defb	0x31
                        .endm
                        
                        .macro	fmod		; modulus
                        	defb	0x32
                        .endm
                        
                        .macro	fjp	n	; jump
                        	defb	0x33, \n - $
                        .endm
                        
                        .macro	fstk		; stack data
                        	defb	0x34
                        .endm
                        
                        .macro	fdjnz	n	; djnz
                        	defb	0x35, \n - $
                        .endm
                        
                        .macro	fce		; chip enable
                        	defb	0x38
                        .endm
                        
                        .macro	fget		; get
                        	defb	0x39
                        .endm
                        
                        .macro	ftrn		; truncate
                        	defb	0x3a
                        .endm
                        
                        .macro	fsgl		; single operation
                        	defb	0x3b
                        .endm
                        
                        .macro	fetof		; e to floating-point
                        	defb	0x3c
                        .endm
                        
                        .macro	frstk		; restack
                        	defb	0x3d
                        .endm
                        
                        .macro	fstk0		; stack 0
                        	defb	0xa0
                        .endm
                        
                        .macro	fstk1		; stack 1
                        	defb	0xa1
                        .endm
                        
                        .macro	fstk_5		; stack half
                        	defb	0xa2
                        .endm
                        
                        .macro	fstkpix_5	; stack pi/2
                        	defb	0xa3
                        .endm
                        
                        .macro	fstk10		; stack 10
                        	defb	0xa4
                        .endm
                        
                        .macro	fst	n	; store (mem 0-5)
                        	defb	0xc0 + \n
                        .endm
                        
                        .macro	fgt	n	; get (mem 0-5)
                        	defb	0xe0 + \n
                        .endm
                        
                        
                        ; colours
                        
0000:                   black			equ	0x00
0001:                   blue			equ	0x01
0002:                   red				equ	0x02
0003:                   magenta			equ	0x03
0004:                   green			equ	0x04
0005:                   cyan			equ	0x05
0006:                   yellow			equ	0x06
0007:                   white			equ	0x07
                        
                        
                        ; control characters
                        
0004:                   ctrl_true_vid	equ	0x04
0005:                   ctrl_inv_vid	equ	0x05
0006:                   ctrl_caps		equ	0x06
0006:                   ctrl_comma		equ	0x06
0007:                   ctrl_edit		equ	0x07
0008:                   ctrl_left		equ	0x08
0009:                   ctrl_right		equ	0x09
000A:                   ctrl_down		equ	0x0a
000B:                   ctrl_up			equ	0x0b
000C:                   ctrl_rubout		equ	0x0c
000D:                   ctrl_n_l		equ	0x0d
000E:                   ctrl_symbol		equ	0x0e
000E:                   ctrl_number		equ	0x0e
000F:                   ctrl_graphics	equ	0x0f
0010:                   ctrl_pen		equ	0x10
0011:                   ctrl_paper		equ	0x11
0012:                   ctrl_flash		equ	0x12
0013:                   ctrl_bright		equ	0x13
0014:                   ctrl_inverse	equ	0x14
0015:                   ctrl_over		equ	0x15
0016:                   ctrl_at			equ	0x16
0017:                   ctrl_tab		equ	0x17
                        
                        
                        ; printable characters
                        
0060:                   pchr_pound		equ	'`'
007F:                   pchr_copyright	equ	0x7f
                        
                        
                        ;canned tokens
                        
0000:                   ctk_out			equ	0x00
0001:                   ctk_lprint		equ	0x01
0002:                   ctk_llist		equ	0x02
0003:                   ctk_stop		equ	0x03
0004:                   ctk_read		equ	0x04
0005:                   ctk_data		equ	0x05
0006:                   ctk_restore		equ	0x06
0007:                   ctk_new			equ	0x07
                        
                        ; 0x08 - still used as backspace
                        
0009:                   ctk_continue	equ	0x09
000A:                   ctk_dim			equ	0x0a
000B:                   ctk_rem			equ	0x0b
000C:                   ctk_for			equ	0x0c
                        
                        ; 0x0d - still used as enter 
                        
000E:                   ctk_gosub		equ	0x0e
000F:                   ctk_input		equ	0x0f
0010:                   ctk_load		equ	0x10
0011:                   ctk_list		equ	0x11
0012:                   ctk_let			equ	0x12
0013:                   ctk_pause		equ	0x13
0014:                   ctk_next		equ	0x14
0015:                   ctk_poke		equ	0x15
0016:                   ctk_print		equ	0x16
0017:                   ctk_plot		equ	0x17
0018:                   ctk_run			equ	0x18
0019:                   ctk_save		equ	0x19
001A:                   ctk_randomize	equ	0x1a
001B:                   ctk_if			equ	0x1b
001C:                   ctk_cls			equ	0x1c
001D:                   ctk_draw		equ	0x1d
001E:                   ctk_clear		equ	0x1e
001F:                   ctk_return		equ	0x1f
                        
                        
                        ; tokens
                        
00A5:                   tk_rnd			equ	0xa5
00A6:                   tk_inkey_str	equ	0xa6
00A7:                   tk_pi			equ	0xa7
00A8:                   tk_fn			equ	0xa8
00A9:                   tk_point		equ	0xa9
00AA:                   tk_screen_str	equ	0xaa
00AB:                   tk_attr			equ	0xab
00AC:                   tk_at			equ	0xac
00AD:                   tk_tab			equ	0xad
00AE:                   tk_val_str		equ	0xae
00AF:                   tk_code			equ	0xaf
00B0:                   tk_val			equ	0xb0
00B1:                   tk_len			equ	0xb1
00B2:                   tk_sin			equ	0xb2
00B3:                   tk_cos			equ	0xb3
00B4:                   tk_tan			equ	0xb4
00B5:                   tk_asn			equ	0xb5
00B6:                   tk_acs			equ	0xb6
00B7:                   tk_atn			equ	0xb7
00B8:                   tk_ln			equ	0xb8
00B9:                   tk_exp			equ	0xb9
00BA:                   tk_int			equ	0xba
00BB:                   tk_sqr			equ	0xbb
00BC:                   tk_sgn			equ	0xbc
00BD:                   tk_abs			equ	0xbd
00BE:                   tk_peek			equ	0xbe
00BF:                   tk_in			equ	0xbf
00C0:                   tk_usr			equ	0xc0
00C1:                   tk_str_str		equ	0xc1
00C2:                   tk_chr_str		equ	0xc2
00C3:                   tk_not			equ	0xc3
00C4:                   tk_bin			equ	0xc4
00C5:                   tk_or			equ	0xc5
00C6:                   tk_and			equ	0xc6
00C7:                   tk_l_eql		equ	0xc7
00C8:                   tk_gr_eq		equ	0xc8
00C9:                   tk_neql			equ	0xc9
00CA:                   tk_line			equ	0xca
00CB:                   tk_then			equ	0xcb
00CC:                   tk_to			equ	0xcc
00CD:                   tk_step			equ	0xcd
00CE:                   tk_deffn		equ	0xce
00CF:                   tk_dir			equ	0xcf
00D0:                   tk_format		equ	0xd0
00D1:                   tk_move			equ	0xd1
00D2:                   tk_erase		equ	0xd2
00D3:                   tk_open			equ	0xd3
00D4:                   tk_close		equ	0xd4
00D5:                   tk_merge		equ	0xd5
00D6:                   tk_verify		equ	0xd6
00D7:                   tk_beep			equ	0xd7
00D8:                   tk_circle		equ	0xd8
00D9:                   tk_pen			equ	0xd9
00DA:                   tk_paper		equ	0xda
00DB:                   tk_flash		equ	0xdb
00DC:                   tk_bright		equ	0xdc
00DD:                   tk_inverse		equ	0xdd
00DE:                   tk_over			equ	0xde
00DF:                   tk_out			equ	0xdf
00E0:                   tk_lprint		equ	0xe0
00E1:                   tk_llist		equ	0xe1
00E2:                   tk_stop			equ	0xe2
00E3:                   tk_read			equ	0xe3
00E4:                   tkdata			equ	0xe4
00E5:                   tk_restore		equ	0xe5
00E6:                   tk_new			equ	0xe6
00E7:                   tk_border		equ	0xe7
00E8:                   tk_continue		equ	0xe8
00E9:                   tk_dim			equ	0xe9
00EA:                   tk_rem			equ	0xea
00EB:                   tk_for			equ	0xeb
00EC:                   tk_goto			equ	0xec
00ED:                   tk_gosub		equ	0xed
00EE:                   tk_input		equ	0xee
00EF:                   tk_load			equ	0xef
00F0:                   tk_list			equ	0xf0
00F1:                   tk_let			equ	0xf1
00F2:                   tk_pause		equ	0xf2
00F3:                   tk_next			equ	0xf3
00F4:                   tk_poke			equ	0xf4
00F5:                   tk_print		equ	0xf5
00F6:                   tk_plot			equ	0xf6
00F7:                   tk_run			equ	0xf7
00F8:                   tk_save			equ	0xf8
00F9:                   tk_randomize	equ	0xf9
00FA:                   tk_if			equ	0xfa
00FB:                   tk_cls			equ	0xfb
00FC:                   tk_draw			equ	0xfc
00FD:                   tk_clear		equ	0xfd
00FE:                   tk_return		equ	0xfe
00FF:                   tk_copy			equ	0xff
0000:                   tk_delete		equ	0x00
0001:                   tk_edit			equ	0x01
0002:                   tk_renum		equ	0x02
0003:                   tk_palette		equ	0x03
0004:                   tk_sound		equ	0x04
0005:                   tk_onerr		equ	0x05
                        
                        
                        ; i/o ports
                        
00FE:                   ula				equ	0xfe
00FF:                   scld			equ	0xff
C0F5:                   ay_reg			equ	0xc0f5
00F6:                   ay_tmxdat		equ	0x00f6
BFFD:                   ay_128dat		equ	0xbffd
BF3B:                   ulaplus_reg		equ	0xbf3b
FF3B:                   ulaplus_dat		equ	0xff3b
                        
                        
                        ; restarts
                        
0000:                   start			equ	0x00
0008:                   error_1			equ	0x08
0010:                   print_a			equ	0x10
0018:                   get_ch			equ	0x18
0020:                   next_ch			equ	0x20
0028:                   fp_calc			equ	0x28
0030:                   bc_spaces		equ	0x30
0038:                   interrupt		equ	0x38
                        
                        
                        ; command classes
                        
0000:                   no_f_ops		equ	0x00
0001:                   var_rqd			equ	0x01
0002:                   expr_num_str	equ	0x02
0003:                   num_exp_0		equ	0x03
0004:                   chr_var			equ	0x04
0005:                   var_syn			equ	0x05
0006:                   num_exp			equ	0x06
0007:                   col_offst		equ	0x07
0008:                   two_c_s_num		equ	0x08
0009:                   two_csn_col		equ	0x09
000A:                   str_exp			equ	0x0a
000B:                   tap_offst		equ	0x0b
000C:                   numexp_nofops	equ	0x0c
                        
                        
                        ; errors
                        
00FF:                   OK						equ	0xff
0000:                   NEXT_without_FOR		equ	0x00
0001:                   Undefined_variable		equ	0x01
0002:                   Bad_subscript			equ	0x02
0003:                   Out_of_memory			equ	0x03
0004:                   Off_screen				equ	0x04
0005:                   Number_too_large		equ	0x05
0006:                   RETURN_without_GOSUB	equ	0x06
0007:                   End_of_file				equ	0x07
0008:                   STOP_statement			equ	0x08
0009:                   Bad_argument			equ	0x09
000A:                   Integer_out_of_range	equ	0x0a
000B:                   Syntax_error			equ	0x0b
000C:                   BREAK_CONTINUE_repeats	equ	0x0c
000D:                   End_of_DATA				equ	0x0d
000E:                   Bad_filename			equ	0x0e
000F:                   No_room_for_line		equ	0x0f
0010:                   STOP_in_INPUT			equ	0x10
0011:                   FOR_without_NEXT		equ	0x11
0012:                   Bad_device				equ	0x12
0013:                   Bad_colour				equ	0x13
0014:                   BREAK_into_program		equ	0x14
0015:                   Bad_CLEAR_address		equ	0x15
0016:                   Missing_statement		equ	0x16
0017:                   Bad_stream				equ	0x17
0018:                   Undefined_FN			equ	0x18
0019:                   Parameter_error			equ	0x19
001A:                   Loading_error			equ	0x1a
                        
                        
                        ; system variables
                        
4000:                   bitmap			equ	0x4000
5800:                   attrmap			equ	0x5800
5B00:                   palbuf			equ	0x5b00
                        
5BFE:                   oldsp			equ	0x5bfe		; (iy - 0x38)
5C00:                   kstate			equ	oldsp + 2	; (iy - 0x3a)
5C04:                   kstate_4		equ	kstate + 4	; (iy - 0x36)
5C08:                   lastk			equ	kstate + 8	; (iy - 0x32)
5C09:                   repdel			equ	lastk + 1	; (iy - 0x31)
5C0A:                   repper			equ	repdel + 1	; (iy - 0x30)
5C0B:                   defadd			equ	repper + 1	; (iy - 0x2f)
5C0C:                   defadd_h		equ	defadd + 1	; (iy - 0x2e)
5C0D:                   kdata			equ	defadd + 2	; (iy - 0x2d)
5C0E:                   vdudata			equ	kdata + 1	; (iy - 0x2c)
5C0F:                   vdudata_h		equ	vdudata + 1	; (iy - 0x2b)
5C10:                   strms			equ	vdudata + 2	; (iy - 0x2a)
5C12:                   strms_fe		equ	strms + 2	; (iy - 0x28)
5C14:                   strms_ff		equ	strms + 4	; (iy - 0x26)
5C16:                   strms_00		equ	strms + 6	; (iy - 0x24)
5C18:                   strms_01		equ	strms + 8	; (iy - 0x22)
5C1A:                   strms_02		equ	strms + 10	; (iy - 0x20)
5C1C:                   strms_03		equ	strms + 12	; (iy - 0x1e)
5C1E:                   strms_04		equ	strms + 14	; (iy - 0x1c)
5C20:                   strms_05		equ	strms + 16	; (iy - 0x1a)
5C22:                   strms_06		equ	strms + 18	; (iy - 0x18)
5C24:                   strms_07		equ	strms + 20	; (iy - 0x16)
5C26:                   strms_08		equ	strms + 22	; (iy - 0x14)
5C28:                   strms_09		equ	strms + 24	; (iy - 0x12)
5C2A:                   strms_10		equ	strms + 26	; (iy - 0x10)
5C2C:                   strms_11		equ	strms + 28	; (iy - 0x0e)
5C2E:                   strms_12		equ	strms + 30	; (iy - 0x0c)
5C30:                   strms_13		equ	strms + 32	; (iy - 0x0a)
5C32:                   strms_14		equ	strms + 34	; (iy - 0x08)
5C34:                   strms_15		equ	strms + 36	; (iy - 0x06)
5C36:                   chars			equ	strms + 38	; (iy - 0x04)
5C38:                   errsound		equ	chars + 2	; (iy - 0x02)
5C39:                   click			equ	errsound + 1; (iy - 0x01)
5C3A:                   errnr			equ	click + 1	; (iy + 0x00)
5C3B:                   flags			equ	errnr + 1	; (iy + 0x01)
5C3C:                   dflag			equ	flags + 1	; (iy + 0x02)
5C3D:                   errsp			equ	dflag + 1	; (iy + 0x03)
5C3F:                   listsp			equ	errsp + 2	; (iy + 0x05)
5C41:                   mode			equ	listsp + 2	; (iy + 0x07)
5C42:                   newppc			equ	mode + 1	; (iy + 0x08)
5C44:                   nsppc			equ	newppc + 2	; (iy + 0x0a)
5C45:                   ppc				equ	nsppc + 1	; (iy + 0x0b)
5C47:                   subppc			equ	ppc + 2		; (iy + 0x0d)
5C48:                   bordcr			equ	subppc + 1	; (iy + 0x0e)
5C49:                   eppc			equ	bordcr + 1	; (iy + 0x0f)
5C4A:                   eppc_h			equ	eppc + 1	; (iy + 0x10)
5C4B:                   vars			equ	eppc + 2	; (iy + 0x11)
5C4D:                   dest			equ	vars + 2	; (iy + 0x13)
5C4F:                   chans			equ	dest + 2	; (iy + 0x15)
5C51:                   curchl			equ	chans + 2	; (iy + 0x17)
5C53:                   prog			equ	curchl + 2	; (iy + 0x19)
5C55:                   nxtline			equ	prog + 2	; (iy + 0x1b)
5C57:                   datadd			equ	nxtline + 2	; (iy + 0x1d)
5C59:                   eline			equ	datadd + 2	; (iy + 0x1f)
5C5B:                   kcur			equ	eline	+2	; (iy + 0x21)
5C5D:                   chadd			equ	kcur + 2	; (iy + 0x23)
5C5F:                   xptr			equ	chadd + 2	; (iy + 0x25)
5C61:                   worksp			equ	xptr + 2	; (iy + 0x27)
5C63:                   stkbot			equ	worksp + 2	; (iy + 0x29)
5C65:                   stkend			equ	stkbot + 2	; (iy + 0x2b)
5C66:                   stkend_h		equ	stkend + 1	; (iy + 0x2c)
5C67:                   breg			equ	stkend + 2	; (iy + 0x2d)
5C68:                   mem				equ	breg + 1	; (iy + 0x2e)
5C6A:                   klflag			equ	mem + 2		; (iy + 0x30)
5C6B:                   dfsz			equ	klflag + 1	; (iy + 0x31)
5C6C:                   sdtop			equ	dfsz + 1	; (iy + 0x32)
5C6E:                   coppc			equ	sdtop + 2	; (iy + 0x34)
5C70:                   cosppc			equ	coppc + 2	; (iy + 0x36)
5C71:                   flage			equ	cosppc + 1	; (iy + 0x37)
5C72:                   stril			equ	flage + 1	; (iy + 0x38)
5C74:                   taddr			equ	stril + 2	; (iy + 0x3a)
5C76:                   seed			equ	taddr + 2	; (iy + 0x3c)
5C78:                   frames			equ	seed + 2	; (iy + 0x3e)
5C7A:                   frames_h		equ	frames + 2	; (iy + 0x40)
5C7B:                   udg				equ	frames + 3	; (iy + 0x41)
5C7D:                   xcoord			equ	udg + 2		; (iy + 0x43)
5C7E:                   ycoord			equ	xcoord + 1	; (iy + 0x44)
5C7F:                   onerrflag		equ	xcoord + 2	; (iy + 0x45)
5C80:                   onerrflag_h		equ	xcoord + 3	; (iy + 0x46)
5C81:                   user			equ	onerrflag + 2;(iy + 0x47)
5C82:                   echoe			equ	user + 1	; (iy + 0x48)
5C84:                   dfcc			equ	echoe + 2	; (iy + 0x4a)
5C86:                   dfccl			equ	dfcc + 2	; (iy + 0x4c)
5C88:                   sposnu			equ	dfccl + 2	; (iy + 0x4e)
5C89:                   sposnu_h		equ	sposnu + 1	; (iy + 0x4f)
5C8A:                   sposnl			equ	sposnu + 2	; (iy + 0x50)
5C8B:                   sposnl_h		equ	sposnl + 1	; (iy + 0x51)
5C8C:                   scrct			equ	sposnl + 2	; (iy + 0x52)
5C8D:                   attrp			equ	scrct + 1	; (iy + 0x53)
5C8E:                   maskp			equ	attrp + 1	; (iy + 0x54)
5C8F:                   attrt			equ	maskp + 1	; (iy + 0x55)
5C90:                   maskt			equ	attrt + 1	; (iy + 0x56)
5C91:                   pflag			equ	maskt + 1	; (iy + 0x57)
5C92:                   membot			equ	pflag + 1	; (iy + 0x58)
5C93:                   mem_0_1			equ	membot + 1	; (iy + 0x59)
5C94:                   mem_0_2			equ	membot + 2	; (iy + 0x5a)
5C95:                   mem_0_3			equ	membot + 3	; (iy + 0x5b)
5C96:                   mem_0_4			equ	membot + 4	; (iy + 0x5c)
5C97:                   mem_1			equ	membot + 5	; (iy + 0x5d)
5C98:                   mem_1_1			equ	membot + 6	; (iy + 0x5e)
5C99:                   mem_1_2			equ	membot + 7	; (iy + 0x5f)
5C9A:                   mem_1_3			equ	membot + 8	; (iy + 0x60)
5C9B:                   mem_1_4			equ	membot + 9	; (iy + 0x61)
5C9C:                   mem_2			equ	membot + 10	; (iy + 0x62)
5C9D:                   mem_2_1			equ	membot + 11	; (iy + 0x63)
5C9E:                   mem_2_2			equ	membot + 12	; (iy + 0x64)
5C9F:                   mem_2_3			equ	membot + 13	; (iy + 0x65)
5CA0:                   mem_2_4			equ	membot + 14	; (iy + 0x66)
5CA1:                   mem_3			equ	membot + 15	; (iy + 0x67)
5CA1:                   mem_3_1			equ	membot + 15	; (iy + 0x68)
5CA3:                   mem_3_2			equ	membot + 17	; (iy + 0x69)
5CA4:                   mem_3_3			equ	membot + 18	; (iy + 0x6a)
5CA5:                   mem_3_4			equ	membot + 19	; (iy + 0x6b)
5CA6:                   mem_4			equ	membot + 20	; (iy + 0x6c)
5CA7:                   mem_4_1			equ	membot + 21	; (iy + 0x6d)
5CA8:                   mem_4_2			equ	membot + 22	; (iy + 0x6e)
5CA9:                   mem_4_3			equ	membot + 23	; (iy + 0x6f)
5CAA:                   mem_4_4			equ	membot + 24	; (iy + 0x70)
5CAB:                   mem_5			equ	membot + 25	; (iy + 0x71)
5CAC:                   mem_5_1			equ	membot + 26	; (iy + 0x72)
5CAD:                   mem_5_2			equ	membot + 27	; (iy + 0x73)
5CAE:                   mem_5_3			equ	membot + 28	; (iy + 0x74)
5CAF:                   mem_5_4			equ	membot + 29	; (iy + 0x75)
5CB0:                   nmiadd			equ	membot + 30	; (iy + 0x76)
5CB2:                   ramtop			equ	nmiadd + 2	; (iy + 0x78)
5CB4:                   pramt			equ	ramtop + 2	; (iy + 0x7a)
5CB6:                   channels		equ	pramt + 2
                        
                        
                        ; system variable IY offsets
                        
                        ; negative
                        
0038:                   _oldsp			equ 0x38
003A:                   _kstate			equ	0x3a
0036:                   _kstate_4		equ	0x36
0032:                   _lastk			equ	0x32
0031:                   _repdel			equ	0x31
0030:                   _repper			equ	0x30
002F:                   _defadd			equ	0x2f
002E:                   _defadd_h		equ	0x2e
002D:                   _kdata			equ	0x2d
002C:                   _vdudata		equ	0x2c
002B:                   _vdudata_h		equ	0x2b
002A:                   _strms			equ	0x2a
0028:                   _strms_fe		equ	0x28
0026:                   _strms_ff		equ	0x26
0024:                   _strms_00		equ	0x24
0022:                   _strms_01		equ	0x22
0020:                   _strms_02		equ	0x20
001E:                   _strms_03		equ	0x1e
001C:                   _strms_04		equ	0x1c
001A:                   _strms_05		equ	0x1a
0018:                   _strms_06		equ	0x18
0016:                   _strms_07		equ	0x16
0014:                   _strms_08		equ	0x14
0012:                   _strms_09		equ	0x12
0010:                   _strms_10		equ	0x10
000E:                   _strms_11		equ	0x0e
000C:                   _strms_12		equ	0x0c
000A:                   _strms_13		equ	0x0a
0008:                   _strms_14		equ	0x08
0006:                   _strms_15		equ	0x06
0004:                   _chars			equ	0x04
0002:                   _errsound		equ	0x02
0001:                   _click			equ	0x01
                        
                        ; positive
                        
0000:                   _errnr			equ	0x00
0001:                   _flags			equ	0x01
0002:                   _dflag			equ	0x02
0003:                   _errsp			equ	0x03
0005:                   _listsp			equ	0x05
0007:                   _mode			equ	0x07
0008:                   _newppc			equ	0x08
000A:                   _nsppc			equ	0x0a
000B:                   _ppc			equ	0x0b
000D:                   _subppc			equ	0x0d
000E:                   _bordcr			equ	0x0e
000F:                   _eppc			equ	0x0f
0010:                   _eppc_h			equ	0x10
0011:                   _vars			equ	0x11
0013:                   _dest			equ	0x13
0015:                   _chans			equ	0x15
0017:                   _curchl			equ	0x17
0019:                   _prog			equ	0x19
001B:                   _nxtline		equ	0x1b
001D:                   _datadd			equ	0x1d
001F:                   _eline			equ	0x1f
0021:                   _kcur			equ	0x21
0022:                   _kcur_h			equ	0x22
0023:                   _chadd			equ	0x23
0025:                   _xptr			equ	0x25
0026:                   _xptr_h			equ	0x26
0027:                   _worksp			equ	0x27
0029:                   _stkbot			equ	0x29
002B:                   _stkend			equ	0x2b
002C:                   _stkend_h		equ	0x2c
002D:                   _breg			equ	0x2d
002E:                   _mem			equ	0x2e
0030:                   _klflag			equ	0x30
0031:                   _dfsz			equ	0x31
0032:                   _sdtop			equ	0x32
0034:                   _coppc			equ	0x34
0036:                   _cosppc			equ	0x36
0037:                   _flage			equ	0x37
0038:                   _stril			equ	0x38
003A:                   _taddr			equ	0x3a
003C:                   _seed			equ	0x3c
003E:                   _frames			equ	0x3e
0040:                   _frames_h		equ	0x40
0041:                   _udg			equ	0x41
0043:                   _xcoord			equ	0x43
0044:                   _ycoord			equ	0x44
0045:                   _onerrflag		equ	0x45
0046:                   _onerrflag_h	equ	0x46
0047:                   _user			equ	0x47
0048:                   _echoe			equ	0x48
004A:                   _dfcc			equ	0x4a
004C:                   _dfccl			equ	0x4c
004E:                   _sposnu			equ	0x4e
004F:                   _sposnu_h		equ	0x4f
0050:                   _sposnl			equ	0x50
0051:                   _sposnl_h		equ	0x51
0052:                   _scrct			equ	0x52
0053:                   _attrp			equ	0x53
0054:                   _maskp			equ	0x54
0055:                   _attrt			equ	0x55
0056:                   _maskt			equ	0x56
0057:                   _pflag			equ	0x57
0058:                   _membot			equ	0x58
0059:                   _mem_0_1		equ	0x59
005A:                   _mem_0_2		equ	0x5a
005B:                   _mem_0_3		equ	0x5b
005C:                   _mem_0_4		equ	0x5c
005D:                   _mem_1			equ	0x5d
005E:                   _mem_1_1		equ	0x5e
005F:                   _mem_1_2		equ	0x5f
0060:                   _mem_1_3		equ	0x60
0061:                   _mem_1_4		equ	0x61
0062:                   _mem_2			equ	0x62
0063:                   _mem_2_1		equ	0x63
0064:                   _mem_2_2		equ	0x64
0065:                   _mem_2_3		equ	0x65
0066:                   _mem_2_4		equ	0x66
0067:                   _mem_3			equ	0x67
0068:                   _mem_3_1		equ	0x68
0069:                   _mem_3_2		equ	0x69
006A:                   _mem_3_3		equ	0x6a
006B:                   _mem_3_4		equ	0x6b
006C:                   _mem_4			equ	0x6c
006D:                   _mem_4_1		equ	0x6d
006E:                   _mem_4_2		equ	0x6e
006F:                   _mem_4_3		equ	0x6f
0070:                   _mem_4_4		equ	0x70
0071:                   _mem_5			equ	0x71
0072:                   _mem_5_1		equ	0x72
0073:                   _mem_5_2		equ	0x73
0074:                   _mem_5_3		equ	0x74
0075:                   _mem_5_4		equ	0x75
0076:                   _nmiadd			equ	0x76
0078:                   _ramtop			equ	0x78
007A:                   _pramt			equ	0x7a
                        
0CF7:                   initpal equ 0x0cf7					; code used as palette data
                        
0000:                   _start:
0000: F3       [ 4]     	di								;
0001: AF       [ 8]     	xor		a						;
0002: C3A703   [18]     	jp		ram_check				; zx81
0005: 00       [22]     	nop								; se
0006: 00       [26]     	nop								;
                        									;
0007:                   l0007:								;
0007: C7       [11]     	rst		start					;
                        			
0008:                   _error_1:							; zx81
0008: 2A5D5C   [16]     	ld		hl, (chadd)				;
000B: 225F5C   [32]     	ld		(xptr), hl				;
000E: 1803     [44]     	jr		l0013					; se
                        
0010:                   _print_a:							; zx81
0010: C3F215   [10]     	jp		print_sp				;
                        
0013:                   l0013:								; se
0013: 225B5C   [16]     	ld		(kcur), hl				;
0016: 183B     [28]     	jr		error_2					; zx81
                        									;
0018:                   _get_ch:							;
0018: 2A5D5C   [16]     	ld		hl, (chadd)				;
001B: 7E       [23]     	ld		a, (hl)					;
                        
001C:                   test_sp:
001C: CD7D00   [17]     	call	l007d
001F: D0       [22|28]  	ret		nc
                        
0020:                   _next_ch:							; zx81
0020: CD7400   [17]     	call	ch_add_1				;
0023: 18F7     [29]     	jr		test_sp					;
                        
0025:                   l0025:								; se
0025: 333132            	defb	"312"					; version 3.1.2
                        
0028:                   _fp_calc:							; zx81
0028: C36233   [10]     	jp		calculate				;
                        
002B:                   l002b:								; se
002B: 5345              	defb	"SE"					; Test this location to check if
                        									; SE BASIC is present
                        									;
002D:                   bc_spaces1:							;
002D: 010100   [10]     	ld		bc, 1					;
                        
0030:                   _bc_spaces:							; zx81
0030: C5       [11]     	push	bc						;
0031: 2A615C   [27]     	ld		hl, (worksp)			; was eline
0034: E5       [38]     	push	hl						;
0035: C39E16   [48]     	jp		reserve					;
                        
0038:                   _interrupt:
0038: E5       [11]     	push	hl
0039: F5       [22]     	push	af
003A: 21785C   [32]     	ld		hl, frames				; se
003D: 34       [43]     	inc		(hl)					;
003E: 2006     [50|55]  	jr		nz, anyi				;
0040: 2C       [54]     	inc		l						;
0041: 34       [65]     	inc		(hl)					;
0042: 2002     [72|77]  	jr		nz, anyi				;
0044: 2C       [76]     	inc		l						;
0045: 34       [87]     	inc		(hl)					;
                        
0046:                   anyi:
0046: D5       [11]     	push	de
0047: C5       [22]     	push	bc
0048: CDBF02   [39]     	call	l02bf
004B: C1       [49]     	pop		bc
004C: D1       [59]     	pop		de						; sam
004D: F1       [69]     	pop		af						;
004E: E1       [79]     	pop		hl						;
004F: FB       [83]     	ei								;
0050: C9       [93]     	ret								;
                        
0051:                   l0051:								; se
0051: 4A47              	defb	"JG"					;
                        
0053:                   error_2:							; zx81
0053: E1       [10]     	pop		hl						;
0054: 6E       [17]     	ld		l, (hl)					;
                        									;
0055:                   error_3:							;
0055: FD7500   [19]     	ld		(iy + _errnr), l		;
0058: ED7B3D5C [39]     	ld		sp, (errsp)				;
005C: C3C516   [49]     	jp		set_mem
                        
005F:                   l005f:								; se
005F: FDCB01C6 [23]     	set		0, (iy + _flags)		;
0063: C3AF0D   [33]     	jp		l0daf					;
                        
0066:                   nmi:								; sam
0066: F5       [11]     	push	af						;
0067: E5       [22]     	push	hl						;
0068: 2AB05C   [38]     	ld		hl, (nmiadd)			;
006B: 7C       [42]     	ld		a, h					;
006C: B5       [46]     	or		l						;
006D: 2801     [53|58]  	jr		z, nmi_ret				; se
006F: E9       [57]     	jp		(hl)
                        
0070:                   nmi_ret:							; sam
0070: E1       [10]     	pop		hl						;
0071: F1       [20]     	pop		af						;
0072: ED45     [34]     	retn							;
                        
0074:                   ch_add_1:							; zx81
0074: 2A5D5C   [16]     	ld		hl, (chadd)				;
                        									;
0077:                   cursor_so:							;
0077: 23       [ 6]     	inc		hl						;
                        									;
0078:                   temp_ptr:							;
0078: 225D5C   [16]     	ld		(chadd), hl				;
007B: 7E       [23]     	ld		a, (hl)					;
007C: C9       [33]     	ret
                        
007D:                   l007d:								; se
007D: FE20     [ 7]     	cp		' '						;
007F: 37       [11]     	scf								;
0080: C8       [16|22]  	ret		z						;
0081: FE18     [23]     	cp		24						;
0083: D0       [28|34]  	ret		nc						;
0084: FE0D     [35]     	cp		ctrl_n_l				;
0086: C8       [40|46]  	ret		z						;
0087: FE06     [47]     	cp		6						;
0089: 3F       [51]     	ccf								;
008A: D0       [56|62]  	ret		nc						;
008B: FE10     [63]     	cp		ctrl_pen				;
008D: D8       [68|74]  	ret		c						;
008E: 23       [74]     	inc		hl						;
008F: FE16     [81]     	cp		ctrl_at					;
0091: 3801     [88|93]  	jr		c, l0094				;
0093: 23       [94]     	inc		hl						;
                        									;
0094:                   l0094:								;
0094: 37       [ 4]     	scf								;
0095: 225D5C   [20]     	ld		(chadd), hl				;
0098: C9       [30]     	ret								;
                        									;
0099:                   l0099:								;
0099: 7E       [ 7]     	ld		a, (hl)					;
009A: FE0D     [14]     	cp		0x0d					;
009C: C8       [19|25]  	ret		z						;
009D: CD0E10   [36]     	call	l100e					;
00A0: FE15     [43]     	cp		0x15					;
00A2: D0       [48|54]  	ret		nc						;
00A3: FE10     [55]     	cp		0x10					;
00A5: D20E10   [65|65]  	jp		nc, l100e				;
00A8: C9       [75]     	ret								;
                        
00A9:                   k_token:							; zx81, sam, se
00A9: 524EC449          	incbin		"data/tokens.txt"		;
00AD: 4E4B4559          
00B1: A450C946          
00B5: CE504F49          
00B9: 4ED45343          
00BD: 5245454E          
00C1: A4415454          
00C5: D241D454          
00C9: 41C25641          
00CD: 4CA4434F          
00D1: 44C55641          
00D5: CC4C45CE          
00D9: 5349CE43          
00DD: 4FD35441          
00E1: CE4153CE          
00E5: 4143D341          
00E9: 54CE4CCE          
00ED: 4558D049          
00F1: 4ED45351          
00F5: D25347CE          
00F9: 4142D350          
00FD: 4545CB49          
0101: CE5553D2          
0105: 535452A4          
0109: 434852A4          
010D: 4E4FD442          
0111: 49CE4FD2          
0115: 414EC43C          
0119: BD3EBD3C          
011D: BE4C494E          
0121: C5544845          
0125: CE54CF53          
0129: 5445D044          
012D: 45462046          
0131: CE4449D2          
0135: 464F524D          
0139: 41D44D4F          
013D: 56C54552          
0141: 4153C54F          
0145: 50454E20          
0149: A3434C4F          
014D: 534520A3          
0151: 4D455247          
0155: C5564552          
0159: 4946D942          
015D: 4545D043          
0161: 4952434C          
0165: C55045CE          
0169: 50415045          
016D: D2464C41          
0171: 53C84252          
0175: 494748D4          
0179: 494E5645          
017D: 5253C54F          
0181: 5645D24F          
0185: 55D44C50          
0189: 52494ED4          
018D: 4C4C4953          
0191: D453544F          
0195: D0524541          
0199: C4444154          
019D: C1524553          
01A1: 544F52C5          
01A5: 4E45D742          
01A9: 4F524445          
01AD: D2434F4E          
01B1: 54494E55          
01B5: C54449CD          
01B9: 5245CD46          
01BD: 4FD2474F          
01C1: 54CF474F          
01C5: 5355C249          
01C9: 4E5055D4          
01CD: 4C4F41C4          
01D1: 4C4953D4          
01D5: 4C45D450          
01D9: 415553C5          
01DD: 4E4558D4          
01E1: 504F4BC5          
01E5: 5052494E          
01E9: D4504C4F          
01ED: D45255CE          
01F1: 534156C5          
01F5: 52414E44          
01F9: 4F4D495A          
01FD: C549C643          
0201: 4CD34452          
0205: 41D7434C          
0209: 4541D252          
020D: 45545552          
0211: CE43414C          
0215: CC44454C          
0219: 4554C545          
021D: 4449D452          
0221: 454E55CD          
0225: 50414C45          
0229: 5454C553          
022D: 4F554EC4          
0231: 4F4E2045          
0235: 52524FD2          
                        
0239:                   k_unshifted:						; sam
0239: 42485936          	incbin		"data/unshifted.txt"		;
023D: 35544756          
0241: 4E4A5537          
0245: 34524643          
0249: 4D4B4938          
024D: 33454458          
0251: 0E4C4F39          
0255: 3257535A          
0259: 200D5030          
025D: 315141            
                        
0260:                   k_shifted:
0260: 0C070604          	defb	ctrl_rubout, ctrl_edit, ctrl_caps, ctrl_true_vid
0264: 05080A0B          	defb	ctrl_inv_vid, ctrl_left, ctrl_down, ctrl_up, ctrl_right
0268: 09                
0269: 0F                	defb	ctrl_graphics
                        
026A:                   k_function:							; se
026A: 7E2A3F5C          	incbin		"data/alphasym.txt"		;
026E: F77B7D5E          
0272: 7F2D2B3D          
0276: 2E2C3B22          
027A: EF3C7C3E          
027E: 5D2FAF60          
0282: 5B3A              
                        									;
0284:                   k_graphic:							;
0284: 5F214023          	incbin		"data/numsym.txt"		;
0288: 24252627          
028C: 2829              
                        
028E:                   keyboard:							; se
028E: 2E2F     [ 7]     	ld		l, 47					;
0290: 11FFFF   [17]     	ld		de, 0xffff
0293: 01FEFE   [27]     	ld		bc, 0xfefe				; zx81
                        									;
0296:                   l0296:								;
0296: ED78     [12]     	in		a, (c)					;
0298: 2F       [16]     	cpl
0299: E61F     [23]     	and		%00011111
029B: 280E     [30|35]  	jr		z, l02ab
029D: 67       [34]     	ld		h, a
029E: 7D       [38]     	ld		a, l						
                        
029F:                   l029f:
029F: 14       [ 4]     	inc		d
02A0: C0       [ 9|15]  	ret		nz
                        
02A1:                   l02a1:
02A1: D608     [ 7]     	sub		8
02A3: CB3C     [15]     	srl		h
02A5: 30FA     [22|27]  	jr		nc, l02a1
02A7: 53       [26]     	ld		d, e
02A8: 5F       [30]     	ld		e, a
02A9: 20F4     [37|42]  	jr		nz, l029f
                        
02AB:                   l02ab:
02AB: 2D       [ 4]     	dec		l
02AC: CB00     [12]     	rlc		b
02AE: 38E6     [19|24]  	jr		c, l0296
02B0: 7A       [23]     	ld		a, d
02B1: 3C       [27]     	inc		a
02B2: C8       [32|38]  	ret		z
02B3: FE28     [39]     	cp		40
02B5: C8       [44|50]  	ret		z
02B6: FE19     [51]     	cp		25
02B8: C8       [56|62]  	ret		z
02B9: 7B       [60]     	ld		a, e
02BA: 5A       [64]     	ld		e, d
02BB: 57       [68]     	ld		d, a
02BC: FE18     [75]     	cp		24
02BE: C9       [85]     	ret
                        
02BF:                   l02bf:
02BF: CD8E02   [17]     	call	keyboard
02C2: C0       [22|28]  	ret		nz
02C3: 21005C   [32]     	ld		hl, kstate
                        
02C6:                   l02c6:
02C6: CB7E     [12]     	bit		7, (hl)
02C8: 2007     [19|24]  	jr		nz, l02d1
02CA: 23       [25]     	inc		hl
02CB: 35       [36]     	dec		(hl)
02CC: 2B       [42]     	dec		hl
02CD: 2002     [49|54]  	jr		nz, l02d1
02CF: 36FF     [59]     	ld		(hl), 255
                        
02D1:                   l02d1:
02D1: 7D       [ 4]     	ld		a, l
02D2: 21045C   [14]     	ld		hl, kstate_4
02D5: BD       [18]     	cp		l
02D6: 20EE     [25|30]  	jr		nz, l02c6
02D8: CD1E03   [42]     	call	l031e
02DB: D0       [47|53]  	ret		nc
02DC: 21005C   [57]     	ld		hl, kstate
02DF: BE       [64]     	cp		(hl)
02E0: 282E     [71|76]  	jr		z, l0310
02E2: EB       [75]     	ex		de, hl
02E3: 21045C   [85]     	ld		hl, kstate_4
02E6: BE       [92]     	cp		(hl)
02E7: 2827     [99|104] 	jr		z, l0310
02E9: CB7E     [111]    	bit		7, (hl)
02EB: 2004     [118|123]	jr		nz, l02f1
02ED: EB       [122]    	ex		de, hl
02EE: CB7E     [134]    	bit		7, (hl)
02F0: C8       [139|145]	ret		z
                        
02F1:                   l02f1:
02F1: 77       [ 7]     	ld		(hl), a
02F2: 5F       [11]     	ld		e, a
02F3: 23       [17]     	inc		hl
02F4: 3605     [27]     	ld		(hl), 5
02F6: 3A095C   [40]     	ld		a, (repdel)
02F9: 23       [46]     	inc		hl
02FA: 77       [53]     	ld		(hl), a
02FB: 23       [59]     	inc		hl
02FC: FD5601   [78]     	ld		d, (iy + _flags)
02FF: FD4E07   [97]     	ld		c, (iy + _mode)
0302: E5       [108]    	push	hl
0303: CD3303   [125]    	call	l0333
0306: E1       [135]    	pop		hl
0307: 77       [142]    	ld		(hl), a
                        
0308:                   l0308:
0308: FDCB01EE [23]     	set		5, (iy + _flags)
030C: 32085C   [36]     	ld		(lastk), a
030F: C9       [46]     	ret
                        
0310:                   l0310:
0310: 23       [ 6]     	inc		hl
0311: 3605     [16]     	ld		(hl), 5
0313: 23       [22]     	inc		hl
0314: 35       [33]     	dec		(hl)
0315: C0       [38|44]  	ret		nz
0316: 3A0A5C   [51]     	ld		a, (repper)
0319: 77       [58]     	ld		(hl), a
031A: 23       [64]     	inc		hl
031B: 7E       [71]     	ld		a, (hl)
031C: 18EA     [83]     	jr		l0308
                        
031E:                   l031e:
031E: 42       [ 4]     	ld		b, d
031F: 7B       [ 8]     	ld		a, e
0320: 1600     [15]     	ld		d, 0
0322: FE27     [22]     	cp		39
0324: D0       [27|33]  	ret		nc
0325: FE18     [34]     	cp		24
0327: 2003     [41|46]  	jr		nz, l032c
0329: CB78     [49]     	bit		7, b
032B: C0       [54|60]  	ret		nz
                        
032C:                   l032c:
032C: 213902   [10]     	ld		hl, k_unshifted
032F: 19       [21]     	add		hl, de
0330: 37       [25]     	scf
0331: 7E       [32]     	ld		a, (hl)
0332: C9       [42]     	ret
                        
0333:                   l0333:
0333: 7B       [ 4]     	ld		a, e
0334: FE3A     [11]     	cp		':'
0336: 3827     [18|23]  	jr		c, l035f
0338: 0D       [22]     	dec		c
0339: FA4B03   [32|32]  	jp		m, l034b
033C: 280D     [39|44]  	jr		z, l034b				; se
033E: C64F     [46]     	add		a, 79					;
0340: FEA5     [53]     	cp		'V' + 0x4f				;
0342: D8       [58|64]  	ret		c						;
0343: C60D     [65]     	add		a, 13					;
0345: CD810F   [82]     	call	add_char				;
0348: 3E0F     [89]     	ld		a, ctrl_graphics		;
034A: C9       [99]     	ret								;
                        
034B:                   l034b:
034B: 212902   [10]     	ld		hl, k_function - 'A'
034E: CB40     [18]     	bit		0, b
0350: 284F     [25|30]  	jr		z, l03a1
0352: FDCB305E [45]     	bit		3, (iy + _klflag)
0356: 2802     [52|57]  	jr		z, l035a				; se
0358: EE20     [59]     	xor		%00100000				;
                        
035A:                   l035a:
035A: 04       [ 4]     	inc		b
035B: C0       [ 9|15]  	ret		nz
035C: EE20     [16]     	xor		%00100000				; se
035E: C9       [26]     	ret								;
                        
035F:                   l035f:
035F: FE30     [ 7]     	cp		'0'
0361: D8       [12|18]  	ret		c
0362: 0D       [16]     	dec		c
0363: FA9503   [26|26]  	jp		m, l0395
0366: 2019     [33|38]  	jr		nz, l0381
0368: 215402   [43]     	ld		hl, k_graphic - '0'
036B: CB68     [51]     	bit		5, b
036D: 2832     [58|63]  	jr		z, l03a1
036F: FE38     [65]     	cp		'8'
0371: 3007     [72|77]  	jr		nc, l037a
0373: D620     [79]     	sub		32
0375: 04       [83]     	inc		b
0376: C8       [88|94]  	ret		z
0377: C608     [95]     	add		a, 8
0379: C9       [105]    	ret
                        
037A:                   l037a:
037A: D636     [ 7]     	sub		54
037C: 04       [11]     	inc		b
037D: C8       [16|22]  	ret		z
037E: C6FE     [23]     	add		a, 254
0380: C9       [33]     	ret
                        
0381:                   l0381:
0381: 213002   [10]     	ld		hl, k_shifted - '0'
0384: FE39     [17]     	cp		'9'
0386: 2819     [24|29]  	jr		z, l03a1
0388: FE30     [31]     	cp		'0'
038A: 2815     [38|43]  	jr		z, l03a1
038C: E607     [45]     	and		%00000111
038E: C680     [52]     	add		a, 0x80
0390: 04       [56]     	inc		b
0391: C8       [61|67]  	ret		z
0392: EE0F     [68]     	xor		15
0394: C9       [78]     	ret
                        
0395:                   l0395:
0395: 04       [ 4]     	inc		b
0396: C8       [ 9|15]  	ret		z
0397: CB68     [17]     	bit		5, b
0399: 213002   [27]     	ld		hl, k_shifted - '0'
039C: 2003     [34|39]  	jr		nz, l03a1
039E: 215402   [44]     	ld		hl, k_graphic - '0'
                        
03A1:                   l03a1:
03A1: 1600     [ 7]     	ld		d, 0
03A3: 19       [18]     	add		hl, de
03A4: 7E       [25]     	ld		a, (hl)
03A5: C9       [35]     	ret
03A6: FF                	defb	0xff					; se
                        									;
03A7:                   ram_check:							;
03A7: 11FFFF   [10]     	ld		de, 0xffff				;
03AA: 12       [17]     	ld		(de), a					;
03AB: 1A       [24]     	ld		a, (de)					;
03AC: A7       [28]     	and		a						;
03AD: 2803     [35|40]  	jr		z, l03b2				;
03AF: AF       [39]     	xor		a						;
03B0: 167F     [46]     	ld		d, 0x7f					;
                        									;
03B2:                   l03b2:								;
03B2: C3CF11   [10]     	jp		l11cf					;
                        
03B5:                   l03b5:								; skel
03B5: F3       [ 4]     	di								;
03B6: 7D       [ 8]     	ld		a, l					;
03B7: CB3D     [16]     	srl		l						;
03B9: CB3D     [24]     	srl		l						;
03BB: 2F       [28]     	cpl								;
03BC: E603     [35]     	and		%00000011				;
03BE: 0600     [42]     	ld		b, 0					;
03C0: 4F       [46]     	ld		c, a					;
03C1: DD21D103 [60]     	ld		ix, l03d1				;
03C5: DD09     [75]     	add		ix, bc					;
03C7: 3A485C   [88]     	ld		a, (bordcr)				;
03CA: E638     [95]     	and		%00111000				;
03CC: 0F       [99]     	rrca							;
03CD: 0F       [103]    	rrca							;
03CE: 0F       [107]    	rrca							;
03CF: F608     [114]    	or		%00001000				;
                        									;
03D1:                   l03d1:								;
03D1: 00       [ 4]     	nop								;
03D2: 00       [ 8]     	nop								;
03D3: 00       [12]     	nop								;
03D4: 0C       [16]     	inc		c						;
03D5: 04       [20]     	inc		b						;
                        									;
03D6:                   l03d6:								;
03D6: 0D       [ 4]     	dec		c						;
03D7: 20FD     [11|16]  	jr		nz, l03d6				;
03D9: 0E3F     [18]     	ld		c, 63					;
03DB: 05       [22]     	dec		b						;
03DC: C2D603   [32|32]  	jp		nz, l03d6				;
03DF: EE10     [39]     	xor		%00010000				;
03E1: D3FE     [50]     	out		(ula), a				;
03E3: 4F       [54]     	ld		c, a					;
03E4: 44       [58]     	ld		b, h					;
03E5: CB67     [66]     	bit		4, a					;
03E7: 2009     [73|78]  	jr		nz, l03f2				;
03E9: 7A       [77]     	ld		a, d					;
03EA: B3       [81]     	or		e						;
03EB: 2809     [88|93]  	jr		z, l03f6				;
03ED: 1B       [94]     	dec		de						;
03EE: 79       [98]     	ld		a, c					;
03EF: 4D       [102]    	ld		c, l					;
03F0: DDE9     [110]    	jp		(ix)					;
                        									;
03F2:                   l03f2:								;
03F2: 4D       [ 4]     	ld		c, l					;
03F3: 0C       [ 8]     	inc		c						;
03F4: DDE9     [16]     	jp		(ix)					;
                        									;
03F6:                   l03f6:								;
03F6: FB       [ 4]     	ei								;
03F7: C9       [14]     	ret								;
                        
03F8:                   l03f8:
                        	fwait
03F8: EF       [11]     	rst	28h
                        	fmove
03F9: 31                	defb	0x31
                        	fint
03FA: 27                	defb	0x27
                        	fst		0
03FB: C0                	defb	0xc0 + 0
                        	fsub
03FC: 03                	defb	0x03
                        	fstk
03FD: 34                	defb	0x34
03FE: EC6C981F          	defb	0xec, 0x6c, 0x98, 0x1f, 0xf5
0402: F5                
                        	fmul
0403: 04                	defb	0x04
                        	fstk1
0404: A1                	defb	0xa1
                        	fadd
0405: 0F                	defb	0x0f
                        	fce
0406: 38                	defb	0x38
0407: 21925C   [21]     	ld		hl, membot
040A: 7E       [28]     	ld		a, (hl)
040B: A7       [32]     	and		a
040C: 205E     [39|44]  	jr		nz, ioorerr
040E: 23       [45]     	inc		hl
040F: 4E       [52]     	ld		c, (hl)
0410: 23       [58]     	inc		hl
0411: 46       [65]     	ld		b, (hl)
0412: 78       [69]     	ld		a, b
0413: 17       [73]     	rla
0414: 9F       [77]     	sbc		a, a
0415: B9       [81]     	cp		c
0416: 2054     [88|93]  	jr		nz, ioorerr
0418: 23       [94]     	inc		hl
0419: BE       [101]    	cp		(hl)
041A: 2050     [108|113]	jr		nz, ioorerr
041C: 3E3C     [115]    	ld		a, 60
041E: 80       [119]    	add		a, b
041F: F22504   [129|129]	jp		p, l0425
0422: E26C04   [139|139]	jp		po, ioorerr
                        
0425:                   l0425:
0425: 06FA     [ 7]     	ld		b, 250
                        
0427:                   l0427:
0427: D60C     [ 7]     	sub		12
0429: 04       [11]     	inc		b
042A: 30FB     [18|23]  	jr		nc, l0427
042C: 216E04   [28]     	ld		hl, l046e
042F: C5       [39]     	push	bc
0430: C60C     [46]     	add		a, 12
0432: CDF733   [63]     	call	loc_mem
0435: CDB833   [80]     	call	l33b8
                        	fwait
0438: EF       [91]     	rst	28h
                        	fmul
0439: 04                	defb	0x04
                        	fce
043A: 38                	defb	0x38
043B: F1       [101]    	pop		af
043C: 86       [108]    	add		a, (hl)
043D: 77       [115]    	ld		(hl), a
                        	fwait
043E: EF       [126]    	rst	28h
                        	fst		0
043F: C0                	defb	0xc0 + 0
                        	fdel
0440: 02                	defb	0x02
                        	fmove
0441: 31                	defb	0x31
                        	fce
0442: 38                	defb	0x38
0443: CD941E   [143]    	call	getbyte
0446: FE0B     [150]    	cp		11
0448: 3022     [157|162]	jr		nc, ioorerr
                        	fwait
044A: EF       [168]    	rst	28h
                        	fgt		0
044B: E0                	defb	0xe0 + 0
                        	fmul
044C: 04                	defb	0x04
                        	fgt		0
044D: E0                	defb	0xe0 + 0
                        	fstk
044E: 34                	defb	0x34
044F: 8043559F          	defb	0x80, 0x43, 0x55, 0x9f, 0x80
0453: 80                
                        	fxch
0454: 01                	defb	0x01
                        	fdiv
0455: 05                	defb	0x05
                        	fstk
0456: 34                	defb	0x34
0457: 356C              	defb	0x35, 0x6c
                        	fsub
0459: 03                	defb	0x03
                        	fce
045A: 38                	defb	0x38
045B: CD991E   [185]    	call	find_int
045E: C5       [196]    	push	bc
045F: CD991E   [213]    	call	find_int
0462: E1       [223]    	pop		hl
0463: 59       [227]    	ld		e, c
0464: 50       [231]    	ld		d, b
0465: 7B       [235]    	ld		a, e
0466: B2       [239]    	or		d
0467: C8       [244|250]	ret		z
0468: 1B       [250]    	dec		de
0469: C3B503   [260]    	jp		l03b5
                        
046C:                   ioorerr:							; sam
046C: CF       [11]     	rst		error_1					;
046D: 0A                	defb	Integer_out_of_range	;
                        
046E:                   l046e:
046E: 8902D012          	incbin		"data/semitone.data"
0472: 86890A97          
0476: 60758912          
047A: D5171F89          
047E: 1B904102          
0482: 8924D053          
0486: CA892E9D          
048A: 36B18938          
048E: FF493E89          
0492: 43FF6A73          
0496: 894FA700          
049A: 54895C00          
049E: 00008969          
04A2: 14F62489          
04A6: 76F11005          
                        
04AA:                   l04aa:								; se
04AA: 1A       [ 7]     	ld		a, (de)					;
04AB: E67F     [14]     	and		%01111111				;
04AD: FE20     [21]     	cp		' '						;
04AF: D0       [26|32]  	ret		nc						;
04B0: FE0D     [33]     	cp		ctrl_n_l				;
04B2: C8       [38|44]  	ret		z						;
04B3: FE08     [45]     	cp		ctrl_left				;
04B5: C8       [50|56]  	ret		z						;
04B6: C6DF     [57]     	add		a, 223					;
04B8: C9       [67]     	ret								;
                        									;
04B9:                   l04b9:								;
04B9: CD3025   [17]     	call	syntax_z				;
04BC: C8       [22|28]  	ret		z						;
04BD: CB7E     [34]     	bit		7, (hl)					;
04BF: C0       [39|45]  	ret		nz						;
04C0: CF       [50]     	rst		error_1					;
04C1: 0B                	defb	Syntax_error			;
                        
04C2:                   l04c2:								; skel
04C2: 213F05   [10]     	ld		hl, l053f				;
04C5: E5       [21]     	push	hl						;
04C6: CB7F     [29]     	bit		7, a					;
04C8: 21801F   [39]     	ld		hl, 0x1f80				;
04CB: 2803     [46|51]  	jr		z, l04d0				;
04CD: 21980C   [56]     	ld		hl, 0x0c98				;
                        									;
04D0:                   l04d0:								;
04D0: F3       [ 4]     	di								;
04D1: 08       [ 8]     	ex		af, af'					;'
04D2: 3E02     [15]     	ld		a, red					;
04D4: DD2B     [25]     	dec		ix						;
04D6: 13       [31]     	inc		de						;
04D7: 47       [35]     	ld		b, a					;
                        									;
04D8:                   l04d8:								;
04D8: 10FE     [ 8|13]  	djnz	l04d8					;
04DA: D3FE     [19]     	out		(ula), a				;
04DC: 06A4     [26]     	ld		b, 164					;
04DE: EE0F     [33]     	xor		%00001111				;
04E0: 2D       [37]     	dec		l						;
04E1: 20F5     [44|49]  	jr		nz, l04d8				;
04E3: 05       [48]     	dec		b						;
04E4: 25       [52]     	dec		h						;
04E5: F2D804   [62|62]  	jp		p, l04d8				;
04E8: 062F     [69]     	ld		b, 47					;
                        									;
04EA:                   l04ea:								;
04EA: 10FE     [ 8|13]  	djnz	l04ea					;
04EC: D3FE     [19]     	out		(ula), a				;
04EE: 0637     [26]     	ld		b, 55					;
04F0: 3E0D     [33]     	ld		a, 13					;
                        									;
04F2:                   l04f2:								;
04F2: 10FE     [ 8|13]  	djnz	l04f2					;
04F4: D3FE     [19]     	out		(ula), a				;
04F6: 08       [23]     	ex		af, af'					;'
04F7: 6F       [27]     	ld		l, a					;
04F8: 010E3B   [37]     	ld		bc, 0x3b0e				;
04FB: C30705   [47]     	jp		l0507					;
                        									;
04FE:                   l04fe:								;
04FE: 7B       [ 4]     	ld		a, e					;
04FF: B2       [ 8]     	or		d						;
0500: 280C     [15|20]  	jr		z, l050e				;
0502: DD6E00   [34]     	ld		l, (ix + 0x00)			;
                        									;
0505:                   l0505:								;
0505: 7C       [ 4]     	ld		a, h					;
0506: AD       [ 8]     	xor		l						;
                        									;
0507:                   l0507:								;
0507: 67       [ 4]     	ld		h, a					;
0508: 37       [ 8]     	scf								;
0509: 3E01     [15]     	ld		a, blue					;
050B: C32505   [25]     	jp		l0525					;
                        									;
050E:                   l050e:								;
050E: 6C       [ 4]     	ld		l, h					;
050F: 18F4     [16]     	jr		l0505					;
                        									;
0511:                   l0511:								;
0511: 79       [ 4]     	ld		a, c					;
0512: CB78     [12]     	bit		7, b					;
                        									;
0514:                   l0514:								;
0514: 10FE     [ 8|13]  	djnz	l0514					;
0516: 3004     [15|20]  	jr		nc, l051c				;
0518: 0642     [22]     	ld		b, 66					;
                        									;
051A:                   l051a:								;
051A: 10FE     [ 8|13]  	djnz	l051a					;
                        									;
051C:                   l051c:								;
051C: D3FE     [11]     	out		(ula), a				;
051E: 063E     [18]     	ld		b, 62					;
0520: 20EF     [25|30]  	jr		nz, l0511				;
0522: AF       [29]     	xor		a						;
0523: 05       [33]     	dec		b						;
0524: 3C       [37]     	inc		a						;
                        									;
0525:                   l0525:								;
0525: CB15     [ 8]     	rl		l						;
0527: C21405   [18|18]  	jp		nz, l0514				;
052A: 0631     [25]     	ld		b, 49					;
052C: DD23     [35]     	inc		ix						;
052E: 1B       [41]     	dec		de						;
052F: 3E7F     [48]     	ld		a, 127					;
0531: DBFE     [59]     	in		a, (ula)				;
0533: 1F       [63]     	rra								;
0534: D0       [68|74]  	ret		nc						;
0535: 7A       [72]     	ld		a, d					;
0536: 3C       [76]     	inc		a						;
0537: C2FE04   [86|86]  	jp		nz, l04fe				;
053A: 063B     [93]     	ld		b, 59					;
                        									;
053C:                   l053c:								;
053C: 10FE     [ 8|13]  	djnz	l053c					;
053E: C9       [18]     	ret								;
                        									;
053F:                   l053f:								;
053F: F5       [11]     	push	af						;
0540: 3A485C   [24]     	ld		a, (bordcr)				;
0543: E638     [31]     	and		%00111000				;
0545: 0F       [35]     	rrca							;
0546: 0F       [39]     	rrca							;
0547: 0F       [43]     	rrca							;
0548: D3FE     [54]     	out		(ula), a				;
054A: 3E7F     [61]     	ld		a, 127					;
054C: DBFE     [72]     	in		a, (ula)				;
054E: 1F       [76]     	rra								;
054F: FB       [80]     	ei								;
0550: 3802     [87|92]  	jr		c, l0554				;
0552: CF       [98]     	rst		error_1					;
0553: 0C                	defb	BREAK_CONTINUE_repeats	;
                        									;
0554:                   l0554:								;
0554: F1       [10]     	pop		af						;
0555: C9       [20]     	ret								;
                        									;
0556:                   l0556:								;
0556: F3       [ 4]     	di								;
0557: 14       [ 8]     	inc		d						;
0558: 08       [12]     	ex		af, af'					;'
0559: 15       [16]     	dec		d						;
055A: 3E0F     [23]     	ld		a, 15					;
055C: D3FE     [34]     	out		(ula), a				;
055E: 213F05   [44]     	ld		hl, l053f				;
0561: E5       [55]     	push	hl						;
0562: DBFE     [66]     	in		a, (ula)				;
0564: 1F       [70]     	rra								;
0565: E620     [77]     	and		%00100000				;
0567: F602     [84]     	or		red						;
0569: 4F       [88]     	ld		c, a					;
056A: BF       [92]     	cp		a						;
                        									;
056B:                   l056b:								;
056B: C0       [ 5|11]  	ret		nz						;
                        									;
056C:                   l056c:								;
056C: CDE705   [17]     	call	l05e7					;
056F: 30FA     [24|29]  	jr		nc, l056b				;
0571: 211501   [34]     	ld		hl, 0x0115				;
                        									;
0574:                   l0574:								;
0574: 10FE     [ 8|13]  	djnz	l0574					;
0576: 2B       [14]     	dec		hl						;
0577: 7D       [18]     	ld		a, l					;
0578: B4       [22]     	or		h						;
0579: 20F9     [29|34]  	jr		nz, l0574				;
057B: CDE305   [46]     	call	l05e3					;
057E: 30EB     [53|58]  	jr		nc, l056b				;
                        									;
0580:                   l0580:								;
0580: 069C     [ 7]     	ld		b, 156					;
0582: CDE305   [24]     	call	l05e3					;
0585: 30E4     [31|36]  	jr		nc, l056b				;
0587: 3EC6     [38]     	ld		a, 198					;
0589: B8       [42]     	cp		b						;
058A: 30E0     [49|54]  	jr		nc, l056c				;
058C: 24       [53]     	inc		h						;
058D: 20F1     [60|65]  	jr		nz, l0580				;
                        									;
058F:                   l058f:								;
058F: 06C9     [ 7]     	ld		b, 201					;
0591: CDE705   [24]     	call	l05e7					;
0594: 30D5     [31|36]  	jr		nc, l056b				;
0596: 78       [35]     	ld		a, b					;
0597: FED4     [42]     	cp		212						;
0599: 30F4     [49|54]  	jr		nc, l058f				;
059B: CDE705   [66]     	call	l05e7					;
059E: D0       [71|77]  	ret		nc						;
059F: 79       [75]     	ld		a, c					;
05A0: EE03     [82]     	xor		%00000011				;
05A2: 4F       [86]     	ld		c, a					;
05A3: 2600     [93]     	ld		h, 0					;
05A5: 06B0     [100]    	ld		b, 176					;
05A7: 181F     [112]    	jr		l05c8					;
                        									;
05A9:                   l05a9:								;
05A9: 08       [ 4]     	ex		af, af'					;'
05AA: 2007     [11|16]  	jr		nz, l05b3				;
05AC: 300F     [18|23]  	jr		nc, l05bd				;
05AE: DD7500   [37]     	ld		(ix + 0x00), l			;
05B1: 180F     [49]     	jr		l05c2					;
                        									;
05B3:                   l05b3:								;
05B3: CB11     [ 8]     	rl		c						;
05B5: AD       [12]     	xor		l						;
05B6: C0       [17|23]  	ret		nz						;
05B7: 79       [21]     	ld		a, c					;
05B8: 1F       [25]     	rra								;
05B9: 4F       [29]     	ld		c, a					;
05BA: C3C505   [39]     	jp		l05c5					; se
                        									;
05BD:                   l05bd:								; skel
05BD: DD7E00   [19]     	ld		a, (ix + 0x00)			;
05C0: AD       [23]     	xor		l						;
05C1: C0       [28|34]  	ret		nz						;
                        									;
05C2:                   l05c2:								;
05C2: DD23     [10]     	inc		ix						;
                        									;
05C4:                   l05c4:								;
05C4: 1B       [ 6]     	dec		de						;
                        									;
05C5:                   l05c5:								;
05C5: 08       [ 4]     	ex		af, af'					;'
05C6: 06B2     [11]     	ld		b, 178					;
                        									;
05C8:                   l05c8:								;
05C8: 2E01     [ 7]     	ld		l, %00000001			;
                        									;
05CA:                   l05ca:								;
05CA: CDE305   [17]     	call	l05e3					;
05CD: D0       [22|28]  	ret		nc						;
05CE: 3ECB     [29]     	ld		a, 203					;
05D0: B8       [33]     	cp		b						;
05D1: CB15     [41]     	rl		l						;
05D3: 06B0     [48]     	ld		b, 176					;
05D5: D2CA05   [58|58]  	jp		nc, l05ca				;
05D8: 7C       [62]     	ld		a, h					;
05D9: AD       [66]     	xor		l						;
05DA: 67       [70]     	ld		h, a					;
05DB: 7A       [74]     	ld		a, d					;
05DC: B3       [78]     	or		e						;
05DD: 20CA     [85|90]  	jr		nz, l05a9 				;
05DF: 7C       [89]     	ld		a, h					;
05E0: FE01     [96]     	cp		1						;
05E2: C9       [106]    	ret								;
                        									;
05E3:                   l05e3:								;
05E3: CDE705   [17]     	call	l05e7					;
05E6: D0       [22|28]  	ret		nc						;
                        									;
05E7:                   l05e7:								;
05E7: 3E16     [ 7]     	ld		a, 22					;
                        									;
05E9:                   l05e9:								;
05E9: 3D       [ 4]     	dec		a						;
05EA: 20FD     [11|16]  	jr		nz, l05e9				;
05EC: A7       [15]     	and		a						;
                        									;
05ED:                   l05ed:								;
05ED: 04       [ 4]     	inc		b						;
05EE: C8       [ 9|15]  	ret		z						;
05EF: 3E7F     [16]     	ld		a, 127					;
05F1: DBFE     [27]     	in		a, (ula)				;
05F3: 1F       [31]     	rra								;
05F4: D0       [36|42]  	ret		nc						;
05F5: A9       [40]     	xor		c						;
05F6: E620     [47]     	and		%00100000				;
05F8: 28F3     [54|59]  	jr		z, l05ed				;
05FA: 79       [58]     	ld		a, c					;
05FB: 2F       [62]     	cpl								;
05FC: 4F       [66]     	ld		c, a					;
05FD: E607     [73]     	and		%00000111				;
05FF: F608     [80]     	or		%00001000				;
0601: D3FE     [91]     	out		(ula), a				;
0603: 37       [95]     	scf								;
0604: C9       [105]    	ret								;
                        
0605:                   l0605:
0605: F1       [10]     	pop		af
0606: 3A745C   [23]     	ld		a, (taddr)
                        ;		sub		p_save + 1 % 256 	; not supported by binutils
0609: D60E     [30]     	sub		0x0e
060B: 32745C   [43]     	ld		(taddr), a
060E: CD8C1C   [60]     	call	class_a
0611: CD3025   [77]     	call	syntax_z
0614: 283C     [84|89]  	jr		z, l0652
0616: 3A745C   [97]     	ld		a, (taddr)
0619: 011100   [107]    	ld		bc, 0x0011
061C: A7       [111]    	and		a
061D: 2802     [118|123]	jr		z, l0621
061F: 0E22     [125]    	ld		c, 34
                        
0621:                   l0621:
0621: F7       [11]     	rst		bc_spaces
0622: D5       [22]     	push	de
0623: DDE1     [36]     	pop		ix
0625: 3E20     [43]     	ld		a, ' '
0627: 060B     [50]     	ld		b, 11
                        
0629:                   l0629:
0629: 12       [ 7]     	ld		(de), a
062A: 13       [13]     	inc		de
062B: 10FC     [21|26]  	djnz	l0629
062D: DD3601FF [40]     	ld		(ix + 0x01), 255
0631: CDF12B   [57]     	call	stk_fetch
0634: 0B       [63]     	dec		bc
0635: 21F6FF   [73]     	ld		hl, 0xfff6
0638: 09       [84]     	add		hl, bc
0639: 03       [90]     	inc		bc
063A: 300F     [97|102] 	jr		nc, l064b
063C: 3A745C   [110]    	ld		a, (taddr)
063F: A7       [114]    	and		a
0640: 2002     [121|126]	jr		nz, l0644
0642: CF       [132]    	rst		error_1
0643: 0E                	defb	Bad_filename
                        
0644:                   l0644:
0644: 79       [ 4]     	ld		a, c
0645: B0       [ 8]     	or		b
0646: 280A     [15|20]  	jr		z, l0652
0648: 010A00   [25]     	ld		bc, 10
                        
064B:                   l064b:
064B: DDE5     [15]     	push	ix
064D: E1       [25]     	pop		hl
064E: EB       [29]     	ex		de, hl
064F: 13       [35]     	inc		de
0650: EDB0     [51|21]  	ldir
                        
0652:                   l0652:
0652: DF       [11]     	rst		get_ch
0653: FEE4     [18]     	cp		tkdata
0655: 2049     [25|30]  	jr		nz, l06a0
0657: 3A745C   [38]     	ld		a, (taddr)
065A: FE03     [45]     	cp		3
065C: CA8A1C   [55|55]  	jp		z, report_c
065F: E7       [66]     	rst		next_ch
0660: CDB228   [83]     	call	look_vars
0663: CBF9     [91]     	set		7, c
0665: 300B     [98|103] 	jr		nc, l0672
0667: 3A745C   [111]    	ld		a, (taddr)
066A: 3D       [115]    	dec		a
066B: 210000   [125]    	ld		hl, 0
066E: 2815     [132|137]	jr		z, l0685
                        
0670:                   l0670:
0670: CF       [11]     	rst		error_1
0671: 01                	defb	Undefined_variable
                        
0672:                   l0672:
0672: C28A1C   [10|10]  	jp		nz, report_c
0675: CDB904   [27]     	call	l04b9
0678: 2818     [34|39]  	jr		z, l0692
067A: 23       [40]     	inc		hl
067B: 7E       [47]     	ld		a, (hl)
067C: DD770B   [66]     	ld		(ix + 0x0b), a
067F: 23       [72]     	inc		hl
0680: 7E       [79]     	ld		a, (hl)
0681: DD770C   [98]     	ld		(ix + 0x0c), a
0684: 23       [104]    	inc		hl
                        
0685:                   l0685:
0685: 3E01     [ 7]     	ld		a, 1
0687: DD710E   [26]     	ld		(ix + 0x0e), c
068A: CB71     [34]     	bit		6, c
068C: 2801     [41|46]  	jr		z, l068f
068E: 3C       [45]     	inc		a
                        
068F:                   l068f:
068F: DD7700   [19]     	ld		(ix + 0x00), a
                        
0692:                   l0692:
0692: EB       [ 4]     	ex		de, hl
0693: E7       [15]     	rst		next_ch
0694: FE29     [22]     	cp		')'
0696: 20DA     [29|34]  	jr		nz, l0672
0698: E7       [40]     	rst		next_ch
0699: CDEE1B   [57]     	call	check_end
069C: EB       [61]     	ex		de, hl
069D: C35A07   [71]     	jp		l075a
                        
06A0:                   l06a0:
06A0: FEAA     [ 7]     	cp		tk_screen_str
06A2: 201F     [14|19]  	jr		nz, l06c3
06A4: 3A745C   [27]     	ld		a, (taddr)
06A7: FE03     [34]     	cp		3
06A9: CA8A1C   [44|44]  	jp		z, report_c
06AC: E7       [55]     	rst		next_ch
06AD: CDEE1B   [72]     	call	check_end
06B0: 210040   [82]     	ld		hl, bitmap
06B3: DD360B00 [101]    	ld		(ix + 0x0b), 0
06B7: DD360C1B [120]    	ld		(ix + 0x0c), 27
06BB: DD750D   [139]    	ld		(ix + 0x0d), l
06BE: DD740E   [158]    	ld		(ix + 0x0e), h
06C1: 184D     [170]    	jr		l0710
                        
06C3:                   l06c3:
06C3: FEAF     [ 7]     	cp		tk_code
06C5: 204F     [14|19]  	jr		nz, l0716
06C7: 3A745C   [27]     	ld		a, (taddr)
06CA: FE03     [34]     	cp		3
06CC: CA8A1C   [44|44]  	jp		z, report_c
06CF: E7       [55]     	rst		next_ch
06D0: CD4820   [72]     	call	l2048
06D3: 200C     [79|84]  	jr		nz, l06e1
06D5: 3A745C   [92]     	ld		a, (taddr)
06D8: A7       [96]     	and		a
06D9: CA8A1C   [106|106]	jp		z, report_c
06DC: CDE61C   [123]    	call	no_to_stk
06DF: 180F     [135]    	jr		l06f0
                        
06E1:                   l06e1:
06E1: CD821C   [17]     	call	class_6
06E4: DF       [28]     	rst		get_ch
06E5: FE2C     [35]     	cp		','
06E7: 280C     [42|47]  	jr		z, l06f5
06E9: 3A745C   [55]     	ld		a, (taddr)
06EC: A7       [59]     	and		a
06ED: CA8A1C   [69|69]  	jp		z, report_c
                        
06F0:                   l06f0:
06F0: CDE61C   [17]     	call	no_to_stk
06F3: 1804     [29]     	jr		l06f9
                        
06F5:                   l06f5:
06F5: E7       [11]     	rst		next_ch
06F6: CD821C   [28]     	call	class_6
                        
06F9:                   l06f9:
06F9: CDEE1B   [17]     	call	check_end
06FC: CD991E   [34]     	call	find_int
06FF: DD700C   [53]     	ld		(ix + 0x0c), b
0702: DD710B   [72]     	ld		(ix + 0x0b), c
0705: CD991E   [89]     	call	find_int
0708: 60       [93]     	ld		h, b
0709: DD740E   [112]    	ld		(ix + 0x0e), h
070C: 69       [116]    	ld		l, c
070D: DD750D   [135]    	ld		(ix + 0x0d), l
                        
0710:                   l0710:
0710: DD360003 [19]     	ld		(ix + 0x00), 3
0714: 1844     [31]     	jr		l075a
                        
0716:                   l0716:
0716: FECA     [ 7]     	cp		tk_line
0718: 2809     [14|19]  	jr		z, l0723
071A: CDEE1B   [31]     	call	check_end
071D: DD360E80 [50]     	ld		(ix + 0x0e), 0x80
0721: 1817     [62]     	jr		l073a
                        
0723:                   l0723:
0723: 3A745C   [13]     	ld		a, (taddr)
0726: A7       [17]     	and		a
0727: C28A1C   [27|27]  	jp		nz, report_c
072A: E7       [38]     	rst		next_ch
072B: CD821C   [55]     	call	class_6
072E: CDEE1B   [72]     	call	check_end
0731: CD0139   [89]     	call	syntax3
0734: DD700E   [108]    	ld		(ix + 0x0e), b
0737: DD710D   [127]    	ld		(ix + 0x0d), c
                        
073A:                   l073a:
073A: ED5B535C [20]     	ld		de, (prog)
073E: 2A595C   [36]     	ld		hl, (eline)
0741: DD360000 [55]     	ld		(ix + 0x00), 0
0745: 37       [59]     	scf
0746: ED52     [74]     	sbc		hl, de
0748: DD740C   [93]     	ld		(ix + 0x0c), h
074B: DD750B   [112]    	ld		(ix + 0x0b), l
074E: 2A4B5C   [128]    	ld		hl, (vars)
0751: ED52     [143]    	sbc		hl, de
0753: DD7410   [162]    	ld		(ix + 0x10), h
0756: DD750F   [181]    	ld		(ix + 0x0f), l
0759: EB       [185]    	ex		de, hl
                        
075A:                   l075a:
075A: 3A745C   [13]     	ld		a, (taddr)
075D: A7       [17]     	and		a
075E: CA7009   [27|27]  	jp		z, l0970
0761: E5       [38]     	push	hl
0762: 011100   [48]     	ld		bc, 0x0011
0765: DD09     [63]     	add		ix, bc
                        
0767:                   l0767:
0767: AF       [ 4]     	xor		a
0768: DDE5     [19]     	push	ix
076A: 111100   [29]     	ld		de, 0x0011
076D: 37       [33]     	scf
076E: CD5605   [50]     	call	l0556
0771: DDE1     [64]     	pop		ix
0773: 30F2     [71|76]  	jr		nc, l0767
0775: 3EFE     [78]     	ld		a, 254
0777: CD0116   [95]     	call	l1601
077A: DD7E00   [114]    	ld		a, (ix + 0x00)
077D: FD3652FF [133]    	ld		(iy + _scrct), 255
0781: 0E80     [140]    	ld		c, 0x80
0783: DDBEEF   [159]    	cp		(ix - 0x11)
0786: 2002     [166|171]	jr		nz, l078a
0788: 0EF6     [173]    	ld		c, 246
                        
078A:                   l078a:
078A: FE04     [ 7]     	cp		4
078C: 30D9     [14|19]  	jr		nc, l0767
078E: 11D413   [24]     	ld		de, l13d5 - 1
0791: C5       [35]     	push	bc
0792: CD0A0C   [52]     	call	l0c0a
0795: C1       [62]     	pop		bc
0796: DDE5     [77]     	push	ix
0798: D1       [87]     	pop		de
0799: 21F0FF   [97]     	ld		hl, 0xfff0
079C: 19       [108]    	add		hl, de
079D: 7E       [115]    	ld		a, (hl)
079E: 060A     [122]    	ld		b, 10
07A0: 3C       [126]    	inc		a
07A1: 2003     [133|138]	jr		nz, l07a6
07A3: 79       [137]    	ld		a, c
07A4: 80       [141]    	add		a, b
07A5: 4F       [145]    	ld		c, a
                        
07A6:                   l07a6:
07A6: 13       [ 6]     	inc		de
07A7: 1A       [13]     	ld		a, (de)
07A8: BE       [20]     	cp		(hl)
07A9: 23       [26]     	inc		hl
07AA: 2001     [33|38]  	jr		nz, l07ad
07AC: 0C       [37]     	inc		c
                        
07AD:                   l07ad:
07AD: D7       [11]     	rst		print_a
07AE: 10F6     [19|24]  	djnz	l07a6
07B0: CB79     [27]     	bit		7, c
07B2: 20B3     [34|39]  	jr		nz, l0767
07B4: 3E0D     [41]     	ld		a, ctrl_n_l
07B6: D7       [52]     	rst		print_a
07B7: E1       [62]     	pop		hl
07B8: DD7E00   [81]     	ld		a, (ix + 0x00)
07BB: FE03     [88]     	cp		3
07BD: 280C     [95|100] 	jr		z, l07cb
07BF: 3A745C   [108]    	ld		a, (taddr)
07C2: 3D       [112]    	dec		a
07C3: CA0808   [122|122]	jp		z, l0808
07C6: FE02     [129]    	cp		2
07C8: CAB608   [139|139]	jp		z, l08b6
                        
07CB:                   l07cb:
07CB: E5       [11]     	push	hl
07CC: DD66FB   [30]     	ld		h, (ix - 0x05)
07CF: DD6EFA   [49]     	ld		l, (ix - 0x06)
07D2: DD560C   [68]     	ld		d, (ix + 0x0c)
07D5: DD5E0B   [87]     	ld		e, (ix + 0x0b)
07D8: 7D       [91]     	ld		a, l
07D9: B4       [95]     	or		h
07DA: 280D     [102|107]	jr		z, l07e9
07DC: ED52     [117]    	sbc		hl, de
07DE: 3826     [124|129]	jr		c, terror
07E0: 2807     [131|136]	jr		z, l07e9
07E2: DD7E00   [150]    	ld		a, (ix + 0x00)
07E5: FE03     [157]    	cp		3
07E7: 201D     [164|169]	jr		nz, terror
                        
07E9:                   l07e9:
07E9: E1       [10]     	pop		hl
07EA: 7D       [14]     	ld		a, l
07EB: B4       [18]     	or		h
07EC: 2006     [25|30]  	jr		nz, l07f4
07EE: DD660E   [44]     	ld		h, (ix + 0x0e)
07F1: DD6E0D   [63]     	ld		l, (ix + 0x0d)
                        
07F4:                   l07f4:
07F4: E5       [11]     	push	hl
07F5: DDE1     [25]     	pop		ix
07F7: 3A745C   [38]     	ld		a, (taddr)
07FA: FE02     [45]     	cp		2
07FC: 37       [49]     	scf
07FD: 2001     [56|61]  	jr		nz, l0800
07FF: A7       [60]     	and		a
                        
0800:                   l0800:
0800: 3EFF     [ 7]     	ld		a, 255
                        
0802:                   l0802:
0802: CD5605   [17]     	call	l0556
0805: D8       [22|28]  	ret		c						; skel
                        									;
0806:                   terror:								;
0806: CF       [11]     	rst		error_1					;
0807: 1A                	defb	Loading_error			;
                        
0808:                   l0808:
0808: DD560C   [19]     	ld		d, (ix + 0x0c)
080B: DD5E0B   [38]     	ld		e, (ix + 0x0b)
080E: E5       [49]     	push	hl
080F: 7D       [53]     	ld		a, l
0810: B4       [57]     	or		h
0811: 2006     [64|69]  	jr		nz, l0819
0813: 13       [70]     	inc		de
0814: 13       [76]     	inc		de
0815: 13       [82]     	inc		de
0816: EB       [86]     	ex		de, hl
0817: 180C     [98]     	jr		l0825
                        
0819:                   l0819:
0819: DD66FB   [19]     	ld		h, (ix - 0x05)
081C: DD6EFA   [38]     	ld		l, (ix - 0x06)
081F: EB       [42]     	ex		de, hl
0820: 37       [46]     	scf
0821: ED52     [61]     	sbc		hl, de
0823: 3809     [68|73]  	jr		c, l082e
                        
0825:                   l0825:
0825: 110500   [10]     	ld		de, 5
0828: 19       [21]     	add		hl, de
0829: 4D       [25]     	ld		c, l
082A: 44       [29]     	ld		b, h
082B: CD051F   [46]     	call	test_room
                        
082E:                   l082e:
082E: E1       [10]     	pop		hl
082F: DD7E00   [29]     	ld		a, (ix + 0x00)
0832: A7       [33]     	and		a
0833: 283E     [40|45]  	jr		z, l0873
0835: 7D       [44]     	ld		a, l
0836: B4       [48]     	or		h
0837: 2813     [55|60]  	jr		z, l084c
0839: 2B       [61]     	dec		hl
083A: 46       [68]     	ld		b, (hl)
083B: 2B       [74]     	dec		hl
083C: 4E       [81]     	ld		c, (hl)
083D: 2B       [87]     	dec		hl
083E: 03       [93]     	inc		bc
083F: 03       [99]     	inc		bc
0840: 03       [105]    	inc		bc
0841: DD225F5C [125]    	ld		(xptr), ix
0845: CDE819   [142]    	call	reclaim_2
0848: DD2A5F5C [162]    	ld		ix, (xptr)
                        
084C:                   l084c:
084C: 2A595C   [16]     	ld		hl, (eline)
084F: 2B       [22]     	dec		hl
0850: DD460C   [41]     	ld		b, (ix + 0x0c)
0853: DD4E0B   [60]     	ld		c, (ix + 0x0b)
0856: C5       [71]     	push	bc
0857: 03       [77]     	inc		bc
0858: 03       [83]     	inc		bc
0859: 03       [89]     	inc		bc
085A: DD7EFD   [108]    	ld		a, (ix - 0x03)
085D: F5       [119]    	push	af
085E: CD5516   [136]    	call	make_room
0861: 23       [142]    	inc		hl
0862: F1       [152]    	pop		af
0863: 77       [159]    	ld		(hl), a
0864: D1       [169]    	pop		de
0865: 23       [175]    	inc		hl
0866: 73       [182]    	ld		(hl), e
0867: 23       [188]    	inc		hl
0868: 72       [195]    	ld		(hl), d
0869: 23       [201]    	inc		hl
086A: E5       [212]    	push	hl
086B: DDE1     [226]    	pop		ix
086D: 37       [230]    	scf
086E: 3EFF     [237]    	ld		a, 255
0870: C30208   [247]    	jp		l0802
                        
0873:                   l0873:
0873: EB       [ 4]     	ex		de, hl
0874: 2A595C   [20]     	ld		hl, (eline)
0877: 2B       [26]     	dec		hl
0878: DD225F5C [46]     	ld		(xptr), ix
087C: DD460C   [65]     	ld		b, (ix + 0x0c)
087F: DD4E0B   [84]     	ld		c, (ix + 0x0b)
0882: C5       [95]     	push	bc
0883: CDE519   [112]    	call	reclaim_1
0886: C1       [122]    	pop		bc
0887: E5       [133]    	push	hl
0888: C5       [144]    	push	bc
0889: CD5516   [161]    	call	make_room
088C: DD2A5F5C [181]    	ld		ix, (xptr)
0890: 23       [187]    	inc		hl
0891: DD4610   [206]    	ld		b, (ix + 0x10)
0894: DD4E0F   [225]    	ld		c, (ix + 0x0f)
0897: 09       [236]    	add		hl, bc
0898: 224B5C   [252]    	ld		(vars), hl
089B: DD660E   [271]    	ld		h, (ix + 0x0e)
089E: 7C       [275]    	ld		a, h
089F: E6C0     [282]    	and		%11000000
08A1: 200A     [289|294]	jr		nz, l08ad
08A3: DD6E0D   [308]    	ld		l, (ix + 0x0d)
08A6: 22425C   [324]    	ld		(newppc), hl
08A9: FD360A00 [343]    	ld		(iy + _nsppc), 0
                        
08AD:                   l08ad:
08AD: D1       [10]     	pop		de
08AE: DDE1     [24]     	pop		ix
08B0: 37       [28]     	scf
08B1: 3EFF     [35]     	ld		a, 255
08B3: C30208   [45]     	jp		l0802
                        
08B6:                   l08b6:
08B6: DD460C   [19]     	ld		b, (ix + 0x0c)
08B9: DD4E0B   [38]     	ld		c, (ix + 0x0b)
08BC: C5       [49]     	push	bc
08BD: 03       [55]     	inc		bc
08BE: F7       [66]     	rst		bc_spaces
08BF: 3680     [76]     	ld		(hl), 0x80
08C1: EB       [80]     	ex		de, hl
08C2: D1       [90]     	pop		de
08C3: E5       [101]    	push	hl
08C4: E5       [112]    	push	hl
08C5: DDE1     [126]    	pop		ix
08C7: 37       [130]    	scf
08C8: 3EFF     [137]    	ld		a, 255
08CA: CD0208   [154]    	call	l0802
08CD: E1       [164]    	pop		hl
08CE: ED5B535C [184]    	ld		de, (prog)
                        
08D2:                   l08d2:
08D2: 7E       [ 7]     	ld		a, (hl)
08D3: E6C0     [14]     	and		%11000000
08D5: 2019     [21|26]  	jr		nz, l08f0
                        
08D7:                   l08d7:
08D7: 1A       [ 7]     	ld		a, (de)
08D8: 13       [13]     	inc		de
08D9: BE       [20]     	cp		(hl)
08DA: 23       [26]     	inc		hl
08DB: 2002     [33|38]  	jr		nz, l08df
08DD: 1A       [40]     	ld		a, (de)
08DE: BE       [47]     	cp		(hl)
                        
08DF:                   l08df:
08DF: 2B       [ 6]     	dec		hl
08E0: 1B       [12]     	dec		de
08E1: 3008     [19|24]  	jr		nc, l08eb
08E3: E5       [30]     	push	hl
08E4: EB       [34]     	ex		de, hl
08E5: CDB819   [51]     	call	next_one
08E8: E1       [61]     	pop		hl
08E9: 18EC     [73]     	jr		l08d7
                        
08EB:                   l08eb:
08EB: CD2C09   [17]     	call	l092c
08EE: 18E2     [29]     	jr		l08d2
                        
08F0:                   l08f0:
08F0: 7E       [ 7]     	ld		a, (hl)
08F1: 4F       [11]     	ld		c, a
08F2: FE80     [18]     	cp		0x80
08F4: C8       [23|29]  	ret		z
08F5: E5       [34]     	push	hl
08F6: 2A4B5C   [50]     	ld		hl, (vars)
                        
08F9:                   l08f9:
08F9: 7E       [ 7]     	ld		a, (hl)
08FA: FE80     [14]     	cp		0x80
08FC: 2825     [21|26]  	jr		z, l0923
08FE: B9       [25]     	cp		c
08FF: 2808     [32|37]  	jr		z, l0909
                        
0901:                   l0901:
0901: C5       [11]     	push	bc
0902: CDB819   [28]     	call	next_one
0905: C1       [38]     	pop		bc
0906: EB       [42]     	ex		de, hl
0907: 18F0     [54]     	jr		l08f9
                        
0909:                   l0909:
0909: E6E0     [ 7]     	and		%11100000
090B: FEA0     [14]     	cp		%10100000
090D: 2012     [21|26]  	jr		nz, l0921
090F: D1       [31]     	pop		de
0910: D5       [42]     	push	de
0911: E5       [53]     	push	hl
                        
0912:                   l0912:
0912: 13       [ 6]     	inc		de
0913: 1A       [13]     	ld		a, (de)
0914: 23       [19]     	inc		hl
0915: BE       [26]     	cp		(hl)
0916: 2006     [33|38]  	jr		nz, l091e
0918: 17       [37]     	rla
0919: 30F7     [44|49]  	jr		nc, l0912
091B: E1       [54]     	pop		hl
091C: 1803     [66]     	jr		l0921
                        
091E:                   l091e:
091E: E1       [10]     	pop		hl
091F: 18E0     [22]     	jr		l0901
                        
0921:                   l0921:
0921: 3EFF     [ 7]     	ld		a, 255
                        
0923:                   l0923:
0923: 3C       [ 4]     	inc		a
0924: D1       [14]     	pop		de
0925: EB       [18]     	ex		de, hl
0926: 37       [22]     	scf
0927: CD2C09   [39]     	call	l092c
092A: 18C4     [51]     	jr		l08f0
                        
092C:                   l092c:
092C: 2010     [ 7|12]  	jr		nz, l093e
092E: 225F5C   [23]     	ld		(xptr), hl
0931: 08       [27]     	ex		af, af'
0932: EB       [31]     	ex		de, hl
0933: CDB819   [48]     	call	next_one
0936: CDE819   [65]     	call	reclaim_2
0939: 08       [69]     	ex		af, af'
093A: EB       [73]     	ex		de, hl
093B: 2A5F5C   [89]     	ld		hl, (xptr)
                        
093E:                   l093e:
093E: D5       [11]     	push	de
093F: 08       [15]     	ex		af, af'
0940: CDB819   [32]     	call	next_one
0943: 08       [36]     	ex		af, af'
0944: 225F5C   [52]     	ld		(xptr), hl
0947: 2A535C   [68]     	ld		hl, (prog)
094A: E3       [87]     	ex		(sp), hl
094B: C5       [98]     	push	bc
094C: 3807     [105|110]	jr		c, l0955
094E: 2B       [111]    	dec		hl
094F: CD5516   [128]    	call	make_room
0952: 23       [134]    	inc		hl
0953: 1803     [146]    	jr		l0958
                        
0955:                   l0955:
0955: CD5516   [17]     	call	make_room
                        
0958:                   l0958:
0958: C1       [10]     	pop		bc
0959: D1       [20]     	pop		de
095A: 23       [26]     	inc		hl
095B: ED53535C [46]     	ld		(prog), de
095F: ED5B5F5C [66]     	ld		de, (xptr)
0963: C5       [77]     	push	bc
0964: D5       [88]     	push	de
0965: EB       [92]     	ex		de, hl
0966: EDB0     [108|21] 	ldir
0968: E1       [118]    	pop		hl
0969: C1       [128]    	pop		bc
096A: D5       [139]    	push	de
096B: CDE819   [156]    	call	reclaim_2
096E: D1       [166]    	pop		de
096F: C9       [176]    	ret
                        
0970:                   l0970:								; skel
0970: E5       [11]     	push	hl						;
0971: 3EFD     [18]     	ld		a, 253					;
0973: CD0116   [35]     	call	l1601
0976: AF       [39]     	xor		a						; skel
0977: 11B513   [49]     	ld		de, l13b6 - 1			;
097A: CD0A0C   [66]     	call	l0c0a					;
097D: FDCB02EE [89]     	set		5, (iy + _dflag)		;
0981: CDD415   [106]    	call	waitkey					;
0984: DDE5     [121]    	push	ix						;
0986: 111100   [131]    	ld		de, 0x0011				;
0989: AF       [135]    	xor		a						;
098A: CDC204   [152]    	call	l04c2					;
098D: DDE1     [166]    	pop		ix						;
098F: 0632     [173]    	ld		b, 50					;
                        									;
0991:                   l0991:								;
0991: 76       [ 4]     	halt							;
0992: 10FD     [12|17]  	djnz	l0991					;
0994: DD5E0B   [31]     	ld		e, (ix + 0x0b)			;
0997: DD560C   [50]     	ld		d, (ix + 0x0c)			;
099A: 3EFF     [57]     	ld		a, 255					;
099C: DDE1     [71]     	pop		ix						;
099E: C3C204   [81]     	jp		l04c2					;
                        
09A1:                   l09a1:								; se
09A1: DF       [11]     	rst		get_ch					;
09A2: 2B       [17]     	dec		hl						;
09A3: 7E       [24]     	ld		a, (hl)					;
09A4: FED2     [31]     	cp		tk_erase				;
09A6: 2007     [38|43]  	jr		nz, l09af				;
09A8: DF       [49]     	rst		get_ch					;
09A9: CDEE1B   [66]     	call	check_end				;
09AC: C35439   [76]     	jp		l3954					;
                        									;
09AF:                   l09af:								;
09AF: DF       [11]     	rst		get_ch					;
09B0: FE37     [18]     	cp		'7'						;
09B2: 2807     [25|30]  	jr		z, l09bb				;
09B4: FE38     [32]     	cp		'8'						;
09B6: CA2739   [42|42]  	jp		z, l3927				;
09B9: CF       [53]     	rst		error_1					;
09BA: 0B                	defb	Syntax_error			;
                        									;
09BB:                   l09bb:								;
09BB: E7       [11]     	rst		next_ch					;
09BC: CDEE1B   [28]     	call	check_end				;
09BF: C31A1F   [38]     	jp		l1f1a					;
                        									;
09C2:                   l09c2:								;
09C2: E7       [11]     	rst		next_ch					;
                        									;
09C3:                   l09c3:								;
09C3: CD7A1C   [17]     	call	class_8					;
09C6: CD3025   [34]     	call	syntax_z				;
09C9: 281A     [41|46]  	jr		z, l09e5				;
09CB: CDD52D   [58]     	call	fp_to_a					;
09CE: F5       [69]     	push	af						;
09CF: CDD52D   [86]     	call	fp_to_a					;
09D2: FE11     [93]     	cp		17						;
09D4: D26C04   [103|103]	jp		nc, ioorerr				;
09D7: 3D       [107]    	dec		a						;
09D8: 3C       [111]    	inc		a						;
09D9: FA6C04   [121|121]	jp		m, ioorerr				;
09DC: 01F5C0   [131]    	ld		bc, ay_reg				;
09DF: ED79     [143]    	out		(c), a					;
09E1: F1       [153]    	pop		af						;
09E2: CDCE38   [170]    	call	l38ce					;
                        									;
09E5:                   l09e5:								;
09E5: DF       [11]     	rst		get_ch					;
09E6: FE3B     [18]     	cp		';'						;
09E8: 28D8     [25|30]  	jr		z, l09c2				;
09EA: CDEE1B   [42]     	call	check_end				;
09ED: C9       [52]     	ret								;
                        
09EE:                   setudg:								; se
09EE: 21083E   [10]     	ld		hl, 0x3e08				;
09F1: C3D416   [20]     	jp		setudg2					;
                        
09F4:                   prmain:								;
09F4: CD030B   [17]     	call	l0b03					;
09F7: FE18     [24]     	cp		24						;
09F9: 3060     [31|36]  	jr		nc, l0a5b				;
09FB: FE06     [38]     	cp		6						;
09FD: DA810C   [48|48]  	jp		c, l0c81				;
0A00: FE18     [55]     	cp		24						;
0A02: 3055     [62|67]  	jr		nc, l0a59
0A04: 1600     [69]     	ld		d, 0
0A06: 5F       [73]     	ld		e, a
0A07: 210B0A   [83]     	ld		hl, l0a11 - 6
0A0A: 19       [94]     	add		hl, de
0A0B: 5E       [101]    	ld		e, (hl)
0A0C: 19       [112]    	add		hl, de
0A0D: E5       [123]    	push	hl
0A0E: C3030B   [133]    	jp		l0b03
                        
0A11:                   l0a11:
0A11: 41                	defb	l0a52 - $
0A12: 47                	defb	l0a59 - $
0A13: 10                	defb	l0a23 - $
0A14: 23                	defb	l0a37 - $
0A15: 44                	defb	l0a59 - $
0A16: 43                	defb	l0a59 - $
0A17: 42                	defb	l0a59 - $
0A18: 31                	defb	l0a49 - $
0A19: 40                	defb	l0a59 - $
0A1A: 3F                	defb	l0a59 - $
0A1B: 4F                	defb	l0a6a - $
0A1C: 4E                	defb	l0a6a - $
0A1D: 4D                	defb	l0a6a - $
0A1E: 4C                	defb	l0a6a - $
0A1F: 4B                	defb	l0a6a - $
0A20: 4A                	defb	l0a6a - $
0A21: 44                	defb	l0a65 - $
0A22: 43                	defb	l0a65 - $
                        
0A23:                   l0a23:
0A23: 0C       [ 4]     	inc		c
0A24: 3E22     [11]     	ld		a, 34
0A26: B9       [15]     	cp		c
0A27: C2D90D   [25|25]  	jp		nz, l0dd9				; se
0A2A: 0D       [29]     	dec		c						;
0A2B: 3E18     [36]     	ld		a, 24					;
0A2D: B8       [40]     	cp		b						;
0A2E: C2D90D   [50|50]  	jp		nz, l0dd9				;
0A31: 0E02     [57]     	ld		c, 2					;
0A33: 04       [61]     	inc		b						;
0A34: C3D90D   [71]     	jp		l0dd9
                        
0A37:                   l0a37:
0A37: 3A915C   [13]     	ld		a, (pflag)
0A3A: F5       [24]     	push	af
0A3B: 3E20     [31]     	ld		a, ' '
0A3D: FD365701 [50]     	ld		(iy + _pflag), 1
0A41: CDD90A   [67]     	call	l0ad9					; se
0A44: F1       [77]     	pop		af
0A45: 32915C   [90]     	ld		(pflag), a
0A48: C9       [100]    	ret
                        
0A49:                   l0a49:
0A49: 0E21     [ 7]     	ld		c, 33
0A4B: CD550C   [24]     	call	l0c55
0A4E: 05       [28]     	dec		b
0A4F: C3D90D   [38]     	jp		l0dd9
                        
0A52:                   l0a52:
0A52: 79       [ 4]     	ld		a, c
0A53: 3D       [ 8]     	dec		a
0A54: 3D       [12]     	dec		a
0A55: E610     [19]     	and		%00010000
0A57: 186A     [31]     	jr		l0ac3
                        
0A59:                   l0a59:
0A59: 3E3F     [ 7]     	ld		a, '?'
                        
0A5B:                   l0a5b:
0A5B: 187C     [12]     	jr		l0ad9
                        
0A5D:                   l0a5d:
0A5D: 320F5C   [13]     	ld		(vdudata_h), a
0A60: 11870A   [23]     	ld		de, l0a87
0A63: 180B     [35]     	jr		l0a70
                        
0A65:                   l0a65:
0A65: 115D0A   [10]     	ld		de, l0a5d
0A68: 1803     [22]     	jr		l0a6d
                        
0A6A:                   l0a6a:
0A6A: 11870A   [10]     	ld		de, l0a87
                        
0A6D:                   l0a6d:
0A6D: 320E5C   [13]     	ld		(vdudata), a
                        
0A70:                   l0a70:
0A70: 2A515C   [16]     	ld		hl, (curchl)
0A73: 73       [23]     	ld		(hl), e
0A74: 23       [29]     	inc		hl
0A75: 72       [36]     	ld		(hl), d
0A76: C9       [46]     	ret
                        
0A77:                   l0a58:								; se
0A77: CD941E   [17]     	call	getbyte					;
0A7A: 328D5C   [30]     	ld		(attrp), a				;
0A7D: C9       [40]     	ret								;
                        									;
0A7E:                   l0a7e:								;
0A7E: ED42     [15]     	sbc		hl, bc					;
0A80: C62F     [22]     	add		a, '0' - 1				;
0A82: 12       [29]     	ld		(de), a					;
0A83: 13       [35]     	inc		de						;
0A84: C9       [45]     	ret								;
                        
0A85: 5356              	defb	"SV"					;
                        
0A87:                   l0a87:
0A87: 11F409   [10]     	ld		de, prmain
0A8A: CD700A   [27]     	call	l0a70
0A8D: 2A0E5C   [43]     	ld		hl, (vdudata)
0A90: 57       [47]     	ld		d, a
0A91: 7D       [51]     	ld		a, l
0A92: FE16     [58]     	cp		22
0A94: DA1122   [68|68]  	jp		c, l2211
0A97: 2029     [75|80]  	jr		nz, l0ac2
0A99: 4A       [79]     	ld		c, d
0A9A: 44       [83]     	ld		b, h
0A9B: 3E1F     [90]     	ld		a, 31
0A9D: 91       [94]     	sub		c
0A9E: 3806     [101|106]	jr		c, l0aa6
0AA0: C602     [108]    	add		a, 2
0AA2: 4F       [112]    	ld		c, a
0AA3: 3E16     [119]    	ld		a, 22
0AA5: 90       [123]    	sub		b
                        
0AA6:                   l0aa6:
0AA6: DA9F1E   [10|10]  	jp		c, report_b1
0AA9: 3C       [14]     	inc		a
0AAA: 47       [18]     	ld		b, a
0AAB: 04       [22]     	inc		b
0AAC: FDCB0246 [42]     	bit		0, (iy + _dflag)
0AB0: C2550C   [52|52]  	jp		nz, l0c55
0AB3: FDBE31   [71]     	cp		(iy + _dfsz)
0AB6: DA860C   [81|81]  	jp		c, oserror
0AB9: C3D90D   [91]     	jp		l0dd9
                        
0ABC:                   l0abc:								; se
0ABC: CD4F1F   [17]     	call	pau2					;
0ABF: C3991E   [27]     	jp		find_int				;
                        
0AC2:                   l0ac2:
0AC2: 7C       [ 4]     	ld		a, h
                        
0AC3:                   l0ac3:
0AC3: CD030B   [17]     	call	l0b03
0AC6: 81       [21]     	add		a, c
0AC7: 3D       [25]     	dec		a
0AC8: E61F     [32]     	and		%00011111
0ACA: C8       [37|43]  	ret		z
0ACB: FDCB01C6 [60]     	set		0, (iy + _flags)
0ACF: 57       [64]     	ld		d, a
                        
0AD0:                   l0ad0:
0AD0: 3E20     [ 7]     	ld		a, ' '
0AD2: CD3B0C   [24]     	call	l0c3b
0AD5: 15       [28]     	dec		d
0AD6: 20F8     [35|40]  	jr		nz, l0ad0
0AD8: C9       [45]     	ret
                        
0AD9:                   l0ad9:
0AD9: CD1D39   [17]     	call	l391d
                        
0ADC:                   l0adc:								; skel
0ADC: FDCB0246 [20]     	bit		0, (iy + _dflag)		;
0AE0: 2008     [27|32]  	jr		nz, l0aea				;
0AE2: ED43885C [47]     	ld		(sposnu), bc			;
0AE6: 22845C   [63]     	ld		(dfcc), hl				;
0AE9: C9       [73]     	ret								;
                        									;
0AEA:                   l0aea:								;
0AEA: ED438A5C [20]     	ld		(sposnl), bc			;
0AEE: ED43825C [40]     	ld		(echoe), bc				;
0AF2: 22865C   [56]     	ld		(dfccl), hl				;
0AF5: C9       [66]     	ret								;
                        
0AF6:                   l0af6:								; se
0AF6: 2A595C   [16]     	ld		hl, (eline)				;
0AF9: ED5B5B5C [36]     	ld		de, (kcur)				;
0AFD: A7       [40]     	and		a						;
0AFE: ED52     [55]     	sbc		hl, de					;
0B00: 0620     [62]     	ld		b, 0x20					;
0B02: C9       [72]     	ret								;
                        
0B03:                   l0b03:
0B03: 2A845C   [16]     	ld		hl, (dfcc)
0B06: ED4B885C [36]     	ld		bc, (sposnu)
0B0A: FDCB0246 [56]     	bit		0, (iy + _dflag)
0B0E: C8       [61|67]  	ret		z
0B0F: 2A865C   [77]     	ld		hl, (dfccl)
0B12: ED4B8A5C [97]     	ld		bc, (sposnl)
0B16: C9       [107]    	ret
                        
0B17:                   streamfe:							; sam
0B17: 3EFE     [ 7]     	ld		a, 254					;
0B19: C30116   [17]     	jp		l1601					;
                        
0B1C:                   copy:								; se
0B1C: CD991E   [17]     	call	find_int				;
0B1F: 78       [21]     	ld		a, b					;
0B20: B1       [25]     	or		c 						;
0B21: C8       [30|36]  	ret		z						;
0B22: C5       [41]     	push	bc						;
0B23: C9       [51]     	ret								;
                        
0B24:                   l0b24:
0B24: FE80     [ 7]     	cp		0x80
0B26: 383D     [14|19]  	jr		c, l0b65
0B28: FE90     [21]     	cp		144
0B2A: 3026     [28|33]  	jr		nc, l0b52
0B2C: 47       [32]     	ld		b, a
0B2D: CD380B   [49]     	call	l0b38
0B30: CD030B   [66]     	call	l0b03
0B33: 11925C   [76]     	ld		de, membot
0B36: 1847     [88]     	jr		l0b7f
                        
0B38:                   l0b38:
0B38: 21925C   [10]     	ld		hl, membot
0B3B: CD3E0B   [27]     	call	l0b3e
                        
0B3E:                   l0b3e:
0B3E: CB18     [ 8]     	rr		b
0B40: 9F       [12]     	sbc		a, a
0B41: E60F     [19]     	and		%00001111
0B43: 4F       [23]     	ld		c, a
0B44: CB18     [31]     	rr		b
0B46: 9F       [35]     	sbc		a, a
0B47: E6F0     [42]     	and		%11110000
0B49: B1       [46]     	or		c
0B4A: 0E04     [53]     	ld		c, 4
                        
0B4C:                   l0b4c:
0B4C: 77       [ 7]     	ld		(hl), a
0B4D: 0D       [11]     	dec		c
0B4E: 23       [17]     	inc		hl
0B4F: 20FB     [24|29]  	jr		nz, l0b4c
0B51: C9       [34]     	ret
                        
0B52:                   l0b52:
0B52: D6A5     [ 7]     	sub		tk_rnd
0B54: 3009     [14|19]  	jr		nc, l0b5f
0B56: C615     [21]     	add		a, 21
0B58: C5       [32]     	push	bc
0B59: ED4B7B5C [52]     	ld		bc, (udg)
0B5D: 180B     [64]     	jr		l0b6a
                        
0B5F:                   l0b5f:
0B5F: CD100C   [17]     	call	l0c10
0B62: C3030B   [27]     	jp		l0b03
                        
0B65:                   l0b65:
0B65: C5       [11]     	push	bc
0B66: ED4B365C [31]     	ld		bc, (chars)
                        
0B6A:                   l0b6a:
0B6A: EB       [ 4]     	ex		de, hl
0B6B: 213B5C   [14]     	ld		hl, flags
0B6E: CB86     [29]     	res		0, (hl)
0B70: FE20     [36]     	cp		' '
0B72: 2002     [43|48]  	jr		nz, l0b76
0B74: CBC6     [58]     	set		0, (hl)
                        
0B76:                   l0b76:
0B76: 6F       [ 4]     	ld		l, a
0B77: 2600     [11]     	ld		h, 0
0B79: 29       [22]     	add		hl, hl
0B7A: 29       [33]     	add		hl, hl
0B7B: 29       [44]     	add		hl, hl
0B7C: 09       [55]     	add		hl, bc
0B7D: EB       [59]     	ex		de, hl
0B7E: C1       [69]     	pop		bc
                        
0B7F:                   l0b7f:
0B7F: 79       [ 4]     	ld		a, c
0B80: 3D       [ 8]     	dec		a
0B81: 3E21     [15]     	ld		a, 33
0B83: 2002     [22|27]  	jr		nz, l0b87
0B85: 4F       [26]     	ld		c, a
0B86: 05       [30]     	dec		b
                        
0B87:                   l0b87:
0B87: B9       [ 4]     	cp		c
0B88: D5       [15]     	push	de
0B89: CC550C   [25|32]  	call	z, l0c55
0B8C: D1       [35]     	pop		de
0B8D: C5       [46]     	push	bc
0B8E: E5       [57]     	push	hl
0B8F: 3A915C   [70]     	ld		a, (pflag)
0B92: 06FF     [77]     	ld		b, 255
0B94: 1F       [81]     	rra
0B95: 3801     [88|93]  	jr		c, l0b98
0B97: 04       [92]     	inc		b
                        
0B98:                   l0b98:
0B98: 1F       [ 4]     	rra
0B99: 1F       [ 8]     	rra
0B9A: 9F       [12]     	sbc		a, a
0B9B: 4F       [16]     	ld		c, a
0B9C: 3E08     [23]     	ld		a, 8
0B9E: A7       [27]     	and		a
0B9F: EB       [31]     	ex		de, hl
                        
0BA0:                   l0ba0:
0BA0: 08       [ 4]     	ex		af, af'
0BA1: 1A       [11]     	ld		a, (de)
0BA2: A0       [15]     	and		b
0BA3: A9       [19]     	xor		c
0BA4: AE       [26]     	xor		(hl)
0BA5: 12       [33]     	ld		(de), a
0BA6: 08       [37]     	ex		af, af'
0BA7: 14       [41]     	inc		d
0BA8: 3D       [45]     	dec		a
0BA9: 23       [51]     	inc		hl
0BAA: 20F4     [58|63]  	jr		nz, l0ba0
0BAC: EB       [62]     	ex		de, hl
0BAD: 25       [66]     	dec		h
0BAE: CDDB0B   [83]     	call	l0bdb					; se
0BB1: E1       [93]     	pop		hl
0BB2: C1       [103]    	pop		bc
0BB3: 0D       [107]    	dec		c
0BB4: 23       [113]    	inc		hl
0BB5: C9       [123]    	ret
                        
0BB6:                   l0bb6:								; se
0BB6: FE38     [ 7]     	cp		56						;
0BB8: D8       [12|18]  	ret		c						;
0BB9: CF       [23]     	rst		error_1					;
0BBA: 0B                	defb	Syntax_error			;
                        									;
0BBB:                   l0bbb:								;
0BBB: CDD00B   [17]     	call	l0bd0					;
0BBE: CDB819   [34]     	call	next_one				;
0BC1: D5       [45]     	push	de						;
0BC2: CDD00B   [62]     	call	l0bd0					;
0BC5: D1       [72]     	pop		de						;
0BC6: A7       [76]     	and		a						;
0BC7: ED52     [91]     	sbc		hl, de					;
0BC9: 300E     [98|103] 	jr		nc, l0bdd9				;
0BCB: 19       [109]    	add		hl, de					;
0BCC: EB       [113]    	ex		de, hl					;
0BCD: C3E519   [123]    	jp		reclaim_1				;
                        									;
0BD0:                   l0bd0:								;
0BD0: CD0139   [17]     	call	syntax3					;
0BD3: 60       [21]     	ld		h, b					;
0BD4: 69       [25]     	ld		l, c					;
0BD5: CD6E19   [42]     	call	line_addr				;
0BD8: C8       [47|53]  	ret		z						;
                        									;
0BD9:                   l0bdd9:								;
0BD9: CF       [11]     	rst		error_1					;
0BDA: 09                	defb	Bad_argument			;
                        
0BDB:                   l0bdb:								; skel
0BDB: 7C       [ 4]     	ld		a, h					;
0BDC: 0F       [ 8]     	rrca							;
0BDD: 0F       [12]     	rrca							;
0BDE: 0F       [16]     	rrca							;
0BDF: E603     [23]     	and		%00000011				;
0BE1: F658     [30]     	or		%01011000				;
0BE3: 67       [34]     	ld		h, a					;
0BE4: ED5B8F5C [54]     	ld		de, (attrt)				;
0BE8: 7E       [61]     	ld		a, (hl)					;
0BE9: AB       [65]     	xor		e						;
0BEA: A2       [69]     	and		d						;
0BEB: AB       [73]     	xor		e						;
0BEC: FDCB5776 [93]     	bit		6, (iy + _pflag)		;
0BF0: 2808     [100|105]	jr		z, l0bfa				;
0BF2: E6C7     [107]    	and		%11000111				;
0BF4: CB57     [115]    	bit		2, a					;
0BF6: 2002     [122|127]	jr		nz, l0bfa				;
0BF8: EE38     [129]    	xor		%00111000				;
                        									;
0BFA:                   l0bfa:								;
0BFA: FDCB5766 [20]     	bit		4, (iy + _pflag)		;
0BFE: 2808     [27|32]  	jr		z, l0c08				;
0C00: E6F8     [34]     	and		%11111000				;
0C02: CB6F     [42]     	bit		5, a					;
0C04: 2002     [49|54]  	jr		nz, l0c08				;
0C06: EE07     [56]     	xor		%00000111				;
                        									;
0C08:                   l0c08:								;
0C08: 77       [ 7]     	ld		(hl), a					;
0C09: C9       [17]     	ret								;
                        									;
0C0A:                   l0c0a:								;
0C0A: E5       [11]     	push	hl						;
0C0B: 2600     [18]     	ld		h, 0					;
0C0D: E3       [37]     	ex		(sp), hl				;
0C0E: 1804     [49]     	jr		l0c14					;
                        									;
0C10:                   l0c10:								;
0C10: 11A800   [10]     	ld		de, k_token - 1			;
0C13: F5       [21]     	push	af						;
                        									;
0C14:                   l0c14:								;
0C14: CD410C   [17]     	call	l0c41					;
0C17: 3809     [24|29]  	jr		c, l0c22				;
0C19: 3E20     [31]     	ld		a, ' '					;
0C1B: FDCB0146 [51]     	bit		0, (iy + _flags)		;
0C1F: CC3B0C   [61|68]  	call	z, l0c3b				;
                        
0C22:                   l0c22:								; se
0C22: CDAA04   [17]     	call	l04aa					;
0C25: CD3B0C   [34]     	call	l0c3b					; skel
0C28: 1A       [41]     	ld		a, (de)					;
0C29: 13       [47]     	inc		de						;
0C2A: 87       [51]     	add		a, a					;
0C2B: 30F5     [58|63]  	jr		nc, l0c22				;
0C2D: D1       [68]     	pop		de						;
0C2E: FE48     [75]     	cp		72						;
0C30: 2803     [82|87]  	jr		z, l0c35				;
0C32: FE82     [89]     	cp		130						;
0C34: D8       [94|100] 	ret		c						;
                        									;
0C35:                   l0c35:								;
0C35: 7A       [ 4]     	ld		a, d					;
0C36: FE03     [11]     	cp		3						;
0C38: D8       [16|22]  	ret		c						;
0C39: 3E20     [23]     	ld		a, ' '					;
                        									;
0C3B:                   l0c3b:								;
0C3B: D5       [11]     	push	de						;
0C3C: D9       [15]     	exx								;
0C3D: D7       [26]     	rst		print_a					;
0C3E: D9       [30]     	exx								;
0C3F: D1       [40]     	pop		de						;
0C40: C9       [50]     	ret								;
                        									;
0C41:                   l0c41:								;
0C41: F5       [11]     	push	af						;
0C42: EB       [15]     	ex		de, hl					;
0C43: 3C       [19]     	inc		a						;
                        
0C44:                   words:								; zx81
0C44: CB7E     [12]     	bit		7, (hl)					;
0C46: 23       [18]     	inc		hl						;
0C47: 28FB     [25|30]  	jr		z, words				;
0C49: 3D       [29]     	dec		a						; skel
0C4A: 20F8     [36|41]  	jr		nz, words				;
0C4C: EB       [40]     	ex		de, hl					;
0C4D: F1       [50]     	pop		af						;
0C4E: FE20     [57]     	cp		' '						;
0C50: D8       [62|68]  	ret		c						;
0C51: 1A       [69]     	ld		a, (de)					;
0C52: D641     [76]     	sub		'A'						;
0C54: C9       [86]     	ret								;
                        
0C55:                   l0c55:
0C55: 11D90D   [10]     	ld		de, l0dd9
0C58: D5       [21]     	push	de
0C59: 78       [25]     	ld		a, b
0C5A: FDCB0246 [45]     	bit		0, (iy + _dflag)
0C5E: C2020D   [55|55]  	jp		nz, l0d02
0C61: FDBE31   [74]     	cp		(iy + _dfsz)
0C64: 3820     [81|86]  	jr		c, oserror
0C66: C0       [86|92]  	ret		nz
0C67: FDCB0266 [106]    	bit		4, (iy + _dflag)
0C6B: 281B     [113|118]	jr		z, l0c88
0C6D: FD5E2D   [132]    	ld		e, (iy + _breg)
0C70: 1D       [136]    	dec		e
0C71: CACE0C   [146|146]	jp		z, l0cce
0C74: AF       [150]    	xor		a
0C75: CD0116   [167]    	call	l1601
0C78: ED7B3F5C [187]    	ld		sp, (listsp)
0C7C: FDCB02A6 [210]    	res		4, (iy + _dflag)
0C80: C9       [220]    	ret
                        
0C81:                   l0c81:
0C81: C65B     [ 7]     	add		a, 0x5b
0C83: C35F0B   [17]     	jp		l0b5f
                        
0C86:                   oserror:							; sam
0C86: CF       [11]     	rst		error_1					;
0C87: 04                	defb	Off_screen				;
                        
0C88:                   l0c88:
0C88: FD3552   [23]     	dec		(iy + _scrct)
0C8B: 2041     [30|35]  	jr		nz, l0cce
0C8D: 3E18     [37]     	ld		a, 24
0C8F: 90       [41]     	sub		b
0C90: 328C5C   [54]     	ld		(scrct), a
0C93: 2A8F5C   [70]     	ld		hl, (attrt)
0C96: E5       [81]     	push	hl
0C97: 3A915C   [94]     	ld		a, (pflag)
0C9A: F5       [105]    	push	af
0C9B: 3EFD     [112]    	ld		a, 253
0C9D: CD0116   [129]    	call	l1601
0CA0: AF       [133]    	xor		a
0CA1: 113532   [143]    	ld		de, l3235
0CA4: CD0A0C   [160]    	call	l0c0a
0CA7: FDCB02EE [183]    	set		5, (iy + _dflag)
0CAB: 213B5C   [193]    	ld		hl, flags
0CAE: CBAE     [208]    	res		5, (hl)
0CB0: CDFF18   [225]    	call	l18ff
0CB3: FE20     [232]    	cp		' '
0CB5: 2849     [239|244]	jr		z, report_d
0CB7: FEE2     [246]    	cp		tk_stop
0CB9: 2845     [253|258]	jr		z, report_d
0CBB: F620     [260]    	or		%00100000
0CBD: FE6E     [267]    	cp		'n'
0CBF: 283F     [274|279]	jr		z, report_d
0CC1: 3EFE     [281]    	ld		a, 254
0CC3: CD0116   [298]    	call	l1601
0CC6: F1       [308]    	pop		af
0CC7: 32915C   [321]    	ld		(pflag), a
0CCA: E1       [331]    	pop		hl
0CCB: 228F5C   [347]    	ld		(attrt), hl
                        
0CCE:                   l0cce:
0CCE: CDFE0D   [17]     	call	l0dfe
0CD1: FD4631   [36]     	ld		b, (iy + _dfsz)
0CD4: 04       [40]     	inc		b
0CD5: 0E21     [47]     	ld		c, 33
0CD7: C5       [58]     	push	bc
0CD8: CD9B0E   [75]     	call	l0e9b
0CDB: 7C       [79]     	ld		a, h
0CDC: 0F       [83]     	rrca
0CDD: 0F       [87]     	rrca
0CDE: 0F       [91]     	rrca
0CDF: E603     [98]     	and		%00000011
0CE1: F658     [105]    	or		%01011000
0CE3: 67       [109]    	ld		h, a
0CE4: 11E05A   [119]    	ld		de, attrmap + 0x02e0
0CE7: 1A       [126]    	ld		a, (de)
0CE8: 4E       [133]    	ld		c, (hl)
0CE9: 0620     [140]    	ld		b, 32
0CEB: EB       [144]    	ex		de, hl
                        
0CEC:                   l0cec:
0CEC: 12       [ 7]     	ld		(de), a
0CED: 71       [14]     	ld		(hl), c
0CEE: 13       [20]     	inc		de
0CEF: 23       [26]     	inc		hl
0CF0: 10FA     [34|39]  	djnz	l0cec
0CF2: C1       [44]     	pop		bc
0CF3: C9       [54]     	ret
                        
0CF4:                   l0cf4:
0CF4: CD2A19   [17]     	call	out_digit
0CF7: 0EF6     [24]     	ld		c, -10
0CF9: CD2A19   [41]     	call	out_digit
0CFC: 7D       [45]     	ld		a, l
0CFD: C9       [55]     	ret
                        
0CFE:                   l0cfe:								; se
0CFE: FF00              	defb	0xff, 0x00				; ULAplus palette
                        
0D00:                   report_d:							; zx81
0D00: CF       [11]     	rst		error_1					;
0D01: 0C                	defb	BREAK_CONTINUE_repeats	;
                        
0D02:                   l0d02:
0D02: FE02     [ 7]     	cp		2
0D04: 3880     [14|19]  	jr		c, oserror
0D06: FD8631   [33]     	add		a, (iy + _dfsz)
0D09: D619     [40]     	sub		25
0D0B: D0       [45|51]  	ret		nc
0D0C: ED44     [53]     	neg
0D0E: C5       [64]     	push	bc
0D0F: 47       [68]     	ld		b, a
0D10: 2A8F5C   [84]     	ld		hl, (attrt)
0D13: E5       [95]     	push	hl
0D14: 2A915C   [111]    	ld		hl, (pflag)
0D17: E5       [122]    	push	hl
0D18: CD4D0D   [139]    	call	trcurp
0D1B: 78       [143]    	ld		a, b
                        
0D1C:                   l0d1c:
0D1C: F5       [11]     	push	af
0D1D: 216B5C   [21]     	ld		hl, dfsz
0D20: 46       [28]     	ld		b, (hl)
0D21: 78       [32]     	ld		a, b
0D22: 3C       [36]     	inc		a
0D23: 77       [43]     	ld		(hl), a
0D24: 21895C   [53]     	ld		hl, sposnu_h
0D27: BE       [60]     	cp		(hl)
0D28: 3803     [67|72]  	jr		c, l0d2d
0D2A: 34       [78]     	inc		(hl)
0D2B: 0617     [85]     	ld		b, 23
                        
0D2D:                   l0d2d:
0D2D: CD000E   [17]     	call	l0e00
0D30: F1       [27]     	pop		af
0D31: 3D       [31]     	dec		a
0D32: 20E8     [38|43]  	jr		nz, l0d1c
0D34: E1       [48]     	pop		hl
0D35: FD7557   [67]     	ld		(iy + _pflag), l
0D38: E1       [77]     	pop		hl
0D39: 228F5C   [93]     	ld		(attrt), hl
0D3C: ED4B885C [113]    	ld		bc, (sposnu)
0D40: FDCB0286 [136]    	res		0, (iy + _dflag)
0D44: CDD90D   [153]    	call	l0dd9
0D47: FDCB02C6 [176]    	set		0, (iy + _dflag)
0D4B: C1       [186]    	pop		bc
0D4C: C9       [196]    	ret
                        
0D4D:                   trcurp:								; skel
0D4D: AF       [ 4]     	xor		a						;
0D4E: 2A8D5C   [20]     	ld		hl, (attrp)				;
0D51: FDCB0246 [40]     	bit		0, (iy + _dflag)		;
0D55: 2804     [47|52]  	jr		z, l0d5b				;
0D57: 67       [51]     	ld		h, a					;
0D58: FD6E0E   [70]     	ld		l, (iy + _bordcr)		;
                        									;
0D5B:                   l0d5b:								;
0D5B: 228F5C   [16]     	ld		(attrt), hl				;
0D5E: 21915C   [26]     	ld		hl, pflag				;
0D61: 2002     [33|38]  	jr		nz, l0d65				;
0D63: 7E       [40]     	ld		a, (hl)					;
0D64: 0F       [44]     	rrca							;
                        									;
0D65:                   l0d65:								;
0D65: AE       [ 7]     	xor		(hl)					;
0D66: E655     [14]     	and		%01010101				;
0D68: AE       [21]     	xor		(hl)					;
0D69: 77       [28]     	ld		(hl), a					;
0D6A: C9       [38]     	ret								;
                        									;
0D6B:                   cls:								;
0D6B: CD5F00   [17]     	call	l005f					;
                        									;
0D6E:                   clslower:							;
0D6E: 213C5C   [10]     	ld		hl, dflag				;
0D71: CBAE     [25]     	res		5, (hl)					;
0D73: CBC6     [40]     	set		0, (hl)					;
0D75: FD4631   [59]     	ld		b, (iy + _dfsz)			;
0D78: CD440E   [76]     	call	l0e44					;
0D7B: 21C05A   [86]     	ld		hl, attrmap + 0x02c0	;
0D7E: 3A8D5C   [99]     	ld		a, (attrp)				;
0D81: 05       [103]    	dec		b						;
0D82: 180A     [115]    	jr		l0d8e					;
                        
0D84:                   l0d84:								; se
0D84: 434D53            	defb	"CMS"					;
                        
0D87:                   l0d87:
0D87: 0E20     [ 7]     	ld		c, 32					; skel
                        									;
0D89:                   l0d89:								;
0D89: 2B       [ 6]     	dec		hl						;
0D8A: 77       [13]     	ld		(hl), a					;
0D8B: 0D       [17]     	dec		c						;
0D8C: 20FB     [24|29]  	jr		nz, l0d89				;
                        									;
0D8E:                   l0d8e:								;
0D8E: 10F7     [ 8|13]  	djnz	l0d87					;
0D90: FD363102 [27]     	ld		(iy + _dfsz), 2			;
                        									;
0D94:                   l0d94:								;
0D94: 3EFD     [ 7]     	ld		a, 253					;
0D96: CD0116   [24]     	call	l1601
0D99: 2A515C   [40]     	ld		hl, (curchl)			; skel
0D9C: 11F409   [50]     	ld		de, prmain				;
0D9F: A7       [54]     	and		a						;
                        									;
0DA0:                   l0da0:								;
0DA0: 73       [ 7]     	ld		(hl), e					;
0DA1: 23       [13]     	inc		hl						;
0DA2: 72       [20]     	ld		(hl), d					;
0DA3: 23       [26]     	inc		hl						;
0DA4: 11A610   [36]     	ld		de, kyip				;
0DA7: 3F       [40]     	ccf								;
0DA8: 38F6     [47|52]  	jr		c, l0da0				;
0DAA: 012117   [57]     	ld		bc, 0x1721				;
0DAD: 182A     [69]     	jr		l0dd9					;
                        									;
0DAF:                   l0daf:								;
0DAF: 210000   [10]     	ld		hl, 0					;
0DB2: 227D5C   [26]     	ld		(xcoord), hl			;
0DB5: FDCB3086 [49]     	res		0, (iy + _klflag)		;
0DB9: CD940D   [66]     	call	l0d94					;
0DBC: CD170B   [83]     	call	streamfe
0DBF: 0618     [90]     	ld		b, 24					; skel
0DC1: CD440E   [107]    	call	l0e44					;
0DC4: 2A515C   [123]    	ld		hl, (curchl)			;
0DC7: 11F409   [133]    	ld		de, prmain				;
0DCA: 73       [140]    	ld		(hl), e					;
0DCB: 23       [146]    	inc		hl						;
0DCC: 72       [153]    	ld		(hl), d					;
0DCD: FD365201 [172]    	ld		(iy + _scrct), 1		;
0DD1: 1806     [184]    	jr		l0dd9					;
                        
0DD3:                   l0dd3:								; se
0DD3: CD1B2D   [17]     	call	numeric					;
0DD6: C36810   [27]     	jp		l1068					;
                        
0DD9:                   l0dd9:								; skel
0DD9: 78       [ 4]     	ld		a, b					;
0DDA: FDCB0246 [24]     	bit		0, (iy + _dflag)		;
0DDE: 2805     [31|36]  	jr		z, l0de5				;
0DE0: FD8631   [50]     	add		a, (iy + _dfsz)			;
0DE3: D618     [57]     	sub		24						;
                        									;
0DE5:                   l0de5:								;
0DE5: C5       [11]     	push	bc						;
0DE6: 47       [15]     	ld		b, a					;
0DE7: CD9B0E   [32]     	call	l0e9b					;
0DEA: C1       [42]     	pop		bc						;
0DEB: 3E21     [49]     	ld		a, 33					;
0DED: 91       [53]     	sub		c						;
0DEE: 5F       [57]     	ld		e, a					;
0DEF: 1600     [64]     	ld		d, 0					;
0DF1: 19       [75]     	add		hl, de					;
0DF2: C3DC0A   [85]     	jp		l0adc					;
                        
0DF5:                   x80_ftan:							; zx81
                        	fwait							;
0DF5: EF       [11]     	rst	28h
                        	fmove							;
0DF6: 31                	defb	0x31
                        	fsin							;
0DF7: 1F                	defb	0x1f
                        	fxch							;
0DF8: 01                	defb	0x01
                        	fcos							;
0DF9: 20                	defb	0x20
                        	fdiv							;
0DFA: 05                	defb	0x05
                        	fce								;
0DFB: 38                	defb	0x38
0DFC: C9       [21]     	ret								;
0DFD: FF                	defb	0xff					; se
                        
0DFE:                   l0dfe:								; skel
0DFE: 0617     [ 7]     	ld		b, 23					;
                        									;
0E00:                   l0e00:								;
0E00: CD9B0E   [17]     	call	l0e9b					;
0E03: 0E08     [24]     	ld		c, 8					;
                        									;
0E05:                   l0e05:								;
0E05: C5       [11]     	push	bc						;
0E06: E5       [22]     	push	hl						;
0E07: 78       [26]     	ld		a, b					;
0E08: E607     [33]     	and		%00000111				;
0E0A: 78       [37]     	ld		a, b					;
0E0B: 200C     [44|49]  	jr		nz, l0e19				;
                        									;
0E0D:                   l0e0d:								;
0E0D: EB       [ 4]     	ex		de, hl					;
0E0E: 21E0F8   [14]     	ld		hl, 0xf8e0				;
0E11: 19       [25]     	add		hl, de					;
0E12: EB       [29]     	ex		de, hl					;
0E13: 012000   [39]     	ld		bc, 0x0020				;
0E16: 3D       [43]     	dec		a						;
0E17: EDB0     [59|21]  	ldir							;
                        									;
0E19:                   l0e19:								;
0E19: EB       [ 4]     	ex		de, hl					;
0E1A: 21E0FF   [14]     	ld		hl, 0xffe0				;
0E1D: 19       [25]     	add		hl, de					;
0E1E: EB       [29]     	ex		de, hl					;
0E1F: 47       [33]     	ld		b, a					;
0E20: E607     [40]     	and		%00000111				;
0E22: 0F       [44]     	rrca							;
0E23: 0F       [48]     	rrca							;
0E24: 0F       [52]     	rrca							;
0E25: 4F       [56]     	ld		c, a					;
0E26: 78       [60]     	ld		a, b					;
0E27: 0600     [67]     	ld		b, 0					;
0E29: EDB0     [83|21]  	ldir							;
0E2B: 0607     [90]     	ld		b, 7					;
0E2D: 09       [101]    	add		hl, bc					;
0E2E: E6F8     [108]    	and		%11111000				;
0E30: 20DB     [115|120]	jr		nz, l0e0d				;
0E32: E1       [125]    	pop		hl						;
0E33: 24       [129]    	inc		h						;
0E34: C1       [139]    	pop		bc						;
0E35: 0D       [143]    	dec		c						;
0E36: 20CD     [150|155]	jr		nz, l0e05				;
0E38: CD880E   [167]    	call	l0e88					;
0E3B: 21E0FF   [177]    	ld		hl, 0xffe0				;
0E3E: 19       [188]    	add		hl, de					;
0E3F: EB       [192]    	ex		de, hl					;
0E40: EDB0     [208|21] 	ldir							;
0E42: 0601     [215]    	ld		b, 1					;
                        									;
0E44:                   l0e44:								;
0E44: C5       [11]     	push	bc						;
0E45: CD9B0E   [28]     	call	l0e9b					;
0E48: 0E08     [35]     	ld		c, 8					;
                        									;
0E4A:                   l0e4a:								;
0E4A: C5       [11]     	push	bc						;
0E4B: E5       [22]     	push	hl						;
0E4C: 78       [26]     	ld		a, b					;
                        									;
0E4D:                   l0e4d:								;
0E4D: E607     [ 7]     	and		%00000111				;
0E4F: 0F       [11]     	rrca							;
0E50: 0F       [15]     	rrca							;
0E51: 0F       [19]     	rrca							;
0E52: 4F       [23]     	ld		c, a					;
0E53: 78       [27]     	ld		a, b					;
0E54: 0600     [34]     	ld		b, 0					;
0E56: 0D       [38]     	dec		c						;
0E57: 54       [42]     	ld		d, h					;
0E58: 5D       [46]     	ld		e, l					;
0E59: 70       [53]     	ld		(hl), b					; se
0E5A: 13       [59]     	inc		de						; skel
0E5B: EDB0     [75|21]  	ldir							;
0E5D: 110107   [85]     	ld		de, 0x0701				;
0E60: 19       [96]     	add		hl, de					;
0E61: 3D       [100]    	dec		a						;
0E62: E6F8     [107]    	and		%11111000				;
0E64: 47       [111]    	ld		b, a					;
0E65: 20E6     [118|123]	jr		nz, l0e4d				;
0E67: E1       [128]    	pop		hl						;
0E68: 24       [132]    	inc		h						;
0E69: C1       [142]    	pop		bc						;
0E6A: 0D       [146]    	dec		c						;
0E6B: C24A0E   [156|156]	jp		nz, l0e4a				; se
0E6E: CD880E   [173]    	call	l0e88					; skel
                        
0E71:                   screen2:
0E71: 62       [ 4]     	ld		h, d					;
0E72: 6B       [ 8]     	ld		l, e					;
0E73: 13       [14]     	inc		de						;
0E74: 3A8D5C   [27]     	ld		a, (attrp)				;
0E77: FDCB0246 [47]     	bit		0, (iy + _dflag)		;
0E7B: 2803     [54|59]  	jr		z, l0e80				;
0E7D: 3A485C   [67]     	ld		a, (bordcr)				;
                        									;
0E80:                   l0e80:								;
0E80: 77       [ 7]     	ld		(hl), a					;
0E81: 0B       [13]     	dec		bc						;
0E82: EDB0     [29|21]  	ldir							;
0E84: C1       [39]     	pop		bc						;
0E85: 0E21     [46]     	ld		c, 33					;
0E87: C9       [56]     	ret								;
                        									;
0E88:                   l0e88:								;
0E88: 7C       [ 4]     	ld		a, h					;
0E89: 0F       [ 8]     	rrca							;
0E8A: 0F       [12]     	rrca							;
0E8B: 0F       [16]     	rrca							;
0E8C: 3D       [20]     	dec		a						;
0E8D: F650     [27]     	or		%01010000				;
0E8F: 67       [31]     	ld		h, a					;
0E90: EB       [35]     	ex		de, hl					;
0E91: 61       [39]     	ld		h, c					;
0E92: 68       [43]     	ld		l, b					;
0E93: 29       [54]     	add		hl, hl					;
0E94: 29       [65]     	add		hl, hl					;
0E95: 29       [76]     	add		hl, hl					;
0E96: 29       [87]     	add		hl, hl					;
0E97: 29       [98]     	add		hl, hl					;
0E98: 44       [102]    	ld		b, h					;
0E99: 4D       [106]    	ld		c, l					;
0E9A: C9       [116]    	ret								;
                        									;
0E9B:                   l0e9b:								;
0E9B: 3E18     [ 7]     	ld		a, 24					;
0E9D: 90       [11]     	sub		b						;
0E9E: 57       [15]     	ld		d, a					;
0E9F: 0F       [19]     	rrca							;
0EA0: 0F       [23]     	rrca							;
0EA1: 0F       [27]     	rrca							;
0EA2: E6E0     [34]     	and		%11100000				;
0EA4: 6F       [38]     	ld		l, a					;
0EA5: 7A       [42]     	ld		a, d					;
0EA6: E618     [49]     	and		%00011000				;
0EA8: F640     [56]     	or		%01000000				;
0EAA: 67       [60]     	ld		h, a					;
0EAB: C9       [70]     	ret								;
                        
0EAC:                   l0eac:
0EAC: FE5C     [ 7]     	cp		'\'
0EAE: 280B     [14|19]  	jr		z, l0ebb
0EB0: FE7E     [21]     	cp		'~'
0EB2: 202A     [28|33]  	jr		nz, l0ede
0EB4: F1       [38]     	pop		af
0EB5: 017C10   [48]     	ld		bc, 0x107c
0EB8: C30D27   [58]     	jp		s_push_po
                        
0EBB:                   l0ebb:
0EBB: F1       [10]     	pop		af
0EBC: CD3025   [27]     	call	syntax_z
0EBF: C2B526   [37|37]  	jp		nz, s_stk_dec
0EC2: 110000   [47]     	ld		de, 0
                        
0EC5:                   l0ec5:
0EC5: E7       [11]     	rst		next_ch
0EC6: D630     [18]     	sub		48
0EC8: FE08     [25]     	cp		8
0ECA: 3048     [32|37]  	jr		nc, l0f14
0ECC: EB       [36]     	ex		de, hl
0ECD: 29       [47]     	add		hl, hl
0ECE: 3804     [54|59]  	jr		c, l0ed4
0ED0: 29       [65]     	add		hl, hl
0ED1: 3801     [72|77]  	jr		c, l0ed4
0ED3: 29       [83]     	add		hl, hl
                        
0ED4:                   l0ed4:
0ED4: DAAD31   [10|10]  	jp		c, report_6
0ED7: 1600     [17]     	ld		d, 0
0ED9: 5F       [21]     	ld		e, a
0EDA: 19       [32]     	add		hl, de
0EDB: EB       [36]     	ex		de, hl
0EDC: 18E7     [48]     	jr		l0ec5
                        
0EDE:                   l0ede:
0EDE: FE26     [ 7]     	cp		'&'		
0EE0: C2DC16   [17|17]  	jp		nz, l16dc
0EE3: F1       [27]     	pop		af
0EE4: CD3025   [44]     	call	syntax_z
0EE7: C2B526   [54|54]  	jp		nz, s_stk_dec
0EEA: 110000   [64]     	ld		de, 0
                        
0EED:                   l0eed:
0EED: E7       [11]     	rst		next_ch
0EEE: CD882C   [28]     	call	alphanum
0EF1: 3021     [35|40]  	jr		nc, l0f14
0EF3: FE41     [42]     	cp		'A'
0EF5: DA000F   [52|52]  	jp		c, l0f00
0EF8: F620     [59]     	or		%00100000
0EFA: FE67     [66]     	cp		'g'
0EFC: 3016     [73|78]  	jr		nc, l0f14
0EFE: D627     [80]     	sub		0x27
                        
0F00:                   l0f00:
0F00: E60F     [ 7]     	and		%00001111
0F02: 4F       [11]     	ld		c, a
0F03: 7A       [15]     	ld		a, d
0F04: E6F0     [22]     	and		%11110000
0F06: C2AD31   [32|32]  	jp		nz, report_6
0F09: 79       [36]     	ld		a, c
0F0A: EB       [40]     	ex		de, hl
0F0B: 29       [51]     	add		hl, hl
0F0C: 29       [62]     	add		hl, hl
0F0D: 29       [73]     	add		hl, hl
0F0E: 29       [84]     	add		hl, hl
0F0F: B5       [88]     	or		l
0F10: 6F       [92]     	ld		l, a
0F11: EB       [96]     	ex		de, hl
0F12: 18D9     [108]    	jr		l0eed
                        
0F14:                   l0f14:
0F14: CDB32C   [17]     	call	l2cb3
0F17: C39526   [27]     	jp		l2695
                        
0F1A:                   l0f1a:								; se
0F1A: 01F0D8   [10]     	ld		bc, -10000				;
0F1D: CD2A19   [27]     	call	out_digit				;
0F20: 0118FC   [37]     	ld		bc, -1000				; zx81
0F23: CD2A19   [54]     	call	out_digit				;
0F26: 019CFF   [64]     	ld		bc, -100				;
0F29: C3F40C   [74]     	jp		l0cf4					; se
                        
0F2C:                   editor:								; sam
0F2C: 2A3D5C   [16]     	ld		hl, (errsp)				;
0F2F: E5       [27]     	push	hl						;
                        									;
0F30:                   edag:								;
0F30: 217F10   [10]     	ld		hl, eder				;
0F33: E5       [21]     	push	hl						;
0F34: ED733D5C [41]     	ld		(errsp), sp				;
                        
0F38:                   l0f38:
0F38: CDD415   [17]     	call	waitkey
0F3B: F5       [28]     	push	af
0F3C: 21C800   [38]     	ld		hl, 200
0F3F: 3A395C   [51]     	ld		a, (click)
0F42: 5F       [55]     	ld		e, a
0F43: A7       [59]     	and		a
0F44: C4B503   [69|76]  	call	nz, l03b5
0F47: F1       [79]     	pop		af
0F48: 21380F   [89]     	ld		hl, l0f38
0F4B: E5       [100]    	push	hl
0F4C: FE18     [107]    	cp		24
0F4E: 3031     [114|119]	jr		nc, add_char
0F50: FE07     [121]    	cp		7
0F52: 382D     [128|133]	jr		c, add_char
0F54: FE10     [135]    	cp		16
0F56: 383A     [142|147]	jr		c, l0f92
0F58: 010200   [152]    	ld		bc, 2
0F5B: 57       [156]    	ld		d, a
0F5C: FE16     [163]    	cp		22
0F5E: 380C     [170|175]	jr		c, l0f6c
0F60: 03       [176]    	inc		bc
0F61: CDD415   [193]    	call	waitkey
0F64: FDCB377E [213]    	bit		7, (iy + _flage)
0F68: CA1A10   [223|223]	jp		z, l101a
0F6B: 5F       [227]    	ld		e, a
                        
0F6C:                   l0f6c:
0F6C: CDD415   [17]     	call	waitkey
0F6F: D5       [28]     	push	de
0F70: 2A5B5C   [44]     	ld		hl, (kcur)
0F73: FDCB0786 [67]     	res		0, (iy + _mode)
0F77: CD5516   [84]     	call	make_room
0F7A: C1       [94]     	pop		bc
0F7B: 23       [100]    	inc		hl
0F7C: 70       [107]    	ld		(hl), b
0F7D: 23       [113]    	inc		hl
0F7E: 71       [120]    	ld		(hl), c
0F7F: 1806     [132]    	jr		l0f87
                        
0F81:                   add_char:
0F81: 2A5B5C   [16]     	ld		hl, (kcur)
0F84: CD5216   [33]     	call	one_space				; zx81
                        									;
0F87:                   l0f87:								;
0F87: 12       [ 7]     	ld		(de), a					;
0F88: 13       [13]     	inc		de
0F89: ED535B5C [33]     	ld		(kcur), de
0F8D: C9       [43]     	ret
                        
0F8E:                   l0f8e:
0F8E: F1       [10]     	pop		af
0F8F: C3AC12   [20]     	jp		l12ac
                        
0F92:                   l0f92:
0F92: 5F       [ 4]     	ld		e, a
0F93: 1600     [11]     	ld		d, 0
0F95: 21990F   [21]     	ld		hl, cursor - 7
0F98: 19       [32]     	add		hl, de
0F99: 5E       [39]     	ld		e, (hl)
0F9A: 19       [50]     	add		hl, de
0F9B: E5       [61]     	push	hl
0F9C: 2A5B5C   [77]     	ld		hl, (kcur)
0F9F: C9       [87]     	ret
                        
0FA0:                   cursor:								; zx81
0FA0: 09                	defb	edit_key - $			;
0FA1: 65                	defb	left_key - $			;
0FA2: 69                	defb	right_key - $			;
0FA3: 48                	defb	down_key - $			;
0FA4: A6                	defb	up_key - $				;
0FA5: 6E                	defb	rubout - $				;
0FA6: 77                	defb	n_l_key - $				;
0FA7: CF                	defb	function - $			;
0FA8: D4                	defb	graphics - $			;
                        
0FA9:                   edit_key:
0FA9: 2A495C   [16]     	ld		hl, (eppc)
0FAC: FDCB376E [36]     	bit		5, (iy + _flage)
0FB0: C29510   [46|46]  	jp		nz, l1095
0FB3: CD6E19   [63]     	call	line_addr				; zx81
0FB6: CD9516   [80]     	call	line_no					;
0FB9: 7A       [84]     	ld		a, d					;
0FBA: B3       [88]     	or		e						;
0FBB: CA9510   [98|98]  	jp		z, l1095
0FBE: E5       [109]    	push	hl
0FBF: 23       [115]    	inc		hl						; zx81
0FC0: 4E       [122]    	ld		c, (hl)					;
0FC1: 23       [128]    	inc		hl						;
0FC2: 46       [135]    	ld		b, (hl)					;
0FC3: 210A00   [145]    	ld		hl, 10
0FC6: 09       [156]    	add		hl, bc
0FC7: 44       [160]    	ld		b, h
0FC8: 4D       [164]    	ld		c, l
0FC9: CD051F   [181]    	call	test_room
0FCC: CD9510   [198]    	call	l1095
0FCF: 2A515C   [214]    	ld		hl, (curchl)
0FD2: E3       [233]    	ex		(sp), hl
0FD3: E5       [244]    	push	hl
0FD4: 3EFF     [251]    	ld		a, 255
0FD6: CD0116   [268]    	call	l1601
0FD9: E1       [278]    	pop		hl
0FDA: 2B       [284]    	dec		hl
0FDB: CD6018   [301]    	call	l1860
0FDE: 2A595C   [317]    	ld		hl, (eline)
0FE1: CDB518   [334]    	call	l18b5
0FE4: 225B5C   [350]    	ld		(kcur), hl
0FE7: E1       [360]    	pop		hl
0FE8: C31516   [370]    	jp		chanflag
                        
0FEB:                   down_key:
0FEB: FDCB376E [20]     	bit		5, (iy + _flage)		; se
0FEF: C20824   [30|30]  	jp		nz, l2408				;
0FF2: CDF60A   [47]     	call	l0af6					;
0FF5: 21495C   [57]     	ld		hl, eppc				;
0FF8: EB       [61]     	ex		de, hl					;
                        									;
0FF9:                   l0ff9:								;
0FF9: CD0B10   [17]     	call	right_key				;
0FFC: 10FB     [25|30]  	djnz	l0ff9					;
0FFE: C9       [35]     	ret								;
                        
0FFF:                   l0fff:
0FFF: 3E08     [ 7]     	ld		a, %00001000
1001: AE       [14]     	xor		(hl)
1002: 77       [21]     	ld		(hl), a
1003: C3F410   [31]     	jp		l10f4					; se
                        									;
                        	
1006:                   left_key:
1006: CD2A10   [17]     	call	left_edge
1009: 1804     [29]     	jr		l100f
                        
100B:                   right_key:							; se
100B: C39900   [10]     	jp		l0099					;
                        
100E:                   l100e:
100E: 23       [ 6]     	inc		hl
                        
100F:                   l100f:
100F: 225B5C   [16]     	ld		(kcur), hl
1012: C9       [26]     	ret
                        
1013:                   rubout:								; zx81
1013: CD2A10   [17]     	call	left_edge				;
1016: EB       [21]     	ex		de, hl					; se
1017: C3E519   [31]     	jp		reclaim_1				;
                        
101A:                   l101a:
101A: CDD415   [17]     	call	waitkey
                        
101D:                   n_l_key:
101D: E1       [10]     	pop		hl
101E: E1       [20]     	pop		hl
                        
101F:                   l101f:
101F: E1       [10]     	pop		hl
1020: 223D5C   [26]     	ld		(errsp), hl
1023: FDCB007E [46]     	bit		7, (iy + _errnr)
1027: C0       [51|57]  	ret		nz
1028: F9       [57]     	ld		sp, hl
1029: C9       [67]     	ret
                        
102A:                   left_edge:
102A: 37       [ 4]     	scf
102B: CD9511   [21]     	call	l1195
102E: ED52     [36]     	sbc		hl, de
1030: 19       [47]     	add		hl, de
1031: 23       [53]     	inc		hl
1032: C1       [63]     	pop		bc
1033: D8       [68|74]  	ret		c
1034: C5       [79]     	push	bc
1035: 44       [83]     	ld		b, h
1036: 4D       [87]     	ld		c, l
                        
1037:                   l1037:
1037: 62       [ 4]     	ld		h, d
1038: 6B       [ 8]     	ld		l, e
1039: 23       [14]     	inc		hl
103A: 1A       [21]     	ld		a, (de)
103B: E6F0     [28]     	and		%11110000
103D: FE10     [35]     	cp		ctrl_pen
103F: 2001     [42|47]  	jr		nz, l1042
1041: 23       [48]     	inc		hl
                        
1042:                   l1042:
1042: A7       [ 4]     	and		a
1043: ED42     [19]     	sbc		hl, bc
1045: 09       [30]     	add		hl, bc
1046: EB       [34]     	ex		de, hl
1047: 38EE     [41|46]  	jr		c, l1037
1049: C9       [51]     	ret
                        
104A:                   up_key:
104A: FDCB376E [20]     	bit		5, (iy + _flage)		; se
104E: C0       [25|31]  	ret		nz						;
104F: CDF60A   [42]     	call	l0af6					;
1052: 2A495C   [58]     	ld		hl, (eppc)				;
1055: EB       [62]     	ex		de, hl					;
                        									;
1056:                   l1056:								;
1056: C5       [11]     	push	bc						;
1057: CD0610   [28]     	call	left_key				;
105A: C1       [38]     	pop		bc						;
105B: 10F9     [46|51]  	djnz	l1056					;
105D: C9       [56]     	ret								;
                        									;
105E:                   l105e:								;
105E: CD0139   [17]     	call	syntax3					;
1061: 78       [21]     	ld		a, b					;
1062: B1       [25]     	or 		c						;
1063: C0       [30|36]  	ret		nz						;
1064: C1       [40]     	pop		bc						;
1065: C3EB38   [50]     	jp		l38ec					;
                        	
1068:                   l1068:
1068: F5       [11]     	push	af						;
1069: CD3B2D   [28]     	call	int_to_fp				;
106C: F1       [38]     	pop		af						;
106D: D0       [43|49]  	ret		nc						;
106E: C1       [53]     	pop		bc						;
106F: CDA22D   [70]     	call	fp_to_bc				;
1072: 37       [74]     	scf								;
1073: C3C516   [84]     	jp		set_mem					;
                        	
1076:                   function:
1076: FDCB377E [20]     	bit		7, (iy + _flage)
107A: 28A1     [27|32]  	jr		z, n_l_key
                        
107C:                   graphics:
107C: C3810F   [10]     	jp		add_char
                        
107F:                   eder:
107F: FDCB3066 [20]     	bit		4, (iy + _klflag)
1083: 289A     [27|32]  	jr		z, l101f
1085: CD6711   [44]     	call	l1167
1088: C3300F   [54]     	jp		edag
                        
108B:                   l108b:
108B: CD6711   [17]     	call	l1167
108E: ED5B8A5C [37]     	ld		de, (sposnl)
1092: C37E11   [47]     	jp		l117e
                        
1095:                   l1095:
1095: E5       [11]     	push	hl
1096: CD9011   [28]     	call	l1190
1099: 2B       [34]     	dec		hl
109A: CDE519   [51]     	call	reclaim_1
109D: 225B5C   [67]     	ld		(kcur), hl
10A0: FD360700 [86]     	ld		(iy + _mode), 0
10A4: E1       [96]     	pop		hl
10A5: C9       [106]    	ret
                        
10A6:                   kyip:
10A6: FDCB025E [20]     	bit		3, (iy + _dflag)
10AA: C41D11   [30|37]  	call	nz, l111d
10AD: A7       [34]     	and		a						; sam
10AE: FDCB016E [54]     	bit		5, (iy + _flags)		;
10B2: C8       [59|65]  	ret		z						;
                        									;
10B3:                   l10b3:								;
10B3: 3A085C   [13]     	ld		a, (lastk)				;
10B6: FDCB01AE [36]     	res		5, (iy + _flags)		;
10BA: F5       [47]     	push	af						;
10BB: FDCB026E [67]     	bit		5, (iy + _dflag)		;
10BF: C46E0D   [77|84]  	call	nz, clslower			;
10C2: F1       [87]     	pop		af						;
10C3: FE20     [94]     	cp		' '
10C5: 3054     [101|106]	jr		nc, l111b
10C7: FE10     [108]    	cp		ctrl_pen
10C9: 302F     [115|120]	jr		nc, l10fa
10CB: FE06     [122]    	cp		6
10CD: 300A     [129|134]	jr		nc, l10d9
10CF: 47       [133]    	ld		b, a
10D0: E601     [140]    	and		%00000001
10D2: 4F       [144]    	ld		c, a
10D3: 78       [148]    	ld		a, b
10D4: 1F       [152]    	rra
10D5: C612     [159]    	add		a, 18
10D7: 182C     [171]    	jr		l1105
                        
10D9:                   l10d9:
10D9: 216A5C   [10]     	ld		hl, klflag				; se
10DC: CAFF0F   [20|20]  	jp		z, l0fff				;
10DF: FE07     [27]     	cp		7						;
10E1: 2003     [34|39]  	jr		nz, l10e6				;
10E3: 3D       [38]     	dec		a						;
10E4: 37       [42]     	scf								;
10E5: C9       [52]     	ret								;
                        
10E6:                   l10e6:
10E6: FE0E     [ 7]     	cp		ctrl_symbol
10E8: D8       [12|18]  	ret		c
10E9: D60D     [19]     	sub		13
10EB: 21415C   [29]     	ld		hl, mode
10EE: BE       [36]     	cp		(hl)
10EF: 77       [43]     	ld		(hl), a
10F0: 2002     [50|55]  	jr		nz, l10f4
10F2: 3600     [60]     	ld		(hl), 0
                        
10F4:                   l10f4:
10F4: FDCB02DE [23]     	set		3, (iy + _dflag)
10F8: BF       [27]     	cp		a
10F9: C9       [37]     	ret
                        
10FA:                   l10fa:
10FA: 47       [ 4]     	ld		b, a
10FB: E607     [11]     	and		%00000111
10FD: 4F       [15]     	ld		c, a
10FE: 3E10     [22]     	ld		a, ctrl_pen
1100: CB58     [30]     	bit		3, b
1102: 2001     [37|42]  	jr		nz, l1105
1104: 3C       [41]     	inc		a
                        
1105:                   l1105:
1105: FD71D3   [19]     	ld		(iy - _kdata), c
1108: 110D11   [29]     	ld		de, l110d
110B: 1806     [41]     	jr		l1113
                        
110D:                   l110d:
110D: 3A0D5C   [13]     	ld		a, (kdata)
1110: 11A610   [23]     	ld		de, kyip
                        
1113:                   l1113:
1113: 2A4F5C   [16]     	ld		hl, (chans)
1116: 23       [22]     	inc		hl
1117: 23       [28]     	inc		hl
1118: 73       [35]     	ld		(hl), e
1119: 23       [41]     	inc		hl
111A: 72       [48]     	ld		(hl), d
                        
111B:                   l111b:
111B: 37       [ 4]     	scf
111C: C9       [14]     	ret
                        
111D:                   l111d:
111D: CD4D0D   [17]     	call	trcurp
1120: FDCB029E [40]     	res		3, (iy + _dflag)
1124: FDCB02AE [63]     	res		5, (iy + _dflag)
1128: 2A8A5C   [79]     	ld		hl, (sposnl)
112B: E5       [90]     	push	hl
112C: 2A3D5C   [106]    	ld		hl, (errsp)
112F: E5       [117]    	push	hl
1130: 218B10   [127]    	ld		hl, l108b
1133: E5       [138]    	push	hl
1134: ED733D5C [158]    	ld		(errsp), sp
1138: 2A825C   [174]    	ld		hl, (echoe)
113B: E5       [185]    	push	hl
113C: 37       [189]    	scf
113D: CD9511   [206]    	call	l1195
1140: EB       [210]    	ex		de, hl
1141: CD7F18   [227]    	call	l187f
1144: EB       [231]    	ex		de, hl
1145: CDD318   [248]    	call	opcursor
1148: 2A8A5C   [264]    	ld		hl, (sposnl)
114B: E3       [283]    	ex		(sp), hl
114C: EB       [287]    	ex		de, hl
114D: CD4D0D   [304]    	call	trcurp
                        
1150:                   l1150:
1150: 3A8B5C   [13]     	ld		a, (sposnl_h)
1153: 92       [17]     	sub		d
1154: 3826     [24|29]  	jr		c, l117c
1156: 2006     [31|36]  	jr		nz, l115e
1158: 7B       [35]     	ld		a, e
1159: FD9650   [54]     	sub		(iy + _sposnl)
115C: 301E     [61|66]  	jr		nc, l117c
                        
115E:                   l115e:
115E: 3E20     [ 7]     	ld		a, ' '
1160: D5       [18]     	push	de
1161: CDF409   [35]     	call	prmain
1164: D1       [45]     	pop		de
1165: 18E9     [57]     	jr		l1150
                        
1167:                   l1167:
1167: D9       [ 4]     	exx
1168: 1600     [11]     	ld		d, 0
116A: FD5EFE   [30]     	ld		e, (iy - _errsound)
116D: 216408   [40]     	ld		hl, 0x0864
1170: CDB503   [57]     	call	l03b5
1173: D9       [61]     	exx
1174: FD3600FF [80]     	ld		(iy + _errnr), OK
1178: C9       [90]     	ret
                        
1179:                   l1179:						; se
1179: E1       [10]     	pop		hl				;
117A: F9       [16]     	ld		sp, hl			;
117B: C9       [26]     	ret						;
                        
117C:                   l117c:
117C: D1       [10]     	pop		de
117D: E1       [20]     	pop		hl
                        
117E:                   l117e:
117E: E1       [10]     	pop		hl
117F: 223D5C   [26]     	ld		(errsp), hl
1182: C1       [36]     	pop		bc
1183: D5       [47]     	push	de
1184: CDD90D   [64]     	call	l0dd9
1187: E1       [74]     	pop		hl
1188: 22825C   [90]     	ld		(echoe), hl
118B: FD362600 [109]    	ld		(iy + _xptr_h), 0
118F: C9       [119]    	ret
                        
1190:                   l1190:
1190: 2A615C   [16]     	ld		hl, (worksp)
1193: 2B       [22]     	dec		hl
1194: A7       [26]     	and		a
                        
1195:                   l1195:
1195: ED5B595C [20]     	ld		de, (eline)
1199: FDCB376E [40]     	bit		5, (iy + _flage)
119D: C8       [45|51]  	ret		z
119E: ED5B615C [65]     	ld		de, (worksp)
11A2: D8       [70|76]  	ret		c
11A3: 2A635C   [86]     	ld		hl, (stkbot)
11A6: C9       [96]     	ret
                        
11A7:                   l11a7:
11A7: 7E       [ 7]     	ld		a, (hl)
11A8: FE0E     [14]     	cp		ctrl_number
11AA: 010600   [24]     	ld		bc, 6
11AD: CCE819   [34|41]  	call	z, reclaim_2
11B0: 7E       [41]     	ld		a, (hl)
11B1: 23       [47]     	inc		hl
11B2: FE0D     [54]     	cp		ctrl_n_l
11B4: 20F1     [61|66]  	jr		nz, l11a7
11B6: C9       [71]     	ret
                        
11B7:                   l11cb:								; se
11B7: EDB0     [16|21]  	ldir							;
11B9: 18BE     [28]     	jr		l1179					;
                        									;
11BB:                   new:								;
11BB: F3       [ 4]     	di								;
11BC: AF       [ 8]     	xor		a						;
11BD: 3D       [12]     	dec		a						;
11BE: ED5BB25C [32]     	ld		de, (ramtop)			;
11C2: D9       [36]     	exx								;
11C3: ED4B7B5C [56]     	ld		bc, (udg)				;
11C7: ED5BB05C [76]     	ld		de, (nmiadd)			;
11CB: 2AB45C   [92]     	ld		hl, (pramt)				;
11CE: D9       [96]     	exx								;
                        									;
11CF:                   l11cf:								;
11CF: 08       [ 4]     	ex		af, af'					;'
11D0: AF       [ 8]     	xor		a						;
11D1: D3FF     [19]     	out		(scld), a				;
11D3: 3E06     [26]     	ld		a, 6					;
11D5: ED47     [35]     	ld		i, a					;
11D7: FD62     [43]     	ld		yh, d					;
11D9: FD6B     [51]     	ld		yl, e					;
11DB: EB       [55]     	ex		de, hl					;
11DC: 11005C   [65]     	ld		de, 0x5c00				;
11DF: ED52     [80]     	sbc		hl, de					;
11E1: 44       [84]     	ld		b, h					;
11E2: 4D       [88]     	ld		c, l					;
11E3: 62       [92]     	ld		h, d					;
11E4: 6B       [96]     	ld		l, e					;
11E5: 75       [103]    	ld		(hl), l					;
11E6: 1C       [107]    	inc		e						;
11E7: EDB0     [123|21] 	ldir							;
11E9: D9       [127]    	exx								;
11EA: ED437B5C [147]    	ld		(udg), bc				;
11EE: ED53B05C [167]    	ld		(nmiadd), de			;
11F2: 22B45C   [183]    	ld		(pramt), hl				;
11F5: D9       [187]    	exx								; 
11F6: 08       [191]    	ex		af, af'					;'
11F7: 3C       [195]    	inc		a						;
11F8: CA1312   [205|205]	jp		z, set_top				;
                        ;		ld		h, yh				; not supported
                        ;		ld		l, yl				; by binutils
11FB: FD64FD6D          	defb	0xfd, 0x64, 0xfd, 0x6d	;
11FF: 22B45C   [221]    	ld		(pramt), hl				;
1202: 21F70C   [231]    	ld		hl, initpal				;
1205: 11005B   [241]    	ld		de, palbuf				;
1208: 014000   [251]    	ld		bc, 64					;
120B: EDB0     [267|21] 	ldir							;
120D: C3EE09   [277]    	jp		setudg					;
                        
1210:                   setudg_ret:
1210: 2AB45C   [16]     	ld		hl, (pramt)				;
                        
1213:                   set_top:							; zx81
1213: 22B25C   [16]     	ld		(ramtop), hl			;
                        
1216:                   initial:							; skel
1216: 21003C   [10]     	ld		hl, font - 256			;
1219: 22365C   [26]     	ld		(chars), hl
121C: 213C00   [36]     	ld		hl, 0x003c				; se
121F: 22385C   [52]     	ld		(errsound), hl			;
1222: 2AB25C   [68]     	ld		hl, (ramtop)			; zx81
1225: 363E     [78]     	ld		(hl), 0x3e				;
1227: 2B       [84]     	dec		hl						;
1228: F9       [90]     	ld		sp, hl					;
1229: 2B       [96]     	dec		hl						;
122A: 2B       [102]    	dec		hl						;
122B: 223D5C   [118]    	ld		(errsp), hl				;
122E: ED56     [126]    	im		1						;
1230: FD213A5C [140]    	ld		iy, errnr				;
1234: FB       [144]    	ei
1235: 3A4F5C   [157]    	ld		a, (chans)				; se
1238: A7       [161]    	and		a						;
1239: FD3646FF [180]    	ld		(iy+_onerrflag_h), 0xff	;
123D: 3E15     [187]    	ld		a, 21					;
123F: C20F13   [197|197]	jp		nz, l130f				;
1242: 011500   [207]    	ld		bc, 0x0015
1245: 11AF15   [217]    	ld		de, chantab
1248: 21B65C   [227]    	ld		hl, channels
124B: 224F5C   [243]    	ld		(chans), hl
124E: EB       [247]    	ex		de, hl
124F: EDB0     [263|21] 	ldir
1251: EB       [267]    	ex		de, hl
1252: 2B       [273]    	dec		hl
1253: 22575C   [289]    	ld		(datadd), hl
1256: 23       [295]    	inc		hl
1257: 224B5C   [311]    	ld		(vars), hl
125A: 22535C   [327]    	ld		(prog), hl
125D: 3680     [337]    	ld		(hl), 0x80
125F: 23       [343]    	inc		hl
1260: 22595C   [359]    	ld		(eline), hl
1263: 3E07     [366]    	ld		a, white				; se
1265: 32485C   [379]    	ld		(bordcr), a				;
1268: 328D5C   [392]    	ld		(attrp), a				;
126B: 211902   [402]    	ld		hl, 0x0219				;
126E: 22095C   [418]    	ld		(repdel), hl			;
1271: 211612   [428]    	ld		hl, initial				;
1274: 22B05C   [444]    	ld		(nmiadd), hl			;
1277: FD35CA   [467]    	dec		(iy - _kstate_4)
127A: FD35C6   [490]    	dec		(iy - _kstate)
127D: 0E0E     [497]    	ld		c, 14
127F: 11105C   [507]    	ld		de, strms
1282: 21C615   [517]    	ld		hl, strmtab
1285: EDB0     [533|21] 	ldir
1287: FD363102 [552]    	ld		(iy + _dfsz), 2
128B: 3E00     [559]    	ld		a, black				; se
128D: D3FE     [570]    	out		(ula), a				;
128F: CD6B0D   [587]    	call	cls						;
1292: CD4D39   [604]    	call	l394d					;
1295: AF       [608]    	xor		a
1296: 119613   [618]    	ld		de, l1396
1299: CD0A0C   [635]    	call	l0c0a
129C: FDCB02EE [658]    	set		5, (iy + _dflag)
12A0: 1807     [670]    	jr		l12a9
                        
12A2:                   l12a2:
12A2: FD363102 [19]     	ld		(iy + _dfsz), 2
12A6: CD9517   [36]     	call	autolist
                        
12A9:                   l12a9:
12A9: CDB016   [17]     	call	setmin
                        
12AC:                   l12ac:
12AC: AF       [ 4]     	xor		a
12AD: CD0116   [21]     	call	l1601
12B0: CDD039   [38]     	call	l39d0
12B3: CD171B   [55]     	call	l1b17
12B6: FDCB007E [75]     	bit		7, (iy + _errnr)
12BA: 2013     [82|87]  	jr		nz, l12cf
12BC: FDCB3066 [102]    	bit		4, (iy + _klflag)
12C0: 283F     [109|114]	jr		z, l1301
12C2: 2A595C   [125]    	ld		hl, (eline)
12C5: CDA711   [142]    	call	l11a7
12C8: FD3600FF [161]    	ld		(iy + _errnr), OK
12CC: C3AC12   [171]    	jp		l12ac
                        
12CF:                   l12cf:
12CF: FD360700 [19]     	ld		(iy + _mode), 0
12D3: CDFB19   [36]     	call	eline_no
12D6: 79       [40]     	ld		a, c
12D7: B0       [44]     	or		b
12D8: C25D15   [54|54]  	jp		nz, n_l_line
12DB: DF       [65]     	rst		get_ch
12DC: FE0D     [72]     	cp		ctrl_n_l
12DE: 28C2     [79|84]  	jr		z, l12a2
12E0: FDCB3046 [99]     	bit		0, (iy + _klflag)
12E4: C4AF0D   [109|116]	call	nz, l0daf
12E7: CD6E0D   [126]    	call	clslower
12EA: 3E19     [133]    	ld		a, 25
12EC: FD964F   [152]    	sub		(iy + _sposnu_h)
12EF: 328C5C   [165]    	ld		(scrct), a
12F2: FDCB01FE [188]    	set		7, (iy + _flags)
12F6: FD360A01 [207]    	ld		(iy + _nsppc), 1
12FA: FD3600FF [226]    	ld		(iy + _errnr), OK
12FE: CD8A1B   [243]    	call	linerun
                        
1301:                   l1301:
1301: 3A3A5C   [13]     	ld		a, (errnr)				; se
1304: FDCB01AE [36]     	res		5, (iy + _flags)		;
1308: CDAF38   [53]     	call	l38af					;
130B: 3A3A5C   [66]     	ld		a, (errnr)
130E: 3C       [70]     	inc		a
                        	
130F:                   l130f:
130F: F5       [11]     	push	af
1310: 01F5C0   [21]     	ld		bc, ay_reg				; se
1313: 3E07     [28]     	ld		a, 7					;
1315: ED79     [40]     	out		(c), a					;
1317: 3EFF     [47]     	ld		a, 0xff					;
1319: CDCE38   [64]     	call	l38ce					;
131C: 210000   [74]     	ld		hl, 0
131F: 220B5C   [90]     	ld		(defadd), hl
1322: FD7526   [109]    	ld		(iy + _xptr_h), l
1325: FD7537   [128]    	ld		(iy + _flage), l
1328: 23       [134]    	inc		hl
1329: 22165C   [150]    	ld		(strms_00), hl
132C: CDB016   [167]    	call	setmin
132F: CD6E0D   [184]    	call	clslower
1332: F1       [194]    	pop		af
1333: FDCB02EE [217]    	set		5, (iy + _dflag)
1337: 110214   [227]    	ld		de, l140c - 1
133A: FDCB01C6 [250]    	set		0, (iy + _flags)
133E: CD0A0C   [267]    	call	l0c0a
1341: C34A13   [277]    	jp		l134a
                        
1344:                   l1344:								; se
1344: CD451E   [17]     	call	restorez				;
1347: C36B0D   [27]     	jp		cls						;
                        									;
134A:                   l134a:								;
134A: 3E2C     [ 7]     	ld		a, ','					;
134C: D7       [18]     	rst		print_a					;
134D: 3E20     [25]     	ld		a, ' '					;
134F: D7       [36]     	rst		print_a					;
1350: ED4B455C [56]     	ld		bc, (ppc)
1354: CD1B1A   [73]     	call	out_num
1357: 3E3A     [80]     	ld		a, ':'
1359: D7       [91]     	rst		print_a
135A: 0600     [98]     	ld		b, 0
135C: FD4E0D   [117]    	ld		c, (iy + _subppc)
135F: CD1B1A   [134]    	call	out_num
1362: CD9510   [151]    	call	l1095
1365: 3A3A5C   [164]    	ld		a, (errnr)
1368: 3C       [168]    	inc		a
1369: 281B     [175|180]	jr		z, l1386
136B: FE09     [182]    	cp		9
136D: 2804     [189|194]	jr		z, l1373
136F: FE15     [196]    	cp		21
1371: 2003     [203|208]	jr		nz, l1376
                        
1373:                   l1373:
1373: FD340D   [23]     	inc		(iy + _subppc)
                        
1376:                   l1376:
1376: 21445C   [10]     	ld		hl, nsppc
1379: 11705C   [20]     	ld		de, cosppc
137C: 010300   [30]     	ld		bc, 3
137F: CB7E     [42]     	bit		7, (hl)
1381: 2801     [49|54]  	jr		z, l1384
1383: 09       [60]     	add		hl, bc
                        
1384:                   l1384:
1384: EDB8     [16|21]  	lddr
                        
1386:                   l1386:
1386: FD360AFF [19]     	ld		(iy + _nsppc), 255
138A: C3AC12   [29]     	jp		l12ac
                        
138D:                   setudg3:							; se
138D: ED537B5C [20]     	ld		(udg), de				;
1391: EDB0     [36|21]  	ldir							;
1393: C31012   [46]     	jp		setudg_ret				;
                        
1396:                   l1396:								; se
1396: 80207F20          	incbin		"data/copyright.txt"		;
139A: 31393831          
139E: 204E696E          
13A2: 65205469          
13A6: 6C657320          
13AA: 4E657477          
13AE: 6F726B73          
13B2: 204C74E4          
                        
13B6:                   l13b6:								; sam
13B6: 53746172          	incbin		"data/tape.txt"			;
13BA: 74207461          
13BE: 70652061          
13C2: 6E642074          
13C6: 68656E20          
13CA: 70726573          
13CE: 73206120          
13D2: 6B65F9            
                        									;
13D5:                   l13d5:								;
13D5: 0D426173          	incbin		"data/filetypes.txt"		;
13D9: 69633AA0          
13DD: 0D4E756D          
13E1: 65726963          
13E5: 20617272          
13E9: 61793AA0          
13ED: 0D537472          
13F1: 696E6720          
13F5: 61727261          
13F9: 793AA00D          
13FD: 436F6465          
1401: 3AA0              
                        
1403:                   l140c:								; se
1403: 4FCB1477          	incbin		"data/reports.txt"		;
1407: 6974686F          
140B: 75740C88          
140F: 556E6465          
1413: 66696E65          
1417: 64207661          
141B: 72696162          
141F: 6CE54261          
1423: 64207375          
1427: 62736372          
142B: 6970F44F          
142F: 7574206F          
1433: 66206D65          
1437: 6D6F72F9          
143B: 4F666620          
143F: 73637265          
1443: 65EE4E75          
1447: 6D626572          
144B: 20746F6F          
144F: 206C6172          
1453: 67E51F77          
1457: 6974686F          
145B: 75740E88          
145F: 456E6420          
1463: 6F662066          
1467: 696CE503          
146B: 73746174          
146F: 656D656E          
1473: F4426164          
1477: 20617267          
147B: 756D656E          
147F: F4496E74          
1483: 65676572          
1487: 206F7574          
148B: 206F6620          
148F: 72616E67          
1493: E553796E          
1497: 74617820          
149B: 6572726F          
149F: F2425245          
14A3: 414B2C09          
14A7: 72657065          
14AB: 6174F345          
14AF: 6E64206F          
14B3: 66058842          
14B7: 61642066          
14BB: 696C656E          
14BF: 616DE54E          
14C3: 6F20726F          
14C7: 6F6D2066          
14CB: 6F72206C          
14CF: 696EE503          
14D3: 696E0F88          
14D7: 0C776974          
14DB: 686F7574          
14DF: 14884261          
14E3: 64206465          
14E7: 766963E5          
14EB: 42616420          
14EF: 636F6C6F          
14F3: 75F24252          
14F7: 45414B20          
14FB: 696E746F          
14FF: 2070726F          
1503: 677261ED          
1507: 4261641E          
150B: 61646472          
150F: 6573F34D          
1513: 69737369          
1517: 6E672073          
151B: 74617465          
151F: 6D656EF4          
1523: 42616420          
1527: 73747265          
152B: 61ED556E          
152F: 64656669          
1533: 6E656420          
1537: 46CE5061          
153B: 72616D65          
153F: 74657220          
1543: 6572726F          
1547: F24C6F61          
154B: 64696E67          
154F: 20657272          
1553: 6FF2              
                        									;
1555:                   l1555:								;
1555: E1       [10]     	pop		hl						;
1556: 210113   [20]     	ld		hl, l1301				;
1559: E5       [31]     	push	hl						;
155A: C3761B   [41]     	jp		nextstat				;
                        
155D:                   n_l_line:							; zx81
155D: ED43495C [20]     	ld		(eppc), bc				;
1561: 2A5D5C   [36]     	ld		hl, (chadd)				;
1564: EB       [40]     	ex		de, hl					;
1565: 21CE18   [50]     	ld		hl, n_l_only			;
1568: E5       [61]     	push	hl						;
1569: 2A615C   [77]     	ld		hl, (worksp)			; was stkbot
156C: 37       [81]     	scf
156D: ED52     [96]     	sbc		hl, de					; zx81
156F: E5       [107]    	push	hl						;
1570: 60       [111]    	ld		h, b
1571: 69       [115]    	ld		l, c
1572: CD6E19   [132]    	call	line_addr				; zx81
1575: 2006     [139|144]	jr		nz, copy_over			;
1577: CDB819   [156]    	call	next_one				;
157A: CDE819   [173]    	call	reclaim_2				;
                        									;
157D:                   copy_over:							;
157D: C1       [10]     	pop		bc						;
157E: 79       [14]     	ld		a, c					;
157F: 3D       [18]     	dec		a						;
1580: B0       [22]     	or		b						;
1581: 2828     [29|34]  	jr		z, l15ab
1583: C5       [40]     	push	bc						; zx81
1584: 03       [46]     	inc		bc						;
1585: 03       [52]     	inc		bc						;
1586: 03       [58]     	inc		bc						;
1587: 03       [64]     	inc		bc						;
1588: 2B       [70]     	dec		hl						;
1589: ED5B535C [90]     	ld		de, (prog)
158D: D5       [101]    	push	de
158E: CD5516   [118]    	call	make_room
1591: E1       [128]    	pop		hl
1592: 22535C   [144]    	ld		(prog), hl
1595: C1       [154]    	pop		bc						; zx81
1596: C5       [165]    	push	bc						;
1597: 13       [171]    	inc		de						;
1598: 2A615C   [187]    	ld		hl, (worksp)			; was stkbot
159B: 2B       [193]    	dec		hl						;
159C: 2B       [199]    	dec		hl
159D: EDB8     [215|21] 	lddr							; zx81
159F: 2A495C   [231]    	ld		hl, (eppc)				;
15A2: EB       [235]    	ex		de, hl					;
15A3: C1       [245]    	pop		bc						;
15A4: 70       [252]    	ld		(hl), b					;
15A5: 2B       [258]    	dec		hl						;
15A6: 71       [265]    	ld		(hl), c					;
15A7: 2B       [271]    	dec		hl						;
15A8: 73       [278]    	ld		(hl), e					;
15A9: 2B       [284]    	dec		hl						;
15AA: 72       [291]    	ld		(hl), d					;
                        
15AB:                   l15ab:
15AB: F1       [10]     	pop		af
15AC: C3A212   [20]     	jp		l12a2
                        
15AF:                   chantab:							; sam
15AF: F409A610          	defw	prmain, kyip			;
15B3: 4B                	defb	'K'						;
15B4: F409C415          	defw	prmain, iderr			;
15B8: 53                	defb	'S'						;
15B9: 6339C415          	defw	l3963, iderr			;
15BD: 52                	defb	'R'						; se
15BE: A533C415          	defw	x80_fdel, iderr			;
15C2: 50                	defb	'P'						; sam
15C3: 80                	defb	0x80					;
                        									;
15C4:                   iderr:								;
15C4: CF       [11]     	rst		error_1					;
15C5: 12                	defb	Bad_device				;
                        									;
15C6:                   strmtab:							;
15C6: 01000600          	defb	0x01, 0x00, 0x06, 0x00, 0x0b, 0x00, 0x01, 0x00
15CA: 0B000100          
15CE: 01000600          	defb	0x01, 0x00, 0x06, 0x00, 0x10, 0x00
15D2: 1000              
                        									;
15D4:                   waitkey:							;
15D4: FDCB026E [20]     	bit		5, (iy + _dflag)		;
15D8: 2004     [27|32]  	jr		nz, wtky2				;
15DA: FDCB02DE [50]     	set		3, (iy + _dflag)		;
                        									;
15DE:                   wtky2:								;
15DE: CDE615   [17]     	call	inputad					;
15E1: D8       [22|28]  	ret		c						;
15E2: 28FA     [29|34]  	jr		z, wtky2				;
15E4: CF       [40]     	rst		error_1					;
15E5: 07                	defb	End_of_file				;
                        									;
15E6:                   inputad:							;
15E6: D9       [ 4]     	exx								;
15E7: E5       [15]     	push	hl						;
15E8: 2A515C   [31]     	ld		hl, (curchl)			;
15EB: 23       [37]     	inc		hl						;
15EC: 23       [43]     	inc		hl						;
15ED: 1808     [55]     	jr		l15f7
                        
15EF:                   out_code:							; zx81
15EF: 1E30     [ 7]     	ld		e, '0'					;
15F1: 83       [11]     	add		a, e					;
                        									;
15F2:                   print_sp:							;
15F2: D9       [ 4]     	exx								;
15F3: E5       [15]     	push	hl						;
15F4: 2A515C   [31]     	ld		hl, (curchl)
                        
15F7:                   l15f7:
15F7: 5E       [ 7]     	ld		e, (hl)
15F8: 23       [13]     	inc		hl
15F9: 56       [20]     	ld		d, (hl)
15FA: EB       [24]     	ex		de, hl
15FB: CD2C16   [41]     	call	l162c
15FE: E1       [51]     	pop		hl						; zx81
15FF: D9       [55]     	exx								;
1600: C9       [65]     	ret								;
                        
1601:                   l1601:
1601: 87       [ 4]     	add		a, a
1602: C616     [11]     	add		a, 22
1604: 265C     [18]     	ld		h, 92
1606: 6F       [22]     	ld		l, a
1607: 5E       [29]     	ld		e, (hl)
1608: 23       [35]     	inc		hl
1609: 56       [42]     	ld		d, (hl)
160A: 7B       [46]     	ld		a, e
160B: B2       [50]     	or		d
160C: 2002     [57|62]  	jr		nz, l1610
                        
160E:                   invstrm:							; sam
160E: CF       [11]     	rst		error_1					;
160F: 17                	defb	Bad_stream				;
                        
1610:                   l1610:
1610: 1B       [ 6]     	dec		de
1611: 2A4F5C   [22]     	ld		hl, (chans)
1614: 19       [33]     	add		hl, de
                        
1615:                   chanflag:
1615: FDCB30A6 [23]     	res		4, (iy + _klflag)
1619: 22515C   [39]     	ld		(curchl), hl			; sam
161C: 23       [45]     	inc		hl						;
161D: 23       [51]     	inc		hl						;
161E: 23       [57]     	inc		hl						;
161F: 23       [63]     	inc		hl						;
1620: 4E       [70]     	ld		c, (hl)
1621: 212D16   [80]     	ld		hl, cltab
1624: CDDC16   [97]     	call	l16dc
1627: D0       [102|108]	ret		nc
1628: 5E       [109]    	ld		e, (hl)
1629: 1600     [116]    	ld		d, 0
162B: 19       [127]    	add		hl, de
                        
162C:                   l162c:
162C: E9       [ 4]     	jp		(hl)
                        
162D:                   cltab:								; sam
162D: 4B07              	defb	'K', l1634 - $			;
162F: 5313              	defb	'S', l1642 - $			;
1631: 5220              	defb	'R', l1651 - $			; se
1633: 00                	defb	0						;
                        
1634:                   l1634:
1634: FDCB01AE [23]     	res		5, (iy + _flags)
1638: FDCB30E6 [46]     	set		4, (iy + _klflag)
163C: FDCB02C6 [69]     	set		0, (iy + _dflag)
1640: 1804     [81]     	jr		l1646
                        
1642:                   l1642:
1642: FDCB0286 [23]     	res		0, (iy + _dflag)
                        
1646:                   l1646:
1646: C34D0D   [10]     	jp		trcurp
                        
1649:                   l1649:								; se
1649: 4B07              	defb	'K', l1650 - $			;
164B: 5305              	defb	'S', l1650 - $			;
164D: 5203              	defb	'R', l1650 - $			;
164F: 00                	defb	0						;
                        									;
1650:                   l1650:								;
1650: E1       [10]     	pop		hl						;
                        									;
1651:                   l1651:								;
1651: C9       [10]     	ret								;
                        
1652:                   one_space:							; zx81
1652: 010100   [10]     	ld		bc, 1					;
                        									;
1655:                   make_room:							;
1655: E5       [11]     	push	hl						;
1656: CD051F   [28]     	call	test_room				;
1659: E1       [38]     	pop		hl						;
165A: CD6416   [55]     	call	pointers				;
165D: 2A655C   [71]     	ld		hl, (stkend)			;
1660: EB       [75]     	ex		de, hl					;
1661: EDB8     [91|21]  	lddr							;
1663: C9       [101]    	ret								;
                        									;
1664:                   pointers:							;
1664: F5       [11]     	push	af						;
1665: E5       [22]     	push	hl						;
1666: 214B5C   [32]     	ld		hl, vars				;
1669: 3E0E     [39]     	ld		a, 14					;
                        									;
166B:                   next_ptr:							;
166B: 5E       [ 7]     	ld		e, (hl)					;
166C: 23       [13]     	inc		hl						;
166D: 56       [20]     	ld		d, (hl)					;
166E: E3       [39]     	ex		(sp), hl				;
166F: A7       [43]     	and		a						;
1670: ED52     [58]     	sbc		hl, de					;
1672: 19       [69]     	add		hl, de					;
1673: E3       [88]     	ex		(sp), hl				;
1674: 3009     [95|100] 	jr		nc, ptr_done			;
1676: D5       [106]    	push	de						;
1677: EB       [110]    	ex		de, hl					;
1678: 09       [121]    	add		hl, bc					;
1679: EB       [125]    	ex		de, hl					;
167A: 72       [132]    	ld		(hl), d					;
167B: 2B       [138]    	dec		hl						;
167C: 73       [145]    	ld		(hl), e					;
167D: 23       [151]    	inc		hl						;
167E: D1       [161]    	pop		de						;
                        									;
167F:                   ptr_done:							;
167F: 23       [ 6]     	inc		hl						;
1680: 3D       [10]     	dec		a						;
1681: 20E8     [17|22]  	jr		nz, next_ptr			;
1683: EB       [21]     	ex		de, hl					;
1684: D1       [31]     	pop		de						;
1685: F1       [41]     	pop		af						;
1686: A7       [45]     	and		a						;
1687: ED52     [60]     	sbc		hl, de					;
1689: 44       [64]     	ld		b, h					;
168A: 4D       [68]     	ld		c, l					;
168B: 03       [74]     	inc		bc						;
168C: 19       [85]     	add		hl, de					;
168D: EB       [89]     	ex		de, hl					;
168E: C9       [99]     	ret								;
                        									;
168F:                   l168f:								;
168F: 0000              	defw	0x0000					;
                        									;
1691:                   zero_de:							;
1691: EB       [ 4]     	ex		de, hl					;
1692: 118F16   [14]     	ld		de, l168f				;
                        									;
1695:                   line_no:							;
1695: 7E       [ 7]     	ld		a, (hl)					;
1696: E6C0     [14]     	and		%11000000				;
1698: 20F7     [21|26]  	jr		nz, zero_de				;
169A: 56       [28]     	ld		d, (hl)					;
169B: 23       [34]     	inc		hl						;
169C: 5E       [41]     	ld		e, (hl)					;
169D: C9       [51]     	ret								;
                        									;
169E:                   reserve:							;
169E: 2A635C   [16]     	ld		hl, (stkbot)			;
16A1: 2B       [22]     	dec		hl						;
16A2: CD5516   [39]     	call	make_room				;
16A5: 23       [45]     	inc		hl						;
16A6: 23       [51]     	inc		hl						;
16A7: C1       [61]     	pop		bc						;
16A8: ED43615C [81]     	ld		(worksp), bc			; was eline
16AC: C1       [91]     	pop		bc						;
16AD: EB       [95]     	ex		de, hl					;
16AE: 23       [101]    	inc		hl						;
16AF: C9       [111]    	ret								;
                        
16B0:                   setmin:
16B0: 2A595C   [16]     	ld		hl, (eline)
16B3: 360D     [26]     	ld		(hl), ctrl_n_l
16B5: 225B5C   [42]     	ld		(kcur), hl
16B8: 23       [48]     	inc		hl						; sam
16B9: 3680     [58]     	ld		(hl), 0x80				;
16BB: 23       [64]     	inc		hl						;
16BC: 22615C   [80]     	ld		(worksp), hl			;
                        									;
16BF:                   setwork:							;
16BF: 2A615C   [16]     	ld		hl, (worksp)			;
16C2: 22635C   [32]     	ld		(stkbot), hl
                        
16C5:                   set_mem:							; zx81
16C5: 2A635C   [16]     	ld		hl, (stkbot)			;
16C8: 22655C   [32]     	ld		(stkend), hl			; sam
16CB: E5       [43]     	push	hl
16CC: 21925C   [53]     	ld		hl, membot				; zx81
16CF: 22685C   [69]     	ld		(mem), hl				;
16D2: E1       [79]     	pop		hl
16D3: C9       [89]     	ret								; sam
                        
16D4:                   setudg2:							; se
16D4: 1E40     [ 7]     	ld		e, 0x40					;
16D6: 0EA8     [14]     	ld		c, 168					;
16D8: C38D13   [24]     	jp		setudg3					;
                        
16DB:                   l16db:
16DB: 23       [ 6]     	inc		hl
                        
16DC:                   l16dc:
16DC: 7E       [ 7]     	ld		a, (hl)
16DD: A7       [11]     	and		a
16DE: C8       [16|22]  	ret		z
16DF: B9       [20]     	cp		c
16E0: 23       [26]     	inc		hl
16E1: 20F8     [33|38]  	jr		nz, l16db
16E3: 37       [37]     	scf
16E4: C9       [47]     	ret
                        
16E5:                   l16e5:
16E5: CD1E17   [17]     	call	l171e
16E8: CDA818   [34]     	call	l18a8
16EB: 010000   [44]     	ld		bc, 0
16EE: 11E2A3   [54]     	ld		de, 0xa3e2
16F1: EB       [58]     	ex		de, hl
16F2: 19       [69]     	add		hl, de
16F3: 3807     [76|81]  	jr		c, l16fc
16F5: 01D415   [86]     	ld		bc, strmtab + 14
16F8: 09       [97]     	add		hl, bc
16F9: 4E       [104]    	ld		c, (hl)
16FA: 23       [110]    	inc		hl
16FB: 46       [117]    	ld		b, (hl)
                        
16FC:                   l16fc:
16FC: EB       [ 4]     	ex		de, hl
16FD: 71       [11]     	ld		(hl), c
16FE: 23       [17]     	inc		hl
16FF: 70       [24]     	ld		(hl), b
1700: C9       [34]     	ret
                        
1701:                   l1701:
1701: E5       [11]     	push	hl
1702: 2A4F5C   [27]     	ld		hl, (chans)
1705: 09       [38]     	add		hl, bc
1706: 23       [44]     	inc		hl
1707: 23       [50]     	inc		hl
1708: 23       [56]     	inc		hl
1709: 4E       [63]     	ld		c, (hl)
170A: EB       [67]     	ex		de, hl
170B: 214916   [77]     	ld		hl, l1649
170E: CDDC16   [94]     	call	l16dc
1711: 4E       [101]    	ld		c, (hl)
1712: 1802     [113]    	jr		l1716
                        
1714:                   l1714:
1714: 09       [11]     	add		hl, bc
1715: E9       [15]     	jp		(hl)
                        
1716:                   l1716:
1716: 0600     [ 7]     	ld		b, 0
1718: 38FA     [14|19]  	jr		c, l1714
171A: 1809     [26]     	jr		invstrm2
171C: E1       [36]     	pop		hl
171D: C9       [46]     	ret
                        
171E:                   l171e:
171E: CD941E   [17]     	call	getbyte
1721: FE10     [24]     	cp		16
1723: 3802     [31|36]  	jr		c, l1727
                        
1725:                   invstrm2:							; sam
1725: CF       [11]     	rst		error_1					;
1726: 17                	defb	Bad_stream				;
                        
1727:                   l1727:
1727: C603     [ 7]     	add		a, 3
1729: 07       [11]     	rlca
172A: 21105C   [21]     	ld		hl, strms
172D: 0600     [28]     	ld		b, 0
172F: 4F       [32]     	ld		c, a
1730: 09       [43]     	add		hl, bc
1731: 4E       [50]     	ld		c, (hl)
1732: 23       [56]     	inc		hl
1733: 46       [63]     	ld		b, (hl)
1734: 2B       [69]     	dec		hl
1735: C9       [79]     	ret
                        
1736:                   l1736:
                        	fwait
1736: EF       [11]     	rst	28h
                        	fxch
1737: 01                	defb	0x01
                        	fce
1738: 38                	defb	0x38
1739: CD1E17   [28]     	call	l171e
173C: 79       [32]     	ld		a, c
173D: B0       [36]     	or		b
173E: 2816     [43|48]  	jr		z, l1756
1740: EB       [47]     	ex		de, hl
1741: 2A4F5C   [63]     	ld		hl, (chans)
1744: 09       [74]     	add		hl, bc
1745: 23       [80]     	inc		hl
1746: 23       [86]     	inc		hl
1747: 23       [92]     	inc		hl
1748: 7E       [99]     	ld		a, (hl)
1749: EB       [103]    	ex		de, hl
174A: FE4B     [110]    	cp		'K'
174C: 2808     [117|122]	jr		z, l1756
174E: FE53     [124]    	cp		'S'
1750: 2804     [131|136]	jr		z, l1756
1752: FE52     [138]    	cp		'R'
1754: 20CF     [145|150]	jr		nz, invstrm2
                        
1756:                   l1756:
1756: CD5D17   [17]     	call	l175d
1759: 73       [24]     	ld		(hl), e
175A: 23       [30]     	inc		hl
175B: 72       [37]     	ld		(hl), d
175C: C9       [47]     	ret
                        
175D:                   l175d:
175D: E5       [11]     	push	hl
175E: CDF12B   [28]     	call	stk_fetch
1761: 79       [32]     	ld		a, c
1762: B0       [36]     	or		b
1763: 2002     [43|48]  	jr		nz, l1767
                        
1765:                   report_f:							; zx81
1765: CF       [11]     	rst		error_1					;
1766: 0E                	defb	Bad_filename			;
                        
1767:                   l1767:
1767: C5       [11]     	push	bc
1768: 1A       [18]     	ld		a, (de)
1769: E6DF     [25]     	and		%11011111
176B: 4F       [29]     	ld		c, a
176C: 217A17   [39]     	ld		hl, l177a
176F: CDDC16   [56]     	call	l16dc
1772: 30F1     [63|68]  	jr		nc, report_f
1774: 0600     [70]     	ld		b, 0
1776: 4E       [77]     	ld		c, (hl)
1777: 09       [88]     	add		hl, bc
1778: C1       [98]     	pop		bc
1779: E9       [102]    	jp		(hl)
                        
177A:                   l177a:
177A: 4B07              	defb	'K', l1781 - $
177C: 5309              	defb	'S', l1785 - $
177E: 520B              	defb	'R', l1789 - $			; se
1780: 00                	defb	0						;
                        
1781:                   l1781:
1781: 1E01     [ 7]     	ld		e, 1
1783: 1806     [19]     	jr		l178b
                        
1785:                   l1785:
1785: 1E06     [ 7]     	ld		e, 6
1787: 1802     [19]     	jr		l178b
                        
1789:                   l1789:
1789: 1E0B     [ 7]     	ld		e, 0x0b
                        
178B:                   l178b:
178B: 0B       [ 6]     	dec		bc
178C: 78       [10]     	ld		a, b
178D: B1       [14]     	or		c
178E: 20D5     [21|26]  	jr		nz, report_f
1790: 57       [25]     	ld		d, a
1791: E1       [35]     	pop		hl
1792: C9       [45]     	ret
                        
1793:                   l1793:
1793: 1890     [12]     	jr		invstrm2
                        
1795:                   autolist:
1795: FD360210 [19]     	ld		(iy + _dflag), 16
1799: ED733F5C [39]     	ld		(listsp), sp
179D: CDAF0D   [56]     	call	l0daf
17A0: FD4631   [75]     	ld		b, (iy + _dfsz)
17A3: FDCB02C6 [98]     	set		0, (iy + _dflag)
17A7: CD440E   [115]    	call	l0e44
17AA: FDCB0286 [138]    	res		0, (iy + _dflag)
17AE: FDCB30C6 [161]    	set		0, (iy + _klflag)		; sam
17B2: ED5B6C5C [181]    	ld		de, (sdtop)				; was hl
17B6: 2A495C   [197]    	ld		hl, (eppc)				; was de
17B9: A7       [201]    	and		a						;
17BA: ED52     [216]    	sbc		hl, de					;
17BC: 19       [227]    	add		hl, de
17BD: 3822     [234|239]	jr		c, aul4
17BF: D5       [245]    	push	de
17C0: CD6E19   [262]    	call	line_addr
17C3: 11C002   [272]    	ld		de, 0x02c0
17C6: EB       [276]    	ex		de, hl
17C7: ED52     [291]    	sbc		hl, de
17C9: E3       [310]    	ex		(sp), hl
17CA: CD6E19   [327]    	call	line_addr
17CD: C1       [337]    	pop		bc
                        
17CE:                   l17ce:
17CE: C5       [11]     	push	bc
17CF: CDB819   [28]     	call	next_one
17D2: C1       [38]     	pop		bc
17D3: 09       [49]     	add		hl, bc
17D4: 380E     [56|61]  	jr		c, l17e4
17D6: EB       [60]     	ex		de, hl
17D7: 56       [67]     	ld		d, (hl)
17D8: 23       [73]     	inc		hl
17D9: 5E       [80]     	ld		e, (hl)
17DA: 2B       [86]     	dec		hl
17DB: ED536C5C [106]    	ld		(sdtop), de
17DF: 18ED     [118]    	jr		l17ce
                        
17E1:                   aul4:								; sam
17E1: 226C5C   [16]     	ld		(sdtop), hl				;
                        
17E4:                   l17e4:
17E4: 2A6C5C   [16]     	ld		hl, (sdtop)
17E7: CD6E19   [33]     	call	line_addr
17EA: 2801     [40|45]  	jr		z, l17ed
17EC: EB       [44]     	ex		de, hl
                        
17ED:                   l17ed:
17ED: CD3318   [17]     	call	l1833
17F0: FDCB02A6 [40]     	res		4, (iy + _dflag)
17F4: C9       [50]     	ret
                        
17F5:                   llist:								; sam
17F5: 3E03     [ 7]     	ld		a, 3					; was c
17F7: 1802     [19]     	jr		l17fb					;
                        									;
17F9:                   list:								;
17F9: 3E02     [ 7]     	ld		a, 2					; was c
                        									;
17FB:                   l17fb:								;
17FB: FD360200 [19]     	ld		(iy + _dflag), 0		;
17FF: CD3025   [36]     	call	syntax_z				;
1802: C40116   [46|53]  	call	nz, l1601
1805: DF       [57]     	rst		get_ch
1806: CD7020   [74]     	call	l2070
1809: 3814     [81|86]  	jr		c, l181f
180B: DF       [92]     	rst		get_ch
180C: FE2C     [99]     	cp		','
180E: 2809     [106|111]	jr		z, l1819
1810: FE3B     [113]    	cp		';'
1812: 2805     [120|125]	jr		z, l1819
                        
1814:                   l1814:
1814: CDE61C   [17]     	call	no_to_stk
1817: 1809     [29]     	jr		l1822
                        
1819:                   l1819:
1819: E7       [11]     	rst		next_ch
181A: CD821C   [28]     	call	class_6
181D: 1803     [40]     	jr		l1822
                        
181F:                   l181f:
181F: CDDE1C   [17]     	call	l1cde
                        
1822:                   l1822:
1822: CDEE1B   [17]     	call	check_end
1825: CD0139   [34]     	call	syntax3
1828: 78       [38]     	ld		a, b
1829: E63F     [45]     	and		%00111111
182B: 67       [49]     	ld		h, a
182C: 69       [53]     	ld		l, c
182D: 22495C   [69]     	ld		(eppc), hl
1830: CD6E19   [86]     	call	line_addr
                        
1833:                   l1833:
1833: 1E01     [ 7]     	ld		e, 1
                        
1835:                   l1835:
1835: CD5518   [17]     	call	out_line
1838: D7       [28]     	rst		print_a
1839: FDCB0266 [48]     	bit		4, (iy + _dflag)
183D: 28F6     [55|60]  	jr		z, l1835
183F: 3A6B5C   [68]     	ld		a, (dfsz)
1842: FD964F   [87]     	sub		(iy + _sposnu_h)
1845: 20EE     [94|99]  	jr		nz, l1835
1847: AB       [98]     	xor		e
1848: C8       [103|109]	ret		z
1849: D5       [114]    	push	de
184A: E5       [125]    	push	hl
184B: 216C5C   [135]    	ld		hl, sdtop
184E: CD0F19   [152]    	call	ln_fetch
1851: E1       [162]    	pop		hl
1852: D1       [172]    	pop		de
1853: 18E0     [184]    	jr		l1835
                        
1855:                   out_line:							; zx81
1855: ED4B495C [20]     	ld		bc, (eppc)				;
1859: CD8019   [37]     	call	cp_lines				;
185C: 168F     [44]     	ld		d, 143					;
185E: 2805     [51|56]  	jr		z, test_end				;
                        									;
1860:                   l1860:								;
1860: 110000   [10]     	ld		de, 0					;
1863: CB13     [18]     	rl		e						;
                        									;
1865:                   test_end:							;
1865: FD732D   [19]     	ld		(iy + _breg), e			;
1868: 7E       [26]     	ld		a, (hl)					;
1869: FE40     [33]     	cp		64						;
186B: C1       [43]     	pop		bc						;
186C: D0       [48|54]  	ret		nc						;
186D: C5       [59]     	push	bc						;
186E: CD281A   [76]     	call	out_no					;
1871: 23       [82]     	inc		hl						; sam
1872: 23       [88]     	inc		hl						;
1873: 23       [94]     	inc		hl						;
1874: 7A       [98]     	ld		a, d
1875: A7       [102]    	and		a
1876: FDCB0186 [125]    	res		0, (iy + _flags)
187A: 2807     [132|137]	jr		z, l1883
187C: CDEE18   [149]    	call	l18ee
                        
187F:                   l187f:
187F: FDCB01C6 [23]     	set		0, (iy + _flags)
                        
1883:                   l1883:
1883: D5       [11]     	push	de
1884: EB       [15]     	ex		de, hl
                        
1885:                   l1885:
1885: 2A5F5C   [16]     	ld		hl, (xptr)
1888: A7       [20]     	and		a
1889: ED52     [35]     	sbc		hl, de
188B: 2008     [42|47]  	jr		nz, l1895
188D: 3E3F     [49]     	ld		a, '?'
188F: CDEE18   [66]     	call	l18ee
1892: CD6711   [83]     	call	l1167
                        
1895:                   l1895:
1895: CDD318   [17]     	call	opcursor
1898: EB       [21]     	ex		de, hl
1899: 7E       [28]     	ld		a, (hl)
189A: CDB118   [45]     	call	number
189D: 23       [51]     	inc		hl
189E: FE0D     [58]     	cp		ctrl_n_l
18A0: 2804     [65|70]  	jr		z, l18a6
18A2: EB       [69]     	ex		de, hl
18A3: D7       [80]     	rst		print_a
18A4: 18DF     [92]     	jr		l1885
                        
18A6:                   l18a6:
18A6: D1       [10]     	pop		de
18A7: C9       [20]     	ret
                        
18A8:                   l18a8:								; se
18A8: 57       [ 4]     	ld		d, a					;
18A9: 78       [ 8]     	ld		a, b					;
18AA: B1       [12]     	or		c						;
18AB: 7A       [16]     	ld		a, d					;
18AC: C20117   [26|26]  	jp		nz, l1701				;
18AF: CF       [37]     	rst		error_1					;
18B0: 17                	defb	Bad_stream				;
                        
18B1:                   number:								; zx81
18B1: FE0E     [ 7]     	cp		ctrl_number				;
18B3: C0       [12|18]  	ret		nz						;
                        
18B4:                   l18b4:
18B4: 23       [ 6]     	inc		hl						;
                        									;
18B5:                   l18b5:								;
18B5: 23       [ 6]     	inc		hl						;
18B6: 23       [12]     	inc		hl						;
18B7: 23       [18]     	inc		hl						;
18B8: 23       [24]     	inc		hl						;
18B9: 23       [30]     	inc		hl						; se
18BA: 7E       [37]     	ld		a, (hl)					; zx81
18BB: C9       [47]     	ret								;
                        
18BC:                   l18bc:								; se
18BC: CD991E   [17]     	call	find_int				;
18BF: C5       [28]     	push	bc						;
18C0: CD991E   [45]     	call	find_int				;
18C3: C5       [56]     	push	bc						;
18C4: CD991E   [73]     	call	find_int				;
18C7: C5       [84]     	push	bc						;
18C8: E1       [94]     	pop		hl						;
18C9: D1       [104]    	pop		de						;
18CA: C1       [114]    	pop		bc						;
18CB: EDB0     [130|21] 	ldir							;
18CD: C9       [140]    	ret								;
                        
18CE:                   n_l_only:
18CE: 3E10     [ 7]     	ld		a, 16
18D0: C30F13   [17]     	jp		l130f
                        
18D3:                   opcursor:							; sam
18D3: 2A5B5C   [16]     	ld		hl, (kcur)				;
18D6: A7       [20]     	and		a						;
18D7: ED52     [35]     	sbc		hl, de					;
18D9: C0       [40|46]  	ret		nz						;
18DA: 3A415C   [53]     	ld		a, (mode)
18DD: FE02     [60]     	cp		2						; se
18DF: 3804     [67|72]  	jr		c, l18e5				;
18E1: 3E1D     [74]     	ld		a, 29					;
18E3: 1809     [86]     	jr		l18ee					;
                        									;
18E5:                   l18e5:								;
18E5: 3E1E     [ 7]     	ld		a, 30					;
18E7: FDCB305E [27]     	bit		3, (iy + _klflag)		;
18EB: 2801     [34|39]  	jr		z, l18ee				;
18ED: 3C       [38]     	inc		a						;
                        
18EE:                   l18ee:								; se
18EE: D9       [ 4]     	exx								;
18EF: 21915C   [14]     	ld		hl, pflag				;
18F2: 56       [21]     	ld		d, (hl)					;
18F3: D5       [32]     	push	de						;
18F4: 360C     [42]     	ld		(hl), 0x0c				;
18F6: CDF409   [59]     	call	prmain					;
18F9: E1       [69]     	pop		hl						;
18FA: FD7457   [88]     	ld		(iy + _pflag), h		;
18FD: D9       [92]     	exx								;
18FE: C9       [102]    	ret								;
                        									;
18FF:                   l18ff:								;
18FF: 21085C   [10]     	ld		hl, lastk				;
1902: 75       [17]     	ld		(hl), l					;
                        									;
1903:                   l1903:								;
1903: 7E       [ 7]     	ld		a, (hl)					;
1904: FE0D     [14]     	cp		ctrl_n_l				;
1906: 2804     [21|26]  	jr		z, l190c				;
1908: FE20     [28]     	cp		' '						;
190A: 38F7     [35|40]  	jr		c, l1903				;
                        									;
190C:                   l190c:								;
190C: C3B310   [10]     	jp		l10b3					;
                        
190F:                   ln_fetch:							; zx80
190F: 5E       [ 7]     	ld		e, (hl)					;
1910: 23       [13]     	inc		hl						;
1911: 56       [20]     	ld		d, (hl)					;
1912: E5       [31]     	push	hl						;
1913: EB       [35]     	ex		de, hl					;
1914: 23       [41]     	inc		hl						;
1915: CD6E19   [58]     	call	line_addr				;
1918: CD9516   [75]     	call	line_no					;
191B: E1       [85]     	pop		hl						;
                        									;
191C:                   ln_store:							;
191C: FDCB376E [20]     	bit		5, (iy + _flage)		;
1920: C0       [25|31]  	ret		nz
1921: 72       [32]     	ld		(hl), d					; zx80
1922: 2B       [38]     	dec		hl						;
1923: 73       [45]     	ld		(hl), e					;
1924: C9       [55]     	ret								;
                        
1925:                   lead_sp:							; zx81
1925: 7B       [ 4]     	ld		a, e					;
1926: A7       [ 8]     	and		a						;
1927: F8       [13|19]  	ret		m						;
1928: D7       [24]     	rst		print_a					; se
1929: C9       [34]     	ret								;
                        
192A:                   out_digit:							; zx81
192A: AF       [ 4]     	xor		a						;
                        									;
192B:                   digit_inc:							;
192B: 09       [11]     	add		hl, bc					;
192C: 3C       [15]     	inc		a						;
192D: 38FC     [22|27]  	jr		c, digit_inc			;
192F: ED42     [37]     	sbc		hl, bc					;
1931: 3D       [41]     	dec		a						;
1932: 28F1     [48|53]  	jr		z, lead_sp				;
1934: C3EF15   [58]     	jp		out_code				; se
                        									;
1937:                   l1937:								;
1937: DF       [11]     	rst		get_ch					;
1938: FEEC     [18]     	cp		tk_goto					;
193A: 280A     [25|30]  	jr		z, l1946				;
193C: FEE8     [32]     	cp		tk_continue				;
193E: 2819     [39|44]  	jr		z, l1959				;
1940: FEE2     [46]     	cp		tk_stop					;
1942: 2823     [53|58]  	jr		z, l1967				;
1944: CF       [64]     	rst		error_1					;
1945: 0B                	defb	Syntax_error			;
                        									;
1946:                   l1946:								;
1946: E7       [11]     	rst		next_ch					;
1947: CD821C   [28]     	call	class_6					;
194A: CDEE1B   [45]     	call	check_end				;
194D: CD0139   [62]     	call	syntax3					;
1950: CD3025   [79]     	call	syntax_z				;
1953: C8       [84|90]  	ret		z						;
1954: ED437F5C [104]    	ld		(onerrflag), bc			;
1958: C9       [114]    	ret								;
                        									;
1959:                   l1959:								;
1959: E7       [11]     	rst		next_ch					;
195A: CDEE1B   [28]     	call	check_end				;
195D: CD3025   [45]     	call	syntax_z				;
1960: C8       [50|56]  	ret		z						;
1961: 3EFE     [57]     	ld		a, 0xfe					;
                        									;
1963:                   l1963:								;
1963: 32805C   [13]     	ld		(onerrflag_h), a		;
1966: C9       [23]     	ret								;
                        									;
1967:                   l1967:								;
1967: CD5919   [17]     	call	l1959					;
196A: C8       [22|28]  	ret		z						;
196B: 3C       [26]     	inc		a						;
196C: 18F5     [38]     	jr		l1963					;
                        
196E:                   line_addr:							; zx81
196E: E5       [11]     	push	hl						;
196F: 2A535C   [27]     	ld		hl, (prog)				;
1972: 54       [31]     	ld		d, h					;
1973: 5D       [35]     	ld		e, l					;
                        									;
1974:                   next_test:							;
1974: C1       [10]     	pop		bc						;
1975: CD8019   [27]     	call	cp_lines				;
1978: D0       [32|38]  	ret		nc						;
1979: C5       [43]     	push	bc						;
197A: CDB819   [60]     	call	next_one				;
197D: EB       [64]     	ex		de, hl					;
197E: 18F4     [76]     	jr		next_test				;
                        									;
1980:                   cp_lines:							;
1980: 7E       [ 7]     	ld		a, (hl)					;
1981: B8       [11]     	cp		b						;
1982: C0       [16|22]  	ret		nz						;
1983: 23       [22]     	inc		hl						;
1984: 7E       [29]     	ld		a, (hl)					;
1985: 2B       [35]     	dec		hl						;
1986: B9       [39]     	cp		c						;
1987: C9       [49]     	ret								;
                        
1988:                   l1988:								; se
1988: 4D4754            	defb	"MGT"					;
                        
198B:                   skipstats:
198B: 225D5C   [16]     	ld		(chadd), hl
198E: 0E00     [23]     	ld		c, 0
                        
1990:                   l1990:
1990: 15       [ 4]     	dec		d
1991: C8       [ 9|15]  	ret		z
1992: E7       [20]     	rst		next_ch
1993: BB       [24]     	cp		e
1994: 2004     [31|36]  	jr		nz, l199a
1996: A7       [35]     	and		a
1997: C9       [45]     	ret
                        
1998:                   l1998:
1998: 23       [ 6]     	inc		hl
1999: 7E       [13]     	ld		a, (hl)
                        
199A:                   l199a:
199A: CDB118   [17]     	call	number
199D: 225D5C   [33]     	ld		(chadd), hl
19A0: FE22     [40]     	cp		'"'
19A2: 2001     [47|52]  	jr		nz, l19a5
19A4: 0D       [51]     	dec		c
                        
19A5:                   l19a5:								; sam
19A5: FE3A     [ 7]     	cp		':'						;
19A7: 2804     [14|19]  	jr		z, fincstat				;
19A9: FECB     [21]     	cp		tk_then					;
19AB: 2004     [28|33]  	jr		nz, l19b1
                        
19AD:                   fincstat:
19AD: CB41     [ 8]     	bit		0, c 
19AF: 28DF     [15|20]  	jr		z, l1990
                        
19B1:                   l19b1:
19B1: FE0D     [ 7]     	cp		ctrl_n_l
19B3: 20E3     [14|19]  	jr		nz, l1998
19B5: 15       [18]     	dec		d
19B6: 37       [22]     	scf
19B7: C9       [32]     	ret
                        
19B8:                   next_one:							; zx81
19B8: E5       [11]     	push	hl						;
19B9: 7E       [18]     	ld		a, (hl)					;
19BA: FE40     [25]     	cp		64						;
19BC: 3817     [32|37]  	jr		c, lines				;
19BE: CB6F     [40]     	bit		5, a					;
19C0: 2814     [47|52]  	jr		z, bit_5_nil			;
19C2: 87       [51]     	add		a, a					;
19C3: FAC719   [61|61]  	jp		m, next_five			;
19C6: 3F       [65]     	ccf								;
                        									;
19C7:                   next_five:							;
19C7: 010500   [10]     	ld		bc, 5					;
19CA: 3002     [17|22]  	jr		nc, next_lett			;
19CC: 0E12     [24]     	ld		c, 18					;
                        									;
19CE:                   next_lett:							;
19CE: 17       [ 4]     	rla								;
19CF: 23       [10]     	inc		hl						;
19D0: 7E       [17]     	ld		a, (hl)					;
19D1: 30FB     [24|29]  	jr		nc, next_lett			;
19D3: 1806     [36]     	jr		next_add				;
                        									;
19D5:                   lines:								;
19D5: 23       [ 6]     	inc		hl						;
                        									;
19D6:                   bit_5_nil:							;
19D6: 23       [ 6]     	inc		hl						;
19D7: 4E       [13]     	ld		c, (hl)					;
19D8: 23       [19]     	inc		hl						;
19D9: 46       [26]     	ld		b, (hl)					;
19DA: 23       [32]     	inc		hl						;
                        									;
19DB:                   next_add:							;
19DB: 09       [11]     	add		hl, bc					;
19DC: D1       [21]     	pop		de						;
                        									;
19DD:                   differ:								;
19DD: A7       [ 4]     	and		a						;
19DE: ED52     [19]     	sbc		hl, de					;
19E0: 44       [23]     	ld		b, h					;
19E1: 4D       [27]     	ld		c, l					;
19E2: 19       [38]     	add		hl, de					;
19E3: EB       [42]     	ex		de, hl					;
19E4: C9       [52]     	ret								;
                        									;
19E5:                   reclaim_1:							;
19E5: CDDD19   [17]     	call	differ					;
                        									;
19E8:                   reclaim_2:							;
19E8: C5       [11]     	push	bc						;
19E9: 78       [15]     	ld		a, b					;
19EA: 2F       [19]     	cpl								;
19EB: 47       [23]     	ld		b, a					;
19EC: 79       [27]     	ld		a, c					;
19ED: 2F       [31]     	cpl								;
19EE: 4F       [35]     	ld		c, a					;
19EF: 03       [41]     	inc		bc						;
19F0: CD6416   [58]     	call	pointers				;
19F3: EB       [62]     	ex		de, hl					;
19F4: E1       [72]     	pop		hl						;
19F5: 19       [83]     	add		hl, de					;
19F6: D5       [94]     	push	de						;
19F7: EDB0     [110|21] 	ldir							;
19F9: E1       [120]    	pop		hl						;
19FA: C9       [130]    	ret								;
                        									;
19FB:                   eline_no:							;
19FB: 2A595C   [16]     	ld		hl, (eline)				;
19FE: 2B       [22]     	dec		hl						;
19FF: 225D5C   [38]     	ld		(chadd), hl				;
1A02: E7       [49]     	rst		next_ch					;
1A03: 21925C   [59]     	ld		hl, membot				;
1A06: 22655C   [75]     	ld		(stkend), hl			;
1A09: CDD30D   [92]     	call	l0dd3
1A0C: CDA22D   [109]    	call	fp_to_bc				; zx81
1A0F: 3804     [116|121]	jr		c, no_number			;
1A11: 2100C0   [126]    	ld		hl, 0xc000				; was 0xdf80
1A14: 09       [137]    	add		hl, bc					;
                        									;
1A15:                   no_number:							;
1A15: DA8A1C   [10|10]  	jp		c, report_c				;
1A18: C3C516   [20]     	jp		set_mem					;
                        									;
1A1B:                   out_num:							;
1A1B: D5       [11]     	push	de						;
1A1C: E5       [22]     	push	hl						;
1A1D: AF       [26]     	xor		a						;
1A1E: CB78     [34]     	bit		7, b					;
1A20: 2011     [41|46]  	jr		nz, units				;
1A22: 60       [45]     	ld		h, b					;
1A23: 69       [49]     	ld		l, c					;
1A24: 1EFF     [56]     	ld		e, 255					;
1A26: 1808     [68]     	jr		thousand				;
                        									;
1A28:                   out_no:								;
1A28: D5       [11]     	push	de						;
1A29: 56       [18]     	ld		d, (hl)					;
1A2A: 23       [24]     	inc		hl						;
1A2B: 5E       [31]     	ld		e, (hl)					;
1A2C: E5       [42]     	push	hl						;
1A2D: EB       [46]     	ex		de, hl					;
1A2E: 1E20     [53]     	ld		e, ' '					;
                        
1A30:                   thousand:							; se
1A30: CD1A0F   [17]     	call	l0f1a					;
                        
1A33:                   units:								; zx81
1A33: CDEF15   [17]     	call	out_code				;
1A36: E1       [27]     	pop		hl						;
1A37: D1       [37]     	pop		de						;
1A38: C9       [47]     	ret								;
                        
1A39:                   syntax:
1A39: 9E                	defb	p_deffn - $				; sam
1A3A: D0                	defb	p_cat - $				;
1A3B: AA                	defb	p_format - $			;
1A3C: AC                	defb	p_move - $				;
1A3D: CD                	defb	p_erase - $				;
1A3E: B2                	defb	p_open  - $				;
1A3F: 92                	defb	p_close - $				;
1A40: D0                	defb	p_merge - $				;
1A41: CE                	defb	p_verify - $			;
1A42: 84                	defb	p_beep - $				;
1A43: 8A                	defb	p_circle - $			;
1A44: CD                	defb	p_pen - $				;
1A45: CD                	defb	p_paper - $				;
1A46: CD                	defb	p_flash - $				;
1A47: CD                	defb	p_bright - $			;
1A48: CD                	defb	p_inverse - $			;
1A49: CD                	defb	p_over - $				;
1A4A: AC                	defb	p_out - $				;
1A4B: 75                	defb	p_lprint - $			; zx81
1A4C: 77                	defb	p_llist - $				;
1A4D: 32                	defb	p_stop - $				;
1A4E: B0                	defb	p_read - $				; sam
1A4F: 85                	defb	p_data - $				;
1A50: B4                	defb	p_restore - $			;
1A51: 4C                	defb	p_new - $				; zx81
1A52: 78                	defb	p_border - $			; sam
1A53: 5A                	defb	p_cont - $				; zx81
1A54: 43                	defb	p_dim - $				;
1A55: 45                	defb	p_rem - $				;
1A56: 2F                	defb	p_for - $				;
1A57: 1D                	defb	p_goto - $				;
1A58: 24                	defb	p_gosub - $				;
1A59: 3B                	defb	p_input - $				;
1A5A: B4                	defb	p_load - $				;
1A5B: 48                	defb	p_list - $				;
1A5C: 15                	defb	p_let - $				;
1A5D: 5D                	defb	p_pause - $				;
1A5E: 2F                	defb	p_next - $				;
1A5F: 47                	defb	p_poke - $				;
1A60: 31                	defb	p_print - $				;
1A61: 55                	defb	p_plot - $				;
1A62: 3E                	defb	p_run - $				;
1A63: AA                	defb	p_save - $				;
1A64: 46                	defb	p_rand - $				;
1A65: 12                	defb	p_if - $				;
1A66: 4D                	defb	p_cls - $				;
1A67: 77                	defb	p_draw - $				; sam
1A68: 48                	defb	p_clear - $				; zx81
1A69: 19                	defb	p_return - $			;
1A6A: 53                	defb	p_copy - $				;
1A6B: 6F                	defb	p_delete - $			; se
1A6C: 76                	defb	p_edit - $				;
1A6D: 94                	defb	p_renum - $				; sam
1A6E: 8C                	defb	p_palette - $			;
1A6F: 98                	defb	p_sound - $				; se
1A70: 7D                	defb	p_onerr - $				;
                        
1A71:                   p_let:								; zx81
1A71: 013D02            	defb	var_rqd, '=', expr_num_str
                        									;
1A74:                   p_goto:								;
1A74: 0C                	defb	numexp_nofops			;
1A75: 671E              	defw	goto					;
                        									;
1A77:                   p_if:								;
1A77: 06CB05            	defb	num_exp, tk_then, var_syn
1A7A: F01C              	defw	_if						;
                        									;
1A7C:                   p_gosub:							;
1A7C: 0C                	defb	numexp_nofops			;
1A7D: ED1E              	defw	gosub					;
                        									;
1A7F:                   p_stop:								;
1A7F: 00                	defb	no_f_ops				;
1A80: EE1C              	defw	stop					;
                        									;
1A82:                   p_return:							;
1A82: 00                	defb	no_f_ops				;
1A83: 231F              	defw	return					;
                        									;
1A85:                   p_for:								;
1A85: 043D06CC          	defb	chr_var, '=', num_exp, tk_to, num_exp, var_syn
1A89: 0605              
1A8B: 031D              	defw	for						;
                        									;
1A8D:                   p_next:								;
1A8D: 0400              	defb	chr_var, no_f_ops		;
1A8F: AB1D              	defw	next					;
                        									;
1A91:                   p_print:							;
1A91: 05                	defb	var_syn					;
1A92: CD1F              	defw	print					;
                        									;
1A94:                   p_input:							;
1A94: 05                	defb	var_syn					;
1A95: 8920              	defw	input					;
                        									;
1A97:                   p_dim:								;
1A97: 05                	defb	var_syn					;
1A98: 022C              	defw	dim						;
                        									;
1A9A:                   p_rem:								;
1A9A: 05                	defb	var_syn					;
1A9B: B21B              	defw	rem						;
                        									;
1A9D:                   p_new:								;
1A9D: 00                	defb	no_f_ops				;
1A9E: BB11              	defw	new						;
                        									;
1AA0:                   p_run:								;
1AA0: 03                	defb	num_exp_0				;
1AA1: A11E              	defw	run						;
                        									;
1AA3:                   p_list:								;
1AA3: 05                	defb	var_syn					;
1AA4: F917              	defw	list					;
                        									;
1AA6:                   p_poke:								;
1AA6: 0800              	defb	two_c_s_num, no_f_ops	;
1AA8: 801E              	defw	poke					;
                        									;
1AAA:                   p_rand:								;
1AAA: 03                	defb	num_exp_0				;
1AAB: 4F1E              	defw	rand					;
                        									;
1AAD:                   p_cont:								;
1AAD: 00                	defb	no_f_ops				;
1AAE: 5F1E              	defw	cont					;
                        									;
1AB0:                   p_clear:							;
1AB0: 03                	defb	num_exp_0				;
1AB1: AC1E              	defw	clear					;
                        									;
1AB3:                   p_cls:								;
1AB3: 00                	defb	no_f_ops				;
1AB4: 6B0D              	defw	cls						;
                        									;
1AB6:                   p_plot:								;
1AB6: 0900              	defb	two_csn_col, no_f_ops	;
1AB8: DC22              	defw	plot					;
                        									;
1ABA:                   p_pause:							;
1ABA: 0C                	defb	numexp_nofops			;
1ABB: 3A1F              	defw	pause					;
                        									;
1ABD:                   p_copy:								;
1ABD: 03                	defb	num_exp_0				;
1ABE: 1C0B              	defw	copy					;
                        									;
1AC0:                   p_lprint:							;
1AC0: 05                	defb	var_syn					;
1AC1: C91F              	defw	lprint					;
                        									;
1AC3:                   p_llist:							;
1AC3: 05                	defb	var_syn					;
1AC4: F517              	defw	llist					;
                        
1AC6:                   p_beep:								; sam
1AC6: 0800              	defb	two_c_s_num, no_f_ops	;
1AC8: F803              	defw	l03f8					;
                        									;								
1ACA:                   p_border:							;
1ACA: 0C                	defb	numexp_nofops			;
1ACB: 9422              	defw	l2294					;
                        									;
1ACD:                   p_circle:							;
1ACD: 0905              	defb	two_csn_col, var_syn	;
1ACF: 2023              	defw	circle					;
                        									;
1AD1:                   p_close:							;
1AD1: 0C                	defb	numexp_nofops			;
1AD2: E516              	defw	l16e5					;
                        									;
1AD4:                   p_data:								;
1AD4: 05                	defb	var_syn					;
1AD5: 271E              	defw	l1e27					;
                        									;
1AD7:                   p_deffn:							;
1AD7: 05                	defb	var_syn					;
1AD8: 601F              	defw	l1f60					;
                        
1ADA:                   p_delete:							; se
1ADA: 0800              	defb	two_c_s_num, no_f_ops	;
1ADC: BB0B              	defw	l0bbb					;
                        
1ADE:                   p_draw:								; sam
1ADE: 0905              	defb	two_csn_col, var_syn	;
1AE0: 8223              	defw	l2382					;
                        
1AE2:                   p_edit:								; se
1AE2: 03                	defb	num_exp_0				;
1AE3: E438              	defw	l38e6					;
                        
1AE5:                   p_format:							; sam
1AE5: 0C                	defb	numexp_nofops			;
1AE6: 770A              	defw	l0a58					;
                        									;
1AE8:                   p_move:								;
1AE8: 082C0C            	defb	two_c_s_num, ',', numexp_nofops
1AEB: BC18              	defw	l18bc					;
                        
1AED:                   p_onerr:							; se
1AED: 05                	defb	var_syn					;
1AEE: 3719              	defw	l1937					;
                        
1AF0:                   p_open:								; sam
1AF0: 062C0A00          	defb	num_exp, ',', str_exp, no_f_ops
1AF4: 3617              	defw	l1736					;
                        									;
1AF6:                   p_out:								;
1AF6: 0800              	defb	two_c_s_num, no_f_ops	;
1AF8: 7A1E              	defw	_out					;
                        									;
1AFA:                   p_palette:							;
1AFA: 0800              	defb	two_c_s_num, no_f_ops	;
1AFC: 3339              	defw	l3934					;
                        									;
1AFE:                   p_read:								;
1AFE: 05                	defb	var_syn					;
1AFF: ED1D              	defw	l1ded					;
                        									;
1B01:                   p_renum:							;
1B01: 05                	defb	var_syn					;
1B02: AA3A              	defw	l3aa9					;
                        									;
1B04:                   p_restore:							;
1B04: 03                	defb	num_exp_0				;
1B05: 421E              	defw	restore					;
                        
1B07:                   p_sound:							; se
1B07: 05                	defb	var_syn					;
1B08: C309              	defw	l09c3					;
                        
1B0A:                   p_cat:								; sam
1B0A:                   p_erase:							;
1B0A: 05                	defb	var_syn					;
1B0B: A109              	defw	l09a1					;
                        									;
1B0D:                   p_save:								;
1B0D: 0B                	defb	tap_offst				;
                        									;
1B0E:                   p_load:								;
1B0E: 0B                	defb	tap_offst				;
                        									;
1B0F:                   p_verify:							;
1B0F: 0B                	defb	tap_offst				;
                        									;
1B10:                   p_merge:							;
1B10: 0B                	defb	tap_offst				;
                        									;
1B11:                   p_pen:								;
1B11: 07                	defb	col_offst				;
                        									;
1B12:                   p_paper:							;
1B12: 07                	defb	col_offst				;
                        									;
1B13:                   p_flash:							;
1B13: 07                	defb	col_offst				;
                        									;
1B14:                   p_bright:							;
1B14: 07                	defb	col_offst				;
                        									;
1B15:                   p_inverse:							;
1B15: 07                	defb	col_offst				;
                        									;
1B16:                   p_over:								;
1B16: 07                	defb	col_offst				;
                        
1B17:                   l1b17:
1B17: FDCB01BE [23]     	res		7, (iy + _flags)
1B1B: CDFB19   [40]     	call	eline_no
1B1E: AF       [44]     	xor		a
1B1F: 32475C   [57]     	ld		(subppc), a
1B22: 3D       [61]     	dec		a
1B23: 323A5C   [74]     	ld		(errnr), a
1B26: 1801     [86]     	jr		line_null
                        
1B28:                   stmtlp:
1B28: E7       [11]     	rst		next_ch
                        
1B29:                   line_null:
1B29: CDBF16   [17]     	call	setwork					; sam
1B2C: FD340D   [40]     	inc		(iy + _subppc)			;
1B2F: FA8A1C   [50|50]  	jp		m, report_c
1B32: DF       [61]     	rst		get_ch
1B33: 0600     [68]     	ld		b, 0
1B35: FE0D     [75]     	cp		ctrl_n_l
1B37: 287A     [82|87]  	jr		z, lineend
1B39: FE3A     [89]     	cp		':'						; sam
1B3B: 28EB     [96|101] 	jr		z, stmtlp				;
1B3D: 21761B   [106]    	ld		hl, nextstat			; was de
1B40: E5       [117]    	push	hl						; was de
1B41: 4F       [121]    	ld		c, a					; zx81
1B42: E7       [132]    	rst		next_ch					;
1B43: 79       [136]    	ld		a, c					;
1B44: D6CE     [143]    	sub		tk_deffn				;
1B46: DCB60B   [153|160]	call	c, l0bb6				; se
1B49: 4F       [157]    	ld		c, a					; zx81
1B4A: 21391A   [167]    	ld		hl, syntax				;
1B4D: 09       [178]    	add		hl, bc					;
1B4E: 4E       [185]    	ld		c, (hl)					;
1B4F: 09       [196]    	add		hl, bc					;
1B50: 1803     [208]    	jr		get_param				;
                        									;
1B52:                   scan_loop:							;
1B52: 2A745C   [16]     	ld		hl, (taddr)				;
                        									;
1B55:                   get_param:							;
1B55: 7E       [ 7]     	ld		a, (hl)					;
1B56: 23       [13]     	inc		hl						;
1B57: 22745C   [29]     	ld		(taddr), hl				;
1B5A: 01521B   [39]     	ld		bc, scan_loop			;
1B5D: C5       [50]     	push	bc						;
1B5E: 4F       [54]     	ld		c, a					;
1B5F: FE20     [61]     	cp		' '						;
1B61: 300C     [68|73]  	jr		nc, separator			;
1B63: 21001C   [78]     	ld		hl, command				;
1B66: 0600     [85]     	ld		b, 0					;
1B68: 09       [96]     	add		hl, bc					;
1B69: 4E       [103]    	ld		c, (hl)					;
1B6A: 09       [114]    	add		hl, bc					;
1B6B: E5       [125]    	push	hl						;
1B6C: DF       [136]    	rst		get_ch					;
1B6D: 05       [140]    	dec		b
1B6E: C9       [150]    	ret								; zx81
                        									;
1B6F:                   separator:							;
1B6F: DF       [11]     	rst		get_ch					;
1B70: B9       [15]     	cp		c						;
1B71: C28A1C   [25|25]  	jp		nz, report_c			;
1B74: E7       [36]     	rst		next_ch					;
1B75: C9       [46]     	ret								;
                        
1B76:                   nextstat:							; sam
1B76: CD541F   [17]     	call	break_1					;
1B79: 3802     [24|29]  	jr		c, l1b7d
1B7B: CF       [35]     	rst		error_1					; sam
1B7C: 14                	defb	BREAK_into_program		;
                        
1B7D:                   l1b7d:
1B7D: FDCB0A7E [20]     	bit		7, (iy + _nsppc)
1B81: 2071     [27|32]  	jr		nz, stmtnext1
1B83: 2A425C   [43]     	ld		hl, (newppc)
1B86: CB7C     [51]     	bit		7, h
1B88: 2814     [58|63]  	jr		z, l1b9e
                        
1B8A:                   linerun:							; sam
1B8A: 21FEFF   [10]     	ld		hl, 0xfffe				;
1B8D: 22455C   [26]     	ld		(ppc), hl				;
1B90: 2A615C   [42]     	ld		hl, (worksp)			;
1B93: 2B       [48]     	dec		hl						;
1B94: ED5B595C [68]     	ld		de, (eline)
1B98: 1B       [74]     	dec		de
1B99: 3A445C   [87]     	ld		a, (nsppc)
1B9C: 1833     [99]     	jr		next_line
                        
1B9E:                   l1b9e:
1B9E: CD6E19   [17]     	call	line_addr
1BA1: 3A445C   [30]     	ld		a, (nsppc)
1BA4: 2819     [37|42]  	jr		z, lineuse
1BA6: A7       [41]     	and		a
1BA7: 2043     [48|53]  	jr		nz, statlost
1BA9: 7E       [55]     	ld		a, (hl)
1BAA: E6C0     [62]     	and		%11000000
1BAC: 2811     [69|74]  	jr		z, lineuse
1BAE: CF       [80]     	rst		error_1					; sam
1BAF: FF                	defb	OK						;
                        
1BB0:                   l1bb0:								; se
1BB0: 4157              	defb	"AW"					;
                        
1BB2:                   rem:								; sam
1BB2: F1       [10]     	pop		af						;
                        
1BB3:                   lineend:
1BB3: CD3025   [17]     	call	syntax_z
1BB6: C8       [22|28]  	ret		z
1BB7: 2A555C   [38]     	ld		hl, (nxtline)
1BBA: 3EC0     [45]     	ld		a, 192
1BBC: A6       [52]     	and		(hl)
1BBD: C0       [57|63]  	ret		nz
1BBE: AF       [61]     	xor		a
                        
1BBF:                   lineuse:							; sam
1BBF: FE01     [ 7]     	cp		1						;
1BC1: CE00     [14]     	adc		a, 0					;
1BC3: 56       [21]     	ld		d, (hl)					;
1BC4: 23       [27]     	inc		hl						;
1BC5: 5E       [34]     	ld		e, (hl)					;
1BC6: 23       [40]     	inc		hl						;
1BC7: ED53455C [60]     	ld		(ppc), de				;
1BCB: 5E       [67]     	ld		e, (hl)					;
1BCC: 23       [73]     	inc		hl						;
1BCD: 56       [80]     	ld		d, (hl)					;
1BCE: EB       [84]     	ex		de, hl					;
1BCF: 19       [95]     	add		hl, de
1BD0: 23       [101]    	inc		hl
                        
1BD1:                   next_line:							; zx81
1BD1: 22555C   [16]     	ld		(nxtline), hl			;
1BD4: EB       [20]     	ex		de, hl					;
1BD5: 225D5C   [36]     	ld		(chadd), hl
1BD8: 1E00     [43]     	ld		e, 0
1BDA: 57       [47]     	ld		d, a
1BDB: FD360AFF [66]     	ld		(iy + _nsppc), 255
1BDF: 15       [70]     	dec		d
1BE0: FD720D   [89]     	ld		(iy + _subppc), d
1BE3: CA281B   [99|99]  	jp		z, stmtlp
1BE6: 14       [103]    	inc		d
1BE7: CD8B19   [120]    	call	skipstats				; sam
1BEA: 2808     [127|132]	jr		z, stmtnext1			;
                        									;
1BEC:                   statlost:							;
1BEC: CF       [11]     	rst		error_1					;
1BED: 16                	defb	Missing_statement		;
                        
1BEE:                   check_end:							; zx81
1BEE: CD3025   [17]     	call	syntax_z				;
1BF1: C0       [22|28]  	ret		nz						;
1BF2: C1       [32]     	pop		bc						;
1BF3: C1       [42]     	pop		bc
                        
1BF4:                   stmtnext1:
1BF4: DF       [11]     	rst		get_ch
1BF5: FE0D     [18]     	cp		ctrl_n_l
1BF7: 28BA     [25|30]  	jr		z, lineend
1BF9: FE3A     [32]     	cp		':'						; sam
1BFB: CA281B   [42|42]  	jp		z, stmtlp				;
1BFE: CF       [53]     	rst		error_1					;
1BFF: 0B                	defb	Syntax_error			;
                        
1C00:                   command:							; zx81
1C00: 10                	defb	class_0 - $				;
1C01: 1E                	defb	class_1 - $				;
1C02: 4C                	defb	class_2 - $				;
1C03: 0A                	defb	class_3 - $				;
1C04: 68                	defb	class_4 - $				;
1C05: 0C                	defb	class_5 - $				;
1C06: 7C                	defb	class_6 - $				;
1C07: 8F                	defb	class_7 - $				; sam
1C08: 72                	defb	class_8 - $				;
1C09: B5                	defb	class_9 - $				;
1C0A: 82                	defb	class_a - $				;
1C0B: D0                	defb	class_b - $				;
1C0C: 45                	defb	class_c - $				;
                        
1C0D:                   class_3:
1C0D: CDDE1C   [17]     	call	l1cde
                        
1C10:                   class_0:							; zx81
1C10: BF       [ 4]     	cp		a						;
                        									;
1C11:                   class_5:							;
1C11: C1       [10]     	pop		bc						;
1C12: CCEE1B   [20|27]  	call	z, check_end			;
1C15: EB       [24]     	ex		de, hl					;
1C16: 2A745C   [40]     	ld		hl, (taddr)				;
1C19: 4E       [47]     	ld		c, (hl)					;
1C1A: 23       [53]     	inc		hl						;
1C1B: 46       [60]     	ld		b, (hl)					;
1C1C: EB       [64]     	ex		de, hl					;
1C1D: C5       [75]     	push	bc						;
1C1E: C9       [85]     	ret								;
                        									;
1C1F:                   class_1:							;
1C1F: CDB228   [17]     	call	look_vars				;
                        									;
1C22:                   class_4_2:							;
1C22: FD363700 [19]     	ld		(iy + _flage), 0		;
1C26: 3008     [26|31]  	jr		nc, set_stk				;
1C28: FDCB37CE [49]     	set		1, (iy + _flage)		;
1C2C: 2018     [56|61]  	jr		nz, set_strln			;
                        									;
1C2E:                   report_2:							;
1C2E: CF       [11]     	rst		error_1					;
1C2F: 01                	defb	Undefined_variable		;
                        									;
1C30:                   set_stk:							;
1C30: CC9629   [10|17]  	call	z, stk_var				;
1C33: FDCB0176 [30]     	bit		6, (iy + _flags)		;
1C37: 200D     [37|42]  	jr		nz, set_strln			;
1C39: AF       [41]     	xor		a						;
1C3A: CD3025   [58]     	call	syntax_z				;
1C3D: C4F12B   [68|75]  	call	nz, stk_fetch			;
1C40: 21715C   [78]     	ld		hl, flage				;
1C43: B6       [85]     	or		(hl)					;
1C44: 77       [92]     	ld		(hl), a					;
1C45: EB       [96]     	ex		de, hl					;
                        									;
1C46:                   set_strln:							;
1C46: ED43725C [20]     	ld		(stril), bc				;
1C4A: 224D5C   [36]     	ld		(dest), hl				;
1C4D: C9       [46]     	ret								;
                        									;
1C4E:                   class_2:							;
1C4E: C1       [10]     	pop		bc						;
1C4F: 1868     [22]     	jr		l1cb9
                        
1C51:                   class_c:							; se
1C51: CD821C   [17]     	call	class_6					;
1C54: 18BA     [29]     	jr		class_0					;
                        
1C56:                   l1c56:								; zx81
1C56: 3A3B5C   [13]     	ld		a, (flags)				;
                        									;
1C59:                   input_rep:							;
1C59: F5       [11]     	push	af						;
1C5A: CDFB24   [28]     	call	scanning				;
1C5D: F1       [38]     	pop		af						;
1C5E: FD5601   [57]     	ld		d, (iy + _flags)		;
1C61: AA       [61]     	xor		d						;
1C62: E640     [68]     	and		%01000000				;
1C64: 2024     [75|80]  	jr		nz, report_c			;
1C66: CB7A     [83]     	bit		7, d					;
1C68: C2FF2A   [93|93]  	jp		nz, let
1C6B: C9       [103]    	ret
                        
1C6C:                   class_4:							; zx81
1C6C: CDB228   [17]     	call	look_vars				;
1C6F: F5       [28]     	push	af						;
1C70: 79       [32]     	ld		a, c					;
1C71: F69F     [39]     	or		%10011111				;
1C73: 3C       [43]     	inc		a						;
1C74: 2014     [50|55]  	jr		nz, report_c			;
1C76: F1       [60]     	pop		af						;
1C77: 18A9     [72]     	jr		class_4_2				;
                        
1C79:                   sexpt2nums:							; sam
1C79: E7       [11]     	rst		next_ch					;
                        									;
1C7A:                   class_8:							;
1C7A: CD821C   [17]     	call	class_6					;
1C7D: FE2C     [24]     	cp		','						;
1C7F: 2009     [31|36]  	jr		nz, report_c			;
                        									;
1C81:                   sexpt1num:							;
1C81: E7       [11]     	rst		next_ch					;
                        
1C82:                   class_6:							; zx81
1C82: CDFB24   [17]     	call	scanning				;
1C85: FDCB0176 [37]     	bit		6, (iy + _flags)		;
1C89: C0       [42|48]  	ret		nz						;
                        									;
1C8A:                   report_c:							;
1C8A: CF       [11]     	rst		error_1					;
1C8B: 0B                	defb	Syntax_error			;
                        
1C8C:                   class_a:							; sam
1C8C: CDFB24   [17]     	call	scanning				;
1C8F: FDCB0176 [37]     	bit		6, (iy + _flags)
1C93: C8       [42|48]  	ret		z
1C94: 18F4     [54]     	jr		report_c
                        
1C96:                   class_7:							; se
1C96: CD3025   [17]     	call	syntax_z				;
1C99: C4170B   [27|34]  	call	nz, streamfe
1C9C: F1       [37]     	pop		af
1C9D: 3A745C   [50]     	ld		a, (taddr)
                        ;		sub		p_pen - (tk_pen - 1) % 256 ; not supported by binutils
1CA0: D639     [57]     	sub		0x39
1CA2: CDFC21   [74]     	call	cotemp4
1CA5: CDEE1B   [91]     	call	check_end
1CA8: 2A8F5C   [107]    	ld		hl, (attrt)
1CAB: 228D5C   [123]    	ld		(attrp), hl
1CAE: 21915C   [133]    	ld		hl, pflag
1CB1: 7E       [140]    	ld		a, (hl)					; skel
1CB2: 07       [144]    	rlca							;
1CB3: AE       [151]    	xor		(hl)					;
1CB4: E6AA     [158]    	and		%10101010				;
1CB6: AE       [165]    	xor		(hl)					;
1CB7: 77       [172]    	ld		(hl), a					;
1CB8: C9       [182]    	ret								;
                        
1CB9:                   l1cb9:								; se
1CB9: CD561C   [17]     	call	l1c56					;
1CBC: 1819     [29]     	jr		l1cd7					;
                        
1CBE:                   class_9:
1CBE: CD3025   [17]     	call	syntax_z
1CC1: 280F     [24|29]  	jr		z, l1cd2
1CC3: CD170B   [41]     	call	streamfe
1CC6: 21905C   [51]     	ld		hl, maskt
1CC9: 7E       [58]     	ld		a, (hl)
1CCA: F6F8     [65]     	or		%11111000
1CCC: 77       [72]     	ld		(hl), a
1CCD: FDCB57B6 [95]     	res		6, (iy + _pflag)
1CD1: DF       [106]    	rst		get_ch
                        
1CD2:                   l1cd2:								; se
1CD2: CDE221   [17]     	call	citem					;
1CD5: 18A3     [29]     	jr		class_8					;
                        									;
1CD7:                   l1cd7:								;
1CD7: CDEE1B   [17]     	call	check_end				;
1CDA: C9       [27]     	ret								;
                        
1CDB:                   class_b:
1CDB: C30506   [10]     	jp		l0605
                        
1CDE:                   l1cde:
1CDE: FE0D     [ 7]     	cp		ctrl_n_l
1CE0: 2804     [14|19]  	jr		z, no_to_stk
1CE2: FE3A     [21]     	cp		':'
1CE4: 209C     [28|33]  	jr		nz, class_6				; zx81
                        									;
1CE6:                   no_to_stk:							;
1CE6: CD3025   [17]     	call	syntax_z				;
1CE9: C8       [22|28]  	ret		z						;
                        	fwait							;
1CEA: EF       [33]     	rst	28h
                        	fstk0							;
1CEB: A0                	defb	0xa0
                        	fce								;
1CEC: 38                	defb	0x38
1CED: C9       [43]     	ret								;
                        									;
1CEE:                   stop:								;
1CEE: CF       [11]     	rst		error_1					;
1CEF: 08                	defb	STOP_statement			;
                        
1CF0:                   _if:								; se
1CF0: C1       [10]     	pop		bc						;
1CF1: CD3025   [27]     	call	syntax_z				; zx81
1CF4: 280A     [34|39]  	jr		z, l1d00				;
                        	fwait							;
1CF6: EF       [45]     	rst	28h
                        	fdel							;
1CF7: 02                	defb	0x02
                        	fce								;
1CF8: 38                	defb	0x38
1CF9: EB       [49]     	ex		de, hl					; se
1CFA: CDC534   [66]     	call	tstzero					;
1CFD: DAB31B   [76|76]  	jp		c, lineend				;
                        
1D00:                   l1d00:
1D00: C3291B   [10]     	jp		line_null
                        
1D03:                   for:								; zx81
1D03: FECD     [ 7]     	cp		tk_step					;
1D05: 2009     [14|19]  	jr		nz, use_one				;
1D07: E7       [25]     	rst		next_ch					;
1D08: CD821C   [42]     	call	class_6					;
1D0B: CDEE1B   [59]     	call	check_end				;
1D0E: 1806     [71]     	jr		reorder					;
                        									;
1D10:                   use_one:							;
1D10: CDEE1B   [17]     	call	check_end				;
                        	fwait							;
1D13: EF       [28]     	rst	28h
                        	fstk1							;
1D14: A1                	defb	0xa1
                        	fce								;
1D15: 38                	defb	0x38
                        									;
1D16:                   reorder:							;
                        	fwait							;
1D16: EF       [11]     	rst	28h
                        	fst		0						;
1D17: C0                	defb	0xc0 + 0						
                        	fdel							;
1D18: 02                	defb	0x02
                        	fxch							;
1D19: 01                	defb	0x01
                        	fgt		0						;
1D1A: E0                	defb	0xe0 + 0						
                        	fxch							;
1D1B: 01                	defb	0x01
                        	fce								;
1D1C: 38                	defb	0x38
1D1D: CDFF2A   [28]     	call	let						;
1D20: 22685C   [44]     	ld		(mem), hl				;
1D23: 2B       [50]     	dec		hl						;
1D24: 7E       [57]     	ld		a, (hl)					;
1D25: CBFE     [72]     	set		7, (hl)					;
1D27: 010600   [82]     	ld		bc, 6					;
1D2A: 09       [93]     	add		hl, bc					;
1D2B: 07       [97]     	rlca							;
1D2C: 3806     [104|109]	jr		c, lmt_step				;
1D2E: 0E0D     [111]    	ld		c, 13
1D30: CD5516   [128]    	call	make_room				; zx81
1D33: 23       [134]    	inc		hl						;
                        									;
1D34:                   lmt_step:							;
1D34: E5       [11]     	push	hl						;
                        	fwait							;
1D35: EF       [22]     	rst	28h
                        	fdel							;
1D36: 02                	defb	0x02
                        	fdel							;
1D37: 02                	defb	0x02
                        	fce								;
1D38: 38                	defb	0x38
1D39: E1       [32]     	pop		hl						;
1D3A: EB       [36]     	ex		de, hl					;
1D3B: 0E0A     [43]     	ld		c, 10					;
1D3D: EDB0     [59|21]  	ldir							;
1D3F: 2A455C   [75]     	ld		hl, (ppc)				;
1D42: EB       [79]     	ex		de, hl					;
1D43: 73       [86]     	ld		(hl), e					;
1D44: 23       [92]     	inc		hl						;
1D45: 72       [99]     	ld		(hl), d					;
1D46: FD560D   [118]    	ld		d, (iy + _subppc)
1D49: 23       [124]    	inc		hl
1D4A: 14       [128]    	inc		d
1D4B: 72       [135]    	ld		(hl), d
1D4C: CDDA1D   [152]    	call	next_loop				; zx81
1D4F: D0       [157|163]	ret		nc						;
1D50: 3A475C   [170]    	ld		a, (subppc)
1D53: 2A455C   [186]    	ld		hl, (ppc)
1D56: 22425C   [202]    	ld		(newppc), hl
1D59: FD4638   [221]    	ld		b, (iy + _stril)
1D5C: ED44     [229]    	neg
1D5E: 2A5D5C   [245]    	ld		hl, (chadd)
1D61: 57       [249]    	ld		d, a
1D62: 1EF3     [256]    	ld		e, tk_next
                        
1D64:                   l1d64:
1D64: C5       [11]     	push	bc
1D65: ED4B555C [31]     	ld		bc, (nxtline)
1D69: CD861D   [48]     	call	l1d86
1D6C: ED43555C [68]     	ld		(nxtline), bc
1D70: C1       [78]     	pop		bc
1D71: 3811     [85|90]  	jr		c, l1d84
1D73: E7       [96]     	rst		next_ch
1D74: F620     [103]    	or		%00100000
1D76: B8       [107]    	cp		b
1D77: 2803     [114|119]	jr		z, l1d7c
1D79: E7       [125]    	rst		next_ch
1D7A: 18E8     [137]    	jr		l1d64
                        
1D7C:                   l1d7c:
1D7C: E7       [11]     	rst		next_ch
1D7D: 3E01     [18]     	ld		a, 1
1D7F: 92       [22]     	sub		d
1D80: 32445C   [35]     	ld		(nsppc), a
1D83: C9       [45]     	ret
                        
1D84:                   l1d84:								; sam
1D84: CF       [11]     	rst		error_1					;
1D85: 11                	defb	FOR_without_NEXT		;
                        
1D86:                   l1d86:
1D86: 7E       [ 7]     	ld		a, (hl)
1D87: FE3A     [14]     	cp		':'
1D89: 2818     [21|26]  	jr		z, l1da3
                        
1D8B:                   l1d8b:
1D8B: 23       [ 6]     	inc		hl
1D8C: 7E       [13]     	ld		a, (hl)
1D8D: E6C0     [20]     	and		%11000000
1D8F: 37       [24]     	scf
1D90: C0       [29|35]  	ret		nz
1D91: 46       [36]     	ld		b, (hl)
1D92: 23       [42]     	inc		hl
1D93: 4E       [49]     	ld		c, (hl)
1D94: ED43425C [69]     	ld		(newppc), bc
1D98: 23       [75]     	inc		hl
1D99: 4E       [82]     	ld		c, (hl)
1D9A: 23       [88]     	inc		hl
1D9B: 46       [95]     	ld		b, (hl)
1D9C: E5       [106]    	push	hl
1D9D: 09       [117]    	add		hl, bc
1D9E: 4D       [121]    	ld		c, l
1D9F: 44       [125]    	ld		b, h
1DA0: E1       [135]    	pop		hl
1DA1: 1600     [142]    	ld		d, 0
                        
1DA3:                   l1da3:
1DA3: C5       [11]     	push	bc
1DA4: CD8B19   [28]     	call	skipstats
1DA7: C1       [38]     	pop		bc
1DA8: D0       [43|49]  	ret		nc
1DA9: 18E0     [55]     	jr		l1d8b
                        
1DAB:                   next:								; zx81
1DAB: FDCB374E [20]     	bit		1, (iy + _flage)		;
1DAF: C22E1C   [30|30]  	jp		nz, report_2			;
1DB2: 2A4D5C   [46]     	ld		hl, (dest)				;
1DB5: CB7E     [58]     	bit		7, (hl)					;
1DB7: 281F     [65|70]  	jr		z, report_1				;
1DB9: 23       [71]     	inc		hl						;
1DBA: 22685C   [87]     	ld		(mem), hl				;
                        	fwait							;
1DBD: EF       [98]     	rst	28h
                        	fgt		0						;
1DBE: E0                	defb	0xe0 + 0						
                        	fgt		2						;
1DBF: E2                	defb	0xe0 + 2						
                        	fadd							;
1DC0: 0F                	defb	0x0f
                        	fst		0						;
1DC1: C0                	defb	0xc0 + 0						
                        	fdel							;
1DC2: 02                	defb	0x02
                        	fce								;
1DC3: 38                	defb	0x38
1DC4: CDDA1D   [115]    	call	next_loop				;
1DC7: D8       [120|126]	ret		c						;
1DC8: 2A685C   [136]    	ld		hl, (mem)				;
1DCB: 110F00   [146]    	ld		de, 15					;
1DCE: 19       [157]    	add		hl, de					;
1DCF: 5E       [164]    	ld		e, (hl)					;
1DD0: 23       [170]    	inc		hl						;
1DD1: 56       [177]    	ld		d, (hl)					;
1DD2: 23       [183]    	inc		hl						;
1DD3: 66       [190]    	ld		h, (hl)					;
1DD4: EB       [194]    	ex		de, hl					;
1DD5: C3731E   [204]    	jp		goto_2					;
                        									;
1DD8:                   report_1:							;
1DD8: CF       [11]     	rst		error_1					;
1DD9: 00                	defb	NEXT_without_FOR		;
                        									;
1DDA:                   next_loop:							;
                        	fwait							;
1DDA: EF       [11]     	rst	28h
                        	fgt		1						;
1DDB: E1                	defb	0xe0 + 1						
                        	fgt		0						;
1DDC: E0                	defb	0xe0 + 0						
                        	fgt		2						;
1DDD: E2                	defb	0xe0 + 2						
                        	fcp		.lz						;
1DDE: 36                	defb	0x09 + .lz						
                        	fjpt	lmt_v_val				;
1DDF: 0003              	defb	0x00, lmt_v_val				 - $
                        	fxch							;
1DE1: 01                	defb	0x01
                        									;
1DE2:                   lmt_v_val:							;
                        	fsub							;
1DE2: 03                	defb	0x03
                        	fcp		.gz						;
1DE3: 37                	defb	0x09 + .gz						
                        	fjpt	imposs					;
1DE4: 0005              	defb	0x00, imposs					 - $
                        	fce								;
1DE6: 38                	defb	0x38
1DE7: A7       [ 4]     	and		a						;
1DE8: C9       [14]     	ret								;
                        									;
1DE9:                   imposs:								;
                        	fce								;
1DE9: 38                	defb	0x38
1DEA: 37       [ 4]     	scf								;
1DEB: C9       [14]     	ret								;
                        
1DEC:                   l1dec:
1DEC: E7       [11]     	rst		next_ch
                        
1DED:                   l1ded:
1DED: CD1F1C   [17]     	call	class_1
1DF0: CD3025   [34]     	call	syntax_z
1DF3: 2829     [41|46]  	jr		z, l1e1e
1DF5: DF       [52]     	rst		get_ch					; sam
1DF6: 225F5C   [68]     	ld		(xptr), hl				;
1DF9: 2A575C   [84]     	ld		hl, (datadd)
1DFC: 7E       [91]     	ld		a, (hl)
1DFD: FE2C     [98]     	cp		44
1DFF: 2809     [105|110]	jr		z, l1e0a
1E01: 1EE4     [112]    	ld		e, tkdata
1E03: CD861D   [129]    	call	l1d86
1E06: 3002     [136|141]	jr		nc, l1e0a
1E08: CF       [147]    	rst		error_1					; sam
1E09: 0D                	defb	End_of_DATA				;
                        
1E0A:                   l1e0a:
1E0A: CD7700   [17]     	call	cursor_so
1E0D: CD561C   [34]     	call	l1c56
1E10: DF       [45]     	rst		get_ch
1E11: 22575C   [61]     	ld		(datadd), hl
1E14: 2A5F5C   [77]     	ld		hl, (xptr)
1E17: FD362600 [96]     	ld		(iy + _xptr_h), 0
1E1B: CD7800   [113]    	call	temp_ptr
                        
1E1E:                   l1e1e:
1E1E: DF       [11]     	rst		get_ch
1E1F: FE2C     [18]     	cp		44
1E21: 28C9     [25|30]  	jr		z, l1dec
1E23: CDEE1B   [42]     	call	check_end
1E26: C9       [52]     	ret
                        
1E27:                   l1e27:
1E27: CD3025   [17]     	call	syntax_z
1E2A: 200B     [24|29]  	jr		nz, l1e37
                        
1E2C:                   l1e2c:
1E2C: CDFB24   [17]     	call	scanning
1E2F: FE2C     [24]     	cp		44
1E31: C4EE1B   [34|41]  	call	nz, check_end
1E34: E7       [45]     	rst		next_ch
1E35: 18F5     [57]     	jr		l1e2c
                        
1E37:                   l1e37:
1E37: 3EE4     [ 7]     	ld		a, tkdata
                        
1E39:                   l1e39:
1E39: 47       [ 4]     	ld		b, a
1E3A: EDB9     [20|21]  	cpdr
1E3C: 110002   [30]     	ld		de, 0x0200
1E3F: C38B19   [40]     	jp		skipstats
                        
1E42:                   restore:							; sam
1E42: CD0139   [17]     	call	syntax3					;
                        
1E45:                   restorez:
1E45: 69       [ 4]     	ld		l, c
1E46: 60       [ 8]     	ld		h, b
1E47: CD6E19   [25]     	call	line_addr
1E4A: 2B       [31]     	dec		hl
1E4B: 22575C   [47]     	ld		(datadd), hl			; sam
1E4E: C9       [57]     	ret								;
                        
1E4F:                   rand:								; zx81
1E4F: CD991E   [17]     	call	find_int				;
1E52: 78       [21]     	ld		a, b					;
1E53: B1       [25]     	or		c						;
1E54: 2004     [32|37]  	jr		nz, set_seed			;
1E56: ED4B785C [52]     	ld		bc, (frames)			;
                        									;
1E5A:                   set_seed:							;
1E5A: ED43765C [20]     	ld		(seed), bc				;
1E5E: C9       [30]     	ret								;
                        									;
1E5F:                   cont:								;
1E5F: 2A6E5C   [16]     	ld		hl, (coppc)				;
1E62: FD5636   [35]     	ld		d, (iy + _cosppc)
1E65: 180C     [47]     	jr		goto_2					; zx81
                        									;
1E67:                   goto:								;
1E67: CD0139   [17]     	call	syntax3					; se
1E6A: 60       [21]     	ld		h, b					; zx81
1E6B: 69       [25]     	ld		l, c					;
1E6C: 1600     [32]     	ld		d, 0					;
1E6E: 7C       [36]     	ld		a, h					;
1E6F: FEF0     [43]     	cp		240						;
1E71: 302C     [50|55]  	jr		nc, report_b1			;
                        
1E73:                   goto_2:								; sam
1E73: FD720A   [19]     	ld		(iy + _nsppc), d		; was a
1E76: 22425C   [35]     	ld		(newppc), hl			;
1E79: C9       [45]     	ret								;
                        									;
1E7A:                   _out:								;
1E7A: CD851E   [17]     	call	poke1					;
1E7D: ED79     [29]     	out		(c), a					;
1E7F: C9       [39]     	ret								;
                        
1E80:                   poke:								; zx81
1E80: CD851E   [17]     	call	poke1					;
1E83: 02       [24]     	ld		(bc), a					;
1E84: C9       [34]     	ret								;
                        									;
1E85:                   poke1:								;
1E85: CDD52D   [17]     	call	fp_to_a					;
1E88: 3815     [24|29]  	jr		c, report_b1			;
1E8A: 2802     [31|36]  	jr		z, poke_save			;
1E8C: ED44     [39]     	neg								;
                        									;
1E8E:                   poke_save:							;
1E8E: F5       [11]     	push	af						;
1E8F: CD991E   [28]     	call	find_int				;
1E92: F1       [38]     	pop		af						;
1E93: C9       [48]     	ret								;
                        
1E94:                   getbyte:							; sam
1E94: CDD52D   [17]     	call	fp_to_a					;
1E97: 1803     [29]     	jr		getibc					;
                        
1E99:                   find_int:							; zx81
1E99: CDA22D   [17]     	call	fp_to_bc				;
                        									;
1E9C:                   getibc:								;
1E9C: 3801     [ 7|12]  	jr		c, report_b1			;
1E9E: C8       [12|18]  	ret		z						;
                        									;
1E9F:                   report_b1:							;
1E9F: CF       [11]     	rst		error_1					;
1EA0: 0A                	defb	Integer_out_of_range	;
                        									;
1EA1:                   run:								;
1EA1: CD671E   [17]     	call	goto					;
1EA4: 010000   [27]     	ld		bc, 0
1EA7: CD451E   [44]     	call	restorez				; sam
1EAA: 1803     [56]     	jr		clr1					;
                        
1EAC:                   clear:
1EAC: CD991E   [17]     	call	find_int
                        
1EAF:                   clr1:
1EAF: 79       [ 4]     	ld		a, c
1EB0: B0       [ 8]     	or		b
1EB1: 2004     [15|20]  	jr		nz, clr3				; sam
1EB3: ED4BB25C [35]     	ld		bc, (ramtop)			; was hl
                        									;
1EB7:                   clr3:								;
1EB7: C5       [11]     	push	bc						;
1EB8: 2A595C   [27]     	ld		hl, (eline)
1EBB: ED5B4B5C [47]     	ld		de, (vars)
1EBF: 2B       [53]     	dec		hl
1EC0: CDE519   [70]     	call	reclaim_1
1EC3: CD4413   [87]     	call	l1344
1EC6: 113200   [97]     	ld		de, 50
1EC9: 2A655C   [113]    	ld		hl, (stkend)
1ECC: 19       [124]    	add		hl, de
1ECD: D1       [134]    	pop		de
1ECE: ED52     [149]    	sbc		hl, de
1ED0: 3008     [156|161]	jr		nc, rterr
1ED2: A7       [160]    	and		a
1ED3: 2AB45C   [176]    	ld		hl, (pramt)
1ED6: ED52     [191]    	sbc		hl, de
1ED8: 3002     [198|203]	jr		nc, clr4
                        
1EDA:                   rterr:								; sam
1EDA: CF       [11]     	rst		error_1					;
1EDB: 15                	defb	Bad_CLEAR_address		;
                        
1EDC:                   clr4:
1EDC: EB       [ 4]     	ex		de, hl
1EDD: 22B25C   [20]     	ld		(ramtop), hl			; sam
1EE0: D1       [30]     	pop		de						; was hl
1EE1: C1       [40]     	pop		bc						;
1EE2: 363E     [50]     	ld		(hl), 0x3e
1EE4: 2B       [56]     	dec		hl
1EE5: F9       [62]     	ld		sp, hl
1EE6: C5       [73]     	push	bc						; sam
1EE7: ED733D5C [93]     	ld		(errsp), sp				;
1EEB: EB       [97]     	ex		de, hl
1EEC: E9       [101]    	jp		(hl)
                        
1EED:                   gosub:
1EED: D1       [10]     	pop		de
1EEE: FD660D   [29]     	ld		h, (iy + _subppc)
1EF1: 24       [33]     	inc		h
1EF2: E3       [52]     	ex		(sp), hl
1EF3: 33       [58]     	inc		sp
1EF4: ED4B455C [78]     	ld		bc, (ppc)
1EF8: C5       [89]     	push	bc
1EF9: E5       [100]    	push	hl
1EFA: ED733D5C [120]    	ld		(errsp), sp
1EFE: D5       [131]    	push	de
1EFF: CD671E   [148]    	call	goto
1F02: 011400   [158]    	ld		bc, 20
                        
1F05:                   test_room:							; zx81
1F05: 2A655C   [16]     	ld		hl, (stkend)			;
1F08: 09       [27]     	add		hl, bc					;
1F09: 380A     [34|39]  	jr		c, report_4				;
1F0B: EB       [38]     	ex		de, hl					;
1F0C: 215000   [48]     	ld		hl, 0x0050				;
1F0F: 19       [59]     	add		hl, de					;
1F10: 3803     [66|71]  	jr		c, report_4
1F12: ED72     [81]     	sbc		hl, sp					; zx81
1F14: D8       [86|92]  	ret		c						;
                        									;
1F15:                   report_4:							;
1F15: 2E03     [ 7]     	ld		l, Out_of_memory		;
1F17: C35500   [17]     	jp		error_3					;
                        
1F1A:                   l1f1a:								; se
1F1A: 3A3B5C   [13]     	ld		a, (flags)				;
1F1D: E6F7     [20]     	and		%11110111				;
                        									;
1F1F:                   l1f1f:								;
1F1F: 323B5C   [13]     	ld		(flags), a				;
1F22: C9       [23]     	ret								;
                        
1F23:                   return:
1F23: C1       [10]     	pop		bc
1F24: E1       [20]     	pop		hl
1F25: D1       [30]     	pop		de
1F26: 7A       [34]     	ld		a, d
1F27: FE3E     [41]     	cp		0x3e
1F29: 280B     [48|53]  	jr		z, report_7
1F2B: 3B       [54]     	dec		sp
1F2C: E3       [73]     	ex		(sp), hl
1F2D: EB       [77]     	ex		de, hl
1F2E: ED733D5C [97]     	ld		(errsp), sp
1F32: C5       [108]    	push	bc
1F33: C3731E   [118]    	jp		goto_2
                        
1F36:                   report_7:
1F36: D5       [11]     	push	de
1F37: E5       [22]     	push	hl						; zx81
1F38: CF       [33]     	rst		error_1					;
1F39: 06                	defb	RETURN_without_GOSUB	;
                        
1F3A:                   pause:								; se
1F3A: CDBC0A   [17]     	call	l0abc					;
                        
1F3D:                   pau1:								; sam
1F3D: 76       [ 4]     	halt							;
1F3E: 0B       [10]     	dec		bc
1F3F: 78       [14]     	ld		a, b					; sam
1F40: B1       [18]     	or		c						;
1F41: 280C     [25|30]  	jr		z, pau2					;
1F43: 79       [29]     	ld		a, c
1F44: A0       [33]     	and		b
1F45: 3C       [37]     	inc		a
1F46: 2001     [44|49]  	jr		nz, l1f49
1F48: 03       [50]     	inc		bc
                        
1F49:                   l1f49:
1F49: FDCB016E [20]     	bit		5, (iy + _flags)
1F4D: 28EE     [27|32]  	jr		z, pau1
                        
1F4F:                   pau2:
1F4F: FDCB01AE [23]     	res		5, (iy + _flags)
1F53: C9       [33]     	ret
                        
1F54:                   break_1:							; zx81
1F54: 3E7F     [ 7]     	ld		a, 127					;
1F56: DBFE     [18]     	in		a, (ula)				;
1F58: 1F       [22]     	rra								;
1F59: D8       [27|33]  	ret		c
1F5A: 3EFE     [34]     	ld		a, 254
1F5C: DBFE     [45]     	in		a, (ula)
1F5E: 1F       [49]     	rra
1F5F: C9       [59]     	ret
                        
1F60:                   l1f60:
1F60: CD3025   [17]     	call	syntax_z
1F63: 2805     [24|29]  	jr		z, l1f6a
1F65: 3ECE     [31]     	ld		a, tk_deffn
1F67: C3391E   [41]     	jp		l1e39
                        
1F6A:                   l1f6a:
1F6A: FDCB01F6 [23]     	set		6, (iy + _flags)
1F6E: CD8D2C   [40]     	call	alpha
1F71: 3016     [47|52]  	jr		nc, l1f89
1F73: E7       [58]     	rst		next_ch
1F74: FE24     [65]     	cp		'$'
1F76: 2005     [72|77]  	jr		nz, l1f7d
1F78: FDCB01B6 [95]     	res		6, (iy + _flags)
1F7C: E7       [106]    	rst		next_ch
                        
1F7D:                   l1f7d:
1F7D: FE28     [ 7]     	cp		'('
1F7F: 203C     [14|19]  	jr		nz, l1fbd
1F81: E7       [25]     	rst		next_ch
1F82: FE29     [32]     	cp		')'
1F84: 2820     [39|44]  	jr		z, l1fa6
                        
1F86:                   l1f86:
1F86: CD8D2C   [17]     	call	alpha
                        
1F89:                   l1f89:
1F89: D28A1C   [10|10]  	jp		nc, report_c
1F8C: EB       [14]     	ex		de, hl
1F8D: E7       [25]     	rst		next_ch
1F8E: FE24     [32]     	cp		'$'
1F90: 2002     [39|44]  	jr		nz, l1f94
1F92: EB       [43]     	ex		de, hl
1F93: E7       [54]     	rst		next_ch
                        
1F94:                   l1f94:
1F94: EB       [ 4]     	ex		de, hl
1F95: 010600   [14]     	ld		bc, 6
1F98: CD5516   [31]     	call	make_room
1F9B: 23       [37]     	inc		hl
1F9C: 23       [43]     	inc		hl
1F9D: 360E     [53]     	ld		(hl), ctrl_number
1F9F: FE2C     [60]     	cp		','
1FA1: 2003     [67|72]  	jr		nz, l1fa6
1FA3: E7       [78]     	rst		next_ch
1FA4: 18E0     [90]     	jr		l1f86
                        
1FA6:                   l1fa6:
1FA6: FE29     [ 7]     	cp		')'
1FA8: 2013     [14|19]  	jr		nz, l1fbd
1FAA: E7       [25]     	rst		next_ch
1FAB: FE3D     [32]     	cp		'='
1FAD: 200E     [39|44]  	jr		nz, l1fbd
1FAF: E7       [50]     	rst		next_ch
1FB0: 3A3B5C   [63]     	ld		a, (flags)
1FB3: F5       [74]     	push	af
1FB4: CDFB24   [91]     	call	scanning
1FB7: F1       [101]    	pop		af
1FB8: FDAE01   [120]    	xor		(iy + _flags)
1FBB: E640     [127]    	and		%01000000
                        
1FBD:                   l1fbd:
1FBD: C28A1C   [10|10]  	jp		nz, report_c
1FC0: CDEE1B   [27]     	call	check_end
                        
1FC3:                   unstack_z:							; zx81
1FC3: CD3025   [17]     	call	syntax_z				;
1FC6: E1       [27]     	pop		hl						;
1FC7: C8       [32|38]  	ret		z						;
1FC8: E9       [36]     	jp		(hl)					;
                        
1FC9:                   lprint:								; sam
1FC9: 3E03     [ 7]     	ld		a, 3					; was c
1FCB: 1802     [19]     	jr		l1fcf					;
                        									;
1FCD:                   print:								;
1FCD: 3E02     [ 7]     	ld		a, 2					; was c
                        									;
1FCF:                   l1fcf:								;
1FCF: CD3025   [17]     	call	syntax_z				;
1FD2: C40116   [27|34]  	call	nz, l1601
1FD5: CD4D0D   [44]     	call	trcurp
1FD8: CDDF1F   [61]     	call	print2
1FDB: CDEE1B   [78]     	call	check_end
1FDE: C9       [88]     	ret
                        
1FDF:                   print2:								; sam
1FDF: DF       [11]     	rst		get_ch					;
1FE0: CD4520   [28]     	call	prterm					;
1FE3: 280D     [35|40]  	jr		z, print3				;
                        									;
1FE5:                   mprseplp:							;
1FE5: CD4E20   [17]     	call	prsepr				 	;
1FE8: 28FB     [24|29]  	jr		z, mprseplp
1FEA: CDFC1F   [41]     	call	pritem					; sam
1FED: CD4E20   [58]     	call	prsepr					;
1FF0: 28F3     [65|70]  	jr		z, mprseplp
                        
1FF2:                   print3:								; sam
1FF2: FE29     [ 7]     	cp		')'						;
1FF4: C8       [12|18]  	ret		z						;
                        
1FF5:                   prcifrn:
1FF5: CDC31F   [17]     	call	unstack_z
1FF8: 3E0D     [24]     	ld		a, ctrl_n_l
1FFA: D7       [35]     	rst		print_a
1FFB: C9       [45]     	ret
                        
1FFC:                   pritem:								; sam
1FFC: DF       [11]     	rst		get_ch					;
1FFD: FEAC     [18]     	cp		tk_at					; was tk_tab
1FFF: 200D     [25|30]  	jr		nz, pritem2				;
2001: CD791C   [42]     	call	sexpt2nums
2004: CDC31F   [59]     	call	unstack_z
2007: CD0723   [76]     	call	stk_to_bc
200A: 3E16     [83]     	ld		a, ctrl_at				; sam
200C: 1810     [95]     	jr		atsr4					;
                        									;
200E:                   pritem2:							;
200E: FEAD     [ 7]     	cp		tk_tab					; was tk_at
2010: 2012     [14|19]  	jr		nz, pritem4				;
2012: E7       [25]     	rst		next_ch
2013: CD821C   [42]     	call	class_6
2016: CDC31F   [59]     	call	unstack_z
2019: CD991E   [76]     	call	find_int
201C: 3E17     [83]     	ld		a, ctrl_tab
                        
201E:                   atsr4:								; sam
201E: D7       [11]     	rst		print_a					;
201F: 79       [15]     	ld		a, c					; was a, d
2020: D7       [26]     	rst		print_a					;
2021: 78       [30]     	ld		a, b					; was a, e
2022: D7       [41]     	rst		print_a					;
2023: C9       [51]     	ret								;
                        									;
2024:                   pritem4:							;
2024: CDF221   [17]     	call	citemsr					;
2027: D0       [22|28]  	ret		nc						;
2028: CD7020   [39]     	call	l2070
202B: D0       [44|50]  	ret		nc
202C: CDFB24   [61]     	call	scanning
202F: CDC31F   [78]     	call	unstack_z
2032: FDCB0176 [98]     	bit		6, (iy + _flags)
2036: CCF12B   [108|115]	call	z, stk_fetch
2039: C2E32D   [118|118]	jp		nz, print_fp
                        
203C:                   l203c:
203C: 78       [ 4]     	ld		a, b
203D: B1       [ 8]     	or		c
203E: 0B       [14]     	dec		bc
203F: C8       [19|25]  	ret		z
2040: 1A       [26]     	ld		a, (de)
2041: 13       [32]     	inc		de
2042: D7       [43]     	rst		print_a
2043: 18F7     [55]     	jr		l203c
                        
2045:                   prterm:								; sam
2045: FE29     [ 7]     	cp		')'						;
2047: C8       [12|18]  	ret		z						;
                        
2048:                   l2048:
2048: FE0D     [ 7]     	cp		ctrl_n_l
204A: C8       [12|18]  	ret		z
204B: FE3A     [19]     	cp		':'						; sam
204D: C9       [29]     	ret								;
                        									;
204E:                   prsepr:								;
204E: DF       [11]     	rst		get_ch					;
204F: FE3B     [18]     	cp		';'						;
2051: 2814     [25|30]  	jr		z, prserp3				;
2053: FE2C     [32]     	cp		','						;
2055: 200A     [39|44]  	jr		nz, l2061
2057: CD3025   [56]     	call	syntax_z
205A: 280B     [63|68]  	jr		z, prserp3
205C: 3E06     [70]     	ld		a, ctrl_comma
205E: D7       [81]     	rst		print_a
205F: 1806     [93]     	jr		prserp3
                        
2061:                   l2061:								; sam
2061: FE27     [ 7]     	cp		0x27					; binutils doesn't like cp "'"
2063: C0       [12|18]  	ret		nz						;
2064: CDF51F   [29]     	call	prcifrn					;
                        									;
2067:                   prserp3:							;
2067: E7       [11]     	rst		next_ch					;
2068: CD4520   [28]     	call	prterm
206B: 2001     [35|40]  	jr		nz, l206e
206D: C1       [45]     	pop		bc
                        
206E:                   l206e:
206E: BF       [ 4]     	cp		a
206F: C9       [14]     	ret
                        
2070:                   l2070:
2070: FE23     [ 7]     	cp		'#'
2072: 37       [11]     	scf
2073: C0       [16|22]  	ret		nz
2074: E7       [27]     	rst		next_ch
2075: CD821C   [44]     	call	class_6
2078: A7       [48]     	and		a
2079: CDC31F   [65]     	call	unstack_z
                        
207C:                   l207c:
207C: CD941E   [17]     	call	getbyte
207F: FE10     [24]     	cp		16
2081: D20E16   [34|34]  	jp		nc, invstrm
2084: CD0116   [51]     	call	l1601
2087: A7       [55]     	and		a
2088: C9       [65]     	ret
                        
2089:                   input:
2089: CD3025   [17]     	call	syntax_z
208C: 2808     [24|29]  	jr		z, l2096
208E: CD6E0D   [41]     	call	clslower
2091: 3E01     [48]     	ld		a, 1
2093: CD0116   [65]     	call	l1601
                        
2096:                   l2096:
2096: FD360201 [19]     	ld		(iy + _dflag), 1
209A: CDC120   [36]     	call	ipitem
209D: CDEE1B   [53]     	call	check_end
20A0: ED4B885C [73]     	ld		bc, (sposnu)
20A4: 3A6B5C   [86]     	ld		a, (dfsz)
20A7: B8       [90]     	cp		b
20A8: 3803     [97|102] 	jr		c, l20ad
20AA: 47       [101]    	ld		b, a
20AB: 0E21     [108]    	ld		c, 33
                        
20AD:                   l20ad:
20AD: ED43885C [20]     	ld		(sposnu), bc
20B1: 3E19     [27]     	ld		a, 25
20B3: 90       [31]     	sub		b
20B4: 328C5C   [44]     	ld		(scrct), a
20B7: FDCB0286 [67]     	res		0, (iy + _dflag)
20BB: CDD90D   [84]     	call	l0dd9
20BE: C36E0D   [94]     	jp		clslower
                        
20C1:                   ipitem:
20C1: CD4E20   [17]     	call	prsepr
20C4: 28FB     [24|29]  	jr		z, ipitem
20C6: FE28     [31]     	cp		'('						; sam
20C8: 200E     [38|43]  	jr		nz, inp2				;
20CA: E7       [49]     	rst		next_ch					;
20CB: CDDF1F   [66]     	call	print2					;
20CE: DF       [77]     	rst		get_ch					;
20CF: FE29     [84]     	cp		')'
20D1: C28A1C   [94|94]  	jp		nz, report_c
20D4: E7       [105]    	rst		next_ch
20D5: C3B221   [115]    	jp		l21b2
                        
20D8:                   inp2:								; sam
20D8: FECA     [ 7]     	cp		tk_line					;
20DA: 2011     [14|19]  	jr		nz, l20ed
20DC: E7       [25]     	rst		next_ch
20DD: CD1F1C   [42]     	call	class_1
20E0: FDCB37FE [65]     	set		7, (iy + _flage)
20E4: FDCB0176 [85]     	bit		6, (iy + _flags)
20E8: C28A1C   [95|95]  	jp		nz, report_c
20EB: 180D     [107]    	jr		l20fa
                        
20ED:                   l20ed:
20ED: CD8D2C   [17]     	call	alpha					; sam
20F0: D2AF21   [27|27]  	jp		nc, l21af				;
20F3: CD1F1C   [44]     	call	class_1
20F6: FDCB37BE [67]     	res		7, (iy + _flage)
                        
20FA:                   l20fa:
20FA: CD3025   [17]     	call	syntax_z
20FD: CAB221   [27|27]  	jp		z, l21b2
2100: CDBF16   [44]     	call	setwork
2103: 010100   [54]     	ld		bc, 1
2106: 21715C   [64]     	ld		hl, flage
2109: CBEE     [79]     	set		5, (hl)
210B: CBB6     [94]     	res		6, (hl)
210D: CB7E     [106]    	bit		7, (hl)
210F: 200B     [113|118]	jr		nz, l211c
2111: 3A3B5C   [126]    	ld		a, (flags)
2114: E640     [133]    	and		%01000000
2116: 2002     [140|145]	jr		nz, prompt				; zx81
2118: 0E03     [147]    	ld		c, 3					; was 4
                        									;
211A:                   prompt:								;
211A: B6       [ 7]     	or		(hl)					;
211B: 77       [14]     	ld		(hl), a					;
                        									;
211C:                   l211c:								;
211C: F7       [11]     	rst		bc_spaces				;
211D: 360D     [21]     	ld		(hl), ctrl_n_l			;
211F: 79       [25]     	ld		a, c					;
2120: 0F       [29]     	rrca							;
2121: 0F       [33]     	rrca							;
2122: 3005     [40|45]  	jr		nc, inp7
2124: 3E22     [47]     	ld		a, '"'					; zx81
2126: 12       [54]     	ld		(de), a					;
2127: 2B       [60]     	dec		hl						;
2128: 77       [67]     	ld		(hl), a					;
                        
2129:                   inp7:
2129: 225B5C   [16]     	ld		(kcur), hl
212C: FDCB377E [36]     	bit		7, (iy + _flage)
2130: 202C     [43|48]  	jr		nz, inp9
2132: 2A5D5C   [59]     	ld		hl, (chadd)				; sam
2135: E5       [70]     	push	hl						;
2136: 2A3D5C   [86]     	ld		hl, (errsp)				;
2139: E5       [97]     	push	hl						;
                        									;
213A:                   inperr:								;
213A: 213A21   [10]     	ld		hl, inperr				;
213D: E5       [21]     	push	hl						;
213E: FDCB3066 [41]     	bit		4, (iy + _klflag)
2142: 2804     [48|53]  	jr		z, l2148
2144: ED733D5C [68]     	ld		(errsp), sp
                        
2148:                   l2148:
2148: 2A615C   [16]     	ld		hl, (worksp)
214B: CDA711   [33]     	call	l11a7
214E: FD3600FF [52]     	ld		(iy + _errnr), OK
2152: CD2C0F   [69]     	call	editor
2155: FDCB01BE [92]     	res		7, (iy + _flags)		; sam
2159: CDB921   [109]    	call	inpas					;
215C: 1803     [121]    	jr		l2161
                        
215E:                   inp9:								; sam
215E: CD2C0F   [17]     	call	editor					;
                        
2161:                   l2161:
2161: FD362200 [19]     	ld		(iy + _kcur_h), 0
2165: CDD621   [36]     	call	chltchk
2168: 200A     [43|48]  	jr		nz, l2174
216A: CD1D11   [60]     	call	l111d
216D: ED4B825C [80]     	ld		bc, (echoe)
2171: CDD90D   [97]     	call	l0dd9
                        
2174:                   l2174:
2174: 21715C   [10]     	ld		hl, flage
2177: CBAE     [25]     	res		5, (hl)
2179: CB7E     [37]     	bit		7, (hl)
217B: CBBE     [52]     	res		7, (hl)
217D: 201C     [59|64]  	jr		nz, l219b
217F: E1       [69]     	pop		hl
2180: E1       [79]     	pop		hl
2181: 223D5C   [95]     	ld		(errsp), hl
2184: FDCB01FE [118]    	set		7, (iy + _flags)
2188: E1       [128]    	pop		hl
2189: 225F5C   [144]    	ld		(xptr), hl
218C: CDB921   [161]    	call	inpas
218F: 2A5F5C   [177]    	ld		hl, (xptr)
2192: FD362600 [196]    	ld		(iy + _xptr_h), 0
2196: 225D5C   [212]    	ld		(chadd), hl
2199: 1817     [224]    	jr		l21b2
                        
219B:                   l219b:
219B: 2A635C   [16]     	ld		hl, (stkbot)
219E: ED5B615C [36]     	ld		de, (worksp)
21A2: 37       [40]     	scf
21A3: ED52     [55]     	sbc		hl, de
21A5: 4D       [59]     	ld		c, l
21A6: 44       [63]     	ld		b, h
21A7: CDB22A   [80]     	call	stk_store
21AA: CDFF2A   [97]     	call	let
21AD: 1803     [109]    	jr		l21b2
                        
21AF:                   l21af:
21AF: CDFC1F   [17]     	call	pritem
                        
21B2:                   l21b2:
21B2: CD4E20   [17]     	call	prsepr
21B5: CAC120   [27|27]  	jp		z, ipitem
21B8: C9       [37]     	ret
                        
21B9:                   inpas:								; sam
21B9: 2A615C   [16]     	ld		hl, (worksp)			;
21BC: 225D5C   [32]     	ld		(chadd), hl				;
21BF: DF       [43]     	rst		get_ch					;
21C0: FEE2     [50]     	cp		tk_stop					;
21C2: 280C     [57|62]  	jr		z, l21d0
21C4: 3A715C   [70]     	ld		a, (flage)
21C7: CD591C   [87]     	call	input_rep
21CA: DF       [98]     	rst		get_ch
21CB: FE0D     [105]    	cp		ctrl_n_l
21CD: C8       [110|116]	ret		z
21CE: CF       [121]    	rst		error_1					; sam
21CF: 0B                	defb	Syntax_error			;
                        
21D0:                   l21d0:
21D0: CD3025   [17]     	call	syntax_z
21D3: C8       [22|28]  	ret		z
21D4: CF       [33]     	rst		error_1					; sam
21D5: 10                	defb	STOP_in_INPUT			;
                        
21D6:                   chltchk:
21D6: 2A515C   [16]     	ld		hl, (curchl)
21D9: 23       [22]     	inc		hl
21DA: 23       [28]     	inc		hl						; sam
21DB: 23       [34]     	inc		hl						;
21DC: 23       [40]     	inc		hl						;
21DD: 7E       [47]     	ld		a, (hl)					;
21DE: FE4B     [54]     	cp		'K'						;
21E0: C9       [64]     	ret
                        
21E1:                   l21e1:
21E1: E7       [11]     	rst		next_ch
                        
21E2:                   citem:								; sam
21E2: CDF221   [17]     	call	citemsr					;
21E5: D8       [22|28]  	ret		c						;
21E6: DF       [33]     	rst		get_ch
21E7: FE3B     [40]     	cp		';'
21E9: 28F6     [47|52]  	jr		z, l21e1
21EB: FE2C     [54]     	cp		','
21ED: 28F2     [61|66]  	jr		z, l21e1
21EF: C38A1C   [71]     	jp		report_c
                        
21F2:                   citemsr:							; sam
21F2: FED9     [ 7]     	cp		tk_pen					;
21F4: D8       [12|18]  	ret		c						;
21F5: FEDF     [19]     	cp		tk_out					;
21F7: 3F       [23]     	ccf								;
21F8: D8       [28|34]  	ret		c						;
21F9: 4F       [32]     	ld		c, a					;
21FA: E7       [43]     	rst		next_ch					;
21FB: 79       [47]     	ld		a, c					;
                        									;
21FC:                   cotemp4:							;
21FC: D6C9     [ 7]     	sub		tk_pen - 16				;
21FE: F5       [18]     	push	af						;
21FF: CD821C   [35]     	call	class_6					;
2202: F1       [45]     	pop		af
2203: A7       [49]     	and		a
2204: CDC31F   [66]     	call	unstack_z
2207: F5       [77]     	push	af
2208: CD941E   [94]     	call	getbyte					; sam
220B: 57       [98]     	ld		d, a					;
220C: F1       [108]    	pop		af						;
220D: D7       [119]    	rst		print_a
220E: 7A       [123]    	ld		a, d
220F: D7       [134]    	rst		print_a
2210: C9       [144]    	ret
                        
2211:                   l2211:
2211: D611     [ 7]     	sub		17
2213: CE00     [14]     	adc		a, 0
2215: 281D     [21|26]  	jr		z, l2234
2217: D602     [28]     	sub		2
2219: CE00     [35]     	adc		a, 0
221B: 2856     [42|47]  	jr		z, l2273
221D: FE01     [49]     	cp		1
221F: 0601     [56]     	ld		b, 1
2221: 7A       [60]     	ld		a, d
2222: 2004     [67|72]  	jr		nz, coinverse
2224: 07       [71]     	rlca
2225: 07       [75]     	rlca
2226: 0604     [82]     	ld		b, 4
                        
2228:                   coinverse:
2228: 4F       [ 4]     	ld		c, a
2229: 7A       [ 8]     	ld		a, d					; sam
222A: FE02     [15]     	cp		2						;
222C: 3016     [22|27]  	jr		nc, invcolerr			;
222E: 79       [26]     	ld		a, c
222F: 21915C   [36]     	ld		hl, pflag
2232: 1838     [48]     	jr		cochng
                        
2234:                   l2234:
2234: 7A       [ 4]     	ld		a, d
2235: 0607     [11]     	ld		b, %00000111
2237: 3805     [18|23]  	jr		c, l223e
2239: 07       [22]     	rlca
223A: 07       [26]     	rlca
223B: 07       [30]     	rlca
223C: 0638     [37]     	ld		b, %00111000
                        
223E:                   l223e:
223E: 4F       [ 4]     	ld		c, a
223F: 7A       [ 8]     	ld		a, d
2240: FE0A     [15]     	cp		10
2242: 3802     [22|27]  	jr		c, l2246
                        
2244:                   invcolerr:							; sam
2244: CF       [11]     	rst		error_1					;
2245: 13                	defb	Bad_colour				;
                        
2246:                   l2246:
2246: 218F5C   [10]     	ld		hl, attrt
2249: FE08     [17]     	cp		8
224B: 380B     [24|29]  	jr		c, l2258
224D: 7E       [31]     	ld		a, (hl)
224E: 2807     [38|43]  	jr		z, l2257
2250: B0       [42]     	or		b
2251: 2F       [46]     	cpl
2252: E624     [53]     	and		%00100100
2254: 2801     [60|65]  	jr		z, l2257
2256: 78       [64]     	ld		a, b
                        
2257:                   l2257:
2257: 4F       [ 4]     	ld		c, a
                        
2258:                   l2258:
2258: 79       [ 4]     	ld		a, c
2259: CD6C22   [21]     	call	cochng
225C: 3E07     [28]     	ld		a, 7
225E: BA       [32]     	cp		d
225F: 9F       [36]     	sbc		a, a
2260: CD6C22   [53]     	call	cochng
2263: 07       [57]     	rlca
2264: 07       [61]     	rlca
2265: E650     [68]     	and		%01010000
2267: 47       [72]     	ld		b, a
2268: 3E08     [79]     	ld		a, 8
226A: BA       [83]     	cp		d
226B: 9F       [87]     	sbc		a, a
                        
226C:                   cochng:								; sam
226C: AE       [ 7]     	xor		(hl)					;
226D: A0       [11]     	and		b						; was c
226E: AE       [18]     	xor		(hl)					;
226F: 77       [25]     	ld		(hl), a					;
2270: 78       [29]     	ld		a, b					; was c
2271: 23       [35]     	inc		hl						;
2272: C9       [45]     	ret								;
                        
2273:                   l2273:
2273: 9F       [ 4]     	sbc		a, a
2274: 7A       [ 8]     	ld		a, d
2275: 0F       [12]     	rrca
2276: 0680     [19]     	ld		b, %10000000
2278: 2003     [26|31]  	jr		nz, l227d
227A: 0F       [30]     	rrca
227B: 0640     [37]     	ld		b, %01000000
                        
227D:                   l227d:
227D: 4F       [ 4]     	ld		c, a
227E: 7A       [ 8]     	ld		a, d
227F: FE08     [15]     	cp		8
2281: 2804     [22|27]  	jr		z, cofbok
2283: FE02     [29]     	cp		2
2285: 30BD     [36|41]  	jr		nc, invcolerr
                        
2287:                   cofbok:
2287: 79       [ 4]     	ld		a, c
2288: 218F5C   [14]     	ld		hl, attrt				; sam
228B: CD6C22   [31]     	call	cochng					;
228E: 79       [35]     	ld		a, c					; was b
228F: 0F       [39]     	rrca							;
2290: 0F       [43]     	rrca							;
2291: 0F       [47]     	rrca							;
2292: 18D8     [59]     	jr		cochng					;
                        
2294:                   l2294:
2294: CD941E   [17]     	call	getbyte
2297: FE08     [24]     	cp		8
2299: 30A9     [31|36]  	jr		nc, invcolerr
229B: D3FE     [42]     	out		(ula), a				; skel
229D: 07       [46]     	rlca							;
229E: 07       [50]     	rlca							;
229F: 07       [54]     	rlca							;
22A0: CB6F     [62]     	bit		5, a					;
22A2: 2002     [69|74]  	jr		nz, l22a6				;
22A4: EE07     [76]     	xor		%00000111				;
                        									;
22A6:                   l22a6:								;
22A6: 32485C   [13]     	ld		(bordcr), a				;
22A9: C9       [23]     	ret								;
                        
22AA:                   l22aa:
22AA: 3EAF     [ 7]     	ld		a, 175
22AC: 90       [11]     	sub		b
22AD: DAF924   [21|21]  	jp		c, report_b
22B0: 47       [25]     	ld		b, a
22B1: A7       [29]     	and		a						; skel
22B2: 1F       [33]     	rra								;
22B3: 37       [37]     	scf								;
22B4: 1F       [41]     	rra								;
22B5: A7       [45]     	and		a						;
22B6: 1F       [49]     	rra								;
22B7: A8       [53]     	xor		b						;
22B8: E6F8     [60]     	and		%11111000				;
22BA: A8       [64]     	xor		b						;
22BB: 67       [68]     	ld		h, a					;
22BC: 79       [72]     	ld		a, c					;
22BD: 07       [76]     	rlca							;
22BE: 07       [80]     	rlca							;
22BF: 07       [84]     	rlca							;
22C0: A8       [88]     	xor		b						;
22C1: E6C7     [95]     	and		%11000111				;
22C3: A8       [99]     	xor		b						;
22C4: 07       [103]    	rlca							;
22C5: 07       [107]    	rlca							;
22C6: 6F       [111]    	ld		l, a					;
22C7: 79       [115]    	ld		a, c					;
22C8: E607     [122]    	and		%00000111				;
22CA: C9       [132]    	ret								;
                        
22CB:                   l22cb:
22CB: CD1539   [17]     	call	l3915
22CE: CDAA22   [34]     	call	l22aa
22D1: 3C       [38]     	inc		a
22D2: 47       [42]     	ld		b, a
22D3: 7E       [49]     	ld		a, (hl)
                        
22D4:                   l22d4:
22D4: 07       [ 4]     	rlca
22D5: 10FD     [12|17]  	djnz	l22d4
22D7: E601     [19]     	and		%00000001
22D9: C3282D   [29]     	jp		stack_a
                        
22DC:                   plot:
22DC: CD1539   [17]     	call	l3915
22DF: CDE522   [34]     	call	l22e5
22E2: C34D0D   [44]     	jp		trcurp
                        
22E5:                   l22e5:
22E5: ED437D5C [20]     	ld		(xcoord), bc
22E9: CDAA22   [37]     	call	l22aa
22EC: 3C       [41]     	inc		a
22ED: 47       [45]     	ld		b, a
22EE: 3EFE     [52]     	ld		a, %11111110
                        
22F0:                   l22f0:
22F0: 0F       [ 4]     	rrca
22F1: 10FD     [12|17]  	djnz	l22f0
22F3: 47       [16]     	ld		b, a
22F4: 7E       [23]     	ld		a, (hl)
22F5: FD4E57   [42]     	ld		c, (iy + _pflag)
22F8: CB41     [50]     	bit		0, c
22FA: 2001     [57|62]  	jr		nz, l22fd
22FC: A0       [61]     	and		b
                        
22FD:                   l22fd:
22FD: CB51     [ 8]     	bit		2, c
22FF: 2002     [15|20]  	jr		nz, l2303
2301: A8       [19]     	xor		b
2302: 2F       [23]     	cpl
                        
2303:                   l2303:
2303: 77       [ 7]     	ld		(hl), a
2304: C3DB0B   [17]     	jp		l0bdb
                        
2307:                   stk_to_bc:							; zx81
2307: CD1423   [17]     	call	stk_to_a				;
230A: 47       [21]     	ld		b, a					;
230B: C5       [32]     	push	bc						;
230C: CD1423   [49]     	call	stk_to_a				;
230F: 59       [53]     	ld		e, c					;
2310: C1       [63]     	pop		bc						;
2311: 51       [67]     	ld		d, c					;
2312: 4F       [71]     	ld		c, a					;
2313: C9       [81]     	ret								;
                        									;
2314:                   stk_to_a:							;
2314: CDD52D   [17]     	call	fp_to_a					;
2317: DAF924   [27|27]  	jp		c, report_b				;
231A: 0E01     [34]     	ld		c, 1					;
231C: C8       [39|45]  	ret		z						;
231D: 0EFF     [46]     	ld		c, 255					;
231F: C9       [56]     	ret								;
                        
2320:                   circle:
2320: DF       [11]     	rst		get_ch
2321: FE2C     [18]     	cp		','
2323: C28A1C   [28|28]  	jp		nz, report_c
2326: E7       [39]     	rst		next_ch
2327: CD821C   [56]     	call	class_6
232A: CDEE1B   [73]     	call	check_end
                        	fwait
232D: EF       [84]     	rst	28h
                        	fabs
232E: 2A                	defb	0x2a
                        	frstk
232F: 3D                	defb	0x3d
                        	fce
2330: 38                	defb	0x38
2331: 7E       [91]     	ld		a, (hl)
2332: FE81     [98]     	cp		129
2334: 3005     [105|110]	jr		nc, l233b
                        	fwait
2336: EF       [116]    	rst	28h
                        	fdel
2337: 02                	defb	0x02
                        	fce
2338: 38                	defb	0x38
2339: 18A1     [128]    	jr		plot
                        
233B:                   l233b:
                        	fwait
233B: EF       [11]     	rst	28h
                        	fstkpix_5
233C: A3                	defb	0xa3
                        	fce
233D: 38                	defb	0x38
233E: 3683     [21]     	ld		(hl), 131
                        	fwait
2340: EF       [32]     	rst	28h
                        	fst		5
2341: C5                	defb	0xc0 + 5
                        	fdel
2342: 02                	defb	0x02
                        	fce
2343: 38                	defb	0x38
2344: CD7D24   [49]     	call	l247d
2347: C5       [60]     	push	bc
                        	fwait
2348: EF       [71]     	rst	28h
                        	fmove
2349: 31                	defb	0x31
                        	fgt		1
234A: E1                	defb	0xe0 + 1
                        	fmul
234B: 04                	defb	0x04
                        	fce
234C: 38                	defb	0x38
234D: 7E       [78]     	ld		a, (hl)
234E: FE80     [85]     	cp		128
2350: 3008     [92|97]  	jr		nc, l235a
                        	fwait
2352: EF       [103]    	rst	28h
                        	fdel
2353: 02                	defb	0x02
                        	fdel
2354: 02                	defb	0x02
                        	fce
2355: 38                	defb	0x38
2356: C1       [113]    	pop		bc
2357: C3DC22   [123]    	jp		plot
                        
235A:                   l235a:
                        	fwait
235A: EF       [11]     	rst	28h
                        	fst		2
235B: C2                	defb	0xc0 + 2
                        	fxch
235C: 01                	defb	0x01
                        	fst		0
235D: C0                	defb	0xc0 + 0
                        	fdel
235E: 02                	defb	0x02
                        	fsub
235F: 03                	defb	0x03
                        	fxch
2360: 01                	defb	0x01
                        	fgt		0
2361: E0                	defb	0xe0 + 0
                        	fadd
2362: 0F                	defb	0x0f
                        	fst		0
2363: C0                	defb	0xc0 + 0
                        	fxch
2364: 01                	defb	0x01
                        	fmove
2365: 31                	defb	0x31
                        	fgt		0
2366: E0                	defb	0xe0 + 0
                        	fxch
2367: 01                	defb	0x01
                        	fmove
2368: 31                	defb	0x31
                        	fgt		0
2369: E0                	defb	0xe0 + 0
                        	fstk0
236A: A0                	defb	0xa0
                        	fst		1
236B: C1                	defb	0xc0 + 1
                        	fdel
236C: 02                	defb	0x02
                        	fce
236D: 38                	defb	0x38
236E: FD3462   [34]     	inc		(iy + _mem_2)
2371: CD941E   [51]     	call	getbyte
2374: 6F       [55]     	ld		l, a
2375: E5       [66]     	push	hl
2376: CD941E   [83]     	call	getbyte
2379: E1       [93]     	pop		hl
237A: 67       [97]     	ld		h, a
237B: 227D5C   [113]    	ld		(xcoord), hl
237E: C1       [123]    	pop		bc
237F: C30524   [133]    	jp		l2405
                        
2382:                   l2382:
2382: DF       [11]     	rst		get_ch
2383: FE2C     [18]     	cp		','
2385: 2806     [25|30]  	jr		z, l238d
2387: CDEE1B   [42]     	call	check_end
238A: C37724   [52]     	jp		linedraw
                        
238D:                   l238d:
238D: E7       [11]     	rst		next_ch
238E: CD821C   [28]     	call	class_6
2391: CDEE1B   [45]     	call	check_end
                        	fwait
2394: EF       [56]     	rst	28h
                        	fst		5
2395: C5                	defb	0xc0 + 5
                        	fstk_5
2396: A2                	defb	0xa2
                        	fmul
2397: 04                	defb	0x04
                        	fsin
2398: 1F                	defb	0x1f
                        	fmove
2399: 31                	defb	0x31
                        	fnot
239A: 30                	defb	0x30
                        	fnot
239B: 30                	defb	0x30
                        	fjpt	l23a3
239C: 0007              	defb	0x00, l23a3 - $
                        	fdel
239E: 02                	defb	0x02
                        	fce
239F: 38                	defb	0x38
23A0: C37724   [66]     	jp		linedraw
                        
23A3:                   l23a3:
                        	fst		0
23A3: C0                	defb	0xc0 + 0
                        	fdel
23A4: 02                	defb	0x02
                        	fst		1
23A5: C1                	defb	0xc0 + 1
                        	fdel
23A6: 02                	defb	0x02
                        	fmove
23A7: 31                	defb	0x31
                        	fabs
23A8: 2A                	defb	0x2a
                        	fgt		1
23A9: E1                	defb	0xe0 + 1
                        	fxch
23AA: 01                	defb	0x01
                        	fgt		1
23AB: E1                	defb	0xe0 + 1
                        	fabs
23AC: 2A                	defb	0x2a
                        	fadd
23AD: 0F                	defb	0x0f
                        	fgt		0
23AE: E0                	defb	0xe0 + 0
                        	fdiv
23AF: 05                	defb	0x05
                        	fabs
23B0: 2A                	defb	0x2a
                        	fgt		0
23B1: E0                	defb	0xe0 + 0
                        	fxch
23B2: 01                	defb	0x01
                        	fce
23B3: 38                	defb	0x38
23B4: CD7D24   [17]     	call	l247d
23B7: C5       [28]     	push	bc
                        	fwait
23B8: EF       [39]     	rst	28h
                        	fdel
23B9: 02                	defb	0x02
                        	fgt		1
23BA: E1                	defb	0xe0 + 1
                        	fxch
23BB: 01                	defb	0x01
                        	fdiv
23BC: 05                	defb	0x05
                        	fst		1
23BD: C1                	defb	0xc0 + 1
                        	fdel
23BE: 02                	defb	0x02
                        	fxch
23BF: 01                	defb	0x01
                        	fmove
23C0: 31                	defb	0x31
                        	fgt		1
23C1: E1                	defb	0xe0 + 1
                        	fmul
23C2: 04                	defb	0x04
                        	fst		2
23C3: C2                	defb	0xc0 + 2
                        	fdel
23C4: 02                	defb	0x02
                        	fxch
23C5: 01                	defb	0x01
                        	fmove
23C6: 31                	defb	0x31
                        	fgt		1
23C7: E1                	defb	0xe0 + 1
                        	fmul
23C8: 04                	defb	0x04
                        	fgt		2
23C9: E2                	defb	0xe0 + 2
                        	fgt		5
23CA: E5                	defb	0xe0 + 5
                        	fgt		0
23CB: E0                	defb	0xe0 + 0
                        	fsub
23CC: 03                	defb	0x03
                        	fstk_5
23CD: A2                	defb	0xa2
                        	fmul
23CE: 04                	defb	0x04
                        	fmove
23CF: 31                	defb	0x31
                        	fsin
23D0: 1F                	defb	0x1f
                        	fst		5
23D1: C5                	defb	0xc0 + 5
                        	fdel
23D2: 02                	defb	0x02
                        	fcos
23D3: 20                	defb	0x20
                        	fst		0
23D4: C0                	defb	0xc0 + 0
                        	fdel
23D5: 02                	defb	0x02
                        	fst		2
23D6: C2                	defb	0xc0 + 2
                        	fdel
23D7: 02                	defb	0x02
                        	fst		1
23D8: C1                	defb	0xc0 + 1
                        	fgt		5
23D9: E5                	defb	0xe0 + 5
                        	fmul
23DA: 04                	defb	0x04
                        	fgt		0
23DB: E0                	defb	0xe0 + 0
                        	fgt		2
23DC: E2                	defb	0xe0 + 2
                        	fmul
23DD: 04                	defb	0x04
                        	fadd
23DE: 0F                	defb	0x0f
                        	fgt		1
23DF: E1                	defb	0xe0 + 1
                        	fxch
23E0: 01                	defb	0x01
                        	fst		1
23E1: C1                	defb	0xc0 + 1
                        	fdel
23E2: 02                	defb	0x02
                        	fgt		0
23E3: E0                	defb	0xe0 + 0
                        	fmul
23E4: 04                	defb	0x04
                        	fgt		2
23E5: E2                	defb	0xe0 + 2
                        	fgt		5
23E6: E5                	defb	0xe0 + 5
                        	fmul
23E7: 04                	defb	0x04
                        	fsub
23E8: 03                	defb	0x03
                        	fst		2
23E9: C2                	defb	0xc0 + 2
                        	fdel
23EA: 02                	defb	0x02
                        	fxch
23EB: 01                	defb	0x01
                        	fce
23EC: 38                	defb	0x38
23ED: 3A7D5C   [52]     	ld		a, (xcoord)
23F0: CD282D   [69]     	call	stack_a
                        	fwait
23F3: EF       [80]     	rst	28h
                        	fst		0
23F4: C0                	defb	0xc0 + 0
                        	fadd
23F5: 0F                	defb	0x0f
                        	fxch
23F6: 01                	defb	0x01
                        	fce
23F7: 38                	defb	0x38
23F8: 3A7E5C   [93]     	ld		a, (ycoord)
23FB: CD282D   [110]    	call	stack_a
                        	fwait
23FE: EF       [121]    	rst	28h
                        	fst		5
23FF: C5                	defb	0xc0 + 5
                        	fadd
2400: 0F                	defb	0x0f
                        	fgt		0
2401: E0                	defb	0xe0 + 0
                        	fgt		5
2402: E5                	defb	0xe0 + 5
                        	fce
2403: 38                	defb	0x38
2404: C1       [131]    	pop		bc
                        
2405:                   l2405:
2405: 05       [ 4]     	dec		b
2406: 1831     [16]     	jr		l2439
                        
2408:                   l2408:
2408: 3EE2     [ 7]     	ld		a, tk_stop
240A: CD810F   [24]     	call	add_char
240D: FD360010 [43]     	ld		(iy + _errnr), STOP_in_INPUT
2411: C31D10   [53]     	jp		n_l_key
                        
2414:                   l2414:								; se
2414: 7E       [ 7]     	ld		a, (hl)					;
2415: FE30     [14]     	cp		'0'						;
2417: C0       [19|25]  	ret		nz						;
2418: 3620     [29]     	ld		(hl), ' '				;
241A: 23       [35]     	inc		hl						;
241B: 10F7     [43|48]  	djnz	l2414					;
241D: C9       [53]     	ret								;
                        									;
241E:                   l241e:								;
241E: CA                	defb	tk_line					;
241F: F0                	defb	tk_list					;
2420: E1                	defb	tk_llist				;
2421: EC                	defb	tk_goto					;
2422: ED                	defb	tk_gosub				;
2423: E5                	defb	tk_restore				;
2424: F7                	defb	tk_run					;
                        
2425:                   l2425:
                        	fwait		
2425: EF       [11]     	rst	28h
                        	fgt		1
2426: E1                	defb	0xe0 + 1
                        	fmove
2427: 31                	defb	0x31
                        	fgt		3
2428: E3                	defb	0xe0 + 3
                        	fmul
2429: 04                	defb	0x04
                        	fgt		2
242A: E2                	defb	0xe0 + 2
                        	fgt		4
242B: E4                	defb	0xe0 + 4
                        	fmul
242C: 04                	defb	0x04
                        	fsub
242D: 03                	defb	0x03
                        	fst		1
242E: C1                	defb	0xc0 + 1
                        	fdel
242F: 02                	defb	0x02
                        	fgt		4
2430: E4                	defb	0xe0 + 4
                        	fmul
2431: 04                	defb	0x04
                        	fgt		2
2432: E2                	defb	0xe0 + 2
                        	fgt		3
2433: E3                	defb	0xe0 + 3
                        	fmul
2434: 04                	defb	0x04
                        	fadd
2435: 0F                	defb	0x0f
                        	fst		2
2436: C2                	defb	0xc0 + 2
                        	fdel
2437: 02                	defb	0x02
                        	fce
2438: 38                	defb	0x38
                        
2439:                   l2439:
2439: C5       [11]     	push	bc
                        	fwait
243A: EF       [22]     	rst	28h
                        	fst		0
243B: C0                	defb	0xc0 + 0
                        	fdel
243C: 02                	defb	0x02
                        	fgt		1
243D: E1                	defb	0xe0 + 1
                        	fadd
243E: 0F                	defb	0x0f
                        	fmove
243F: 31                	defb	0x31
                        	fce
2440: 38                	defb	0x38
2441: 3A7D5C   [35]     	ld		a, (xcoord)
2444: CD282D   [52]     	call	stack_a
                        	fwait
2447: EF       [63]     	rst	28h
                        	fsub
2448: 03                	defb	0x03
                        	fgt		0
2449: E0                	defb	0xe0 + 0
                        	fgt		2
244A: E2                	defb	0xe0 + 2
                        	fadd
244B: 0F                	defb	0x0f
                        	fst		0
244C: C0                	defb	0xc0 + 0
                        	fxch
244D: 01                	defb	0x01
                        	fgt		0
244E: E0                	defb	0xe0 + 0
                        	fce
244F: 38                	defb	0x38
2450: 3A7E5C   [76]     	ld		a, (ycoord)
2453: CD282D   [93]     	call	stack_a
                        	fwait
2456: EF       [104]    	rst	28h
                        	fsub
2457: 03                	defb	0x03
                        	fce
2458: 38                	defb	0x38
2459: CDB724   [121]    	call	r1offcl
245C: C1       [131]    	pop		bc
245D: 10C6     [139|144]	djnz	l2425
                        	fwait
245F: EF       [150]    	rst	28h
                        	fdel
2460: 02                	defb	0x02
                        	fdel
2461: 02                	defb	0x02
                        	fxch
2462: 01                	defb	0x01
                        	fce
2463: 38                	defb	0x38
2464: 3A7D5C   [163]    	ld		a, (xcoord)
2467: CD282D   [180]    	call	stack_a
                        	fwait
246A: EF       [191]    	rst	28h
                        	fsub
246B: 03                	defb	0x03
                        	fxch
246C: 01                	defb	0x01
                        	fce
246D: 38                	defb	0x38
246E: 3A7E5C   [204]    	ld		a, (ycoord)
2471: CD282D   [221]    	call	stack_a
                        	fwait
2474: EF       [232]    	rst	28h
                        	fsub
2475: 03                	defb	0x03
                        	fce
2476: 38                	defb	0x38
                        
2477:                   linedraw:							; sam
2477: CDB724   [17]     	call	r1offcl					;
247A: C34D0D   [27]     	jp		trcurp					;
                        
247D:                   l247d:
                        	fwait
247D: EF       [11]     	rst	28h
                        	fmove
247E: 31                	defb	0x31
                        	fsqrt
247F: 28                	defb	0x28
                        	fstk
2480: 34                	defb	0x34
2481: 3200              	defb	0x32, 0x00
                        	fxch
2483: 01                	defb	0x01
                        	fdiv
2484: 05                	defb	0x05
                        	fgt		5
2485: E5                	defb	0xe0 + 5
                        	fxch
2486: 01                	defb	0x01
                        	fdiv
2487: 05                	defb	0x05
                        	fabs
2488: 2A                	defb	0x2a
                        	fce
2489: 38                	defb	0x38
248A: CDD52D   [28]     	call	fp_to_a
248D: 3806     [35|40]  	jr		c, l2495
248F: E6FC     [42]     	and		252
2491: C604     [49]     	add		a, 4
2493: 3002     [56|61]  	jr		nc, l2497
                        
2495:                   l2495:
2495: 3EFC     [ 7]     	ld		a, 252
                        
2497:                   l2497:
2497: F5       [11]     	push	af
2498: CD282D   [28]     	call	stack_a
                        	fwait
249B: EF       [39]     	rst	28h
                        	fgt		5
249C: E5                	defb	0xe0 + 5
                        	fxch
249D: 01                	defb	0x01
                        	fdiv
249E: 05                	defb	0x05
                        	fmove
249F: 31                	defb	0x31
                        	fsin
24A0: 1F                	defb	0x1f
                        	fst		4
24A1: C4                	defb	0xc0 + 4
                        	fdel
24A2: 02                	defb	0x02
                        	fmove
24A3: 31                	defb	0x31
                        	fstk_5
24A4: A2                	defb	0xa2
                        	fmul
24A5: 04                	defb	0x04
                        	fsin
24A6: 1F                	defb	0x1f
                        	fst		1
24A7: C1                	defb	0xc0 + 1
                        	fxch
24A8: 01                	defb	0x01
                        	fst		0
24A9: C0                	defb	0xc0 + 0
                        	fdel
24AA: 02                	defb	0x02
                        	fmove
24AB: 31                	defb	0x31
                        	fmul
24AC: 04                	defb	0x04
                        	fmove
24AD: 31                	defb	0x31
                        	fadd
24AE: 0F                	defb	0x0f
                        	fstk1
24AF: A1                	defb	0xa1
                        	fsub
24B0: 03                	defb	0x03
                        	fneg
24B1: 1B                	defb	0x1b
                        	fst		3
24B2: C3                	defb	0xc0 + 3
                        	fdel
24B3: 02                	defb	0x02
                        	fce
24B4: 38                	defb	0x38
24B5: C1       [49]     	pop		bc
24B6: C9       [59]     	ret
                        
24B7:                   r1offcl:
24B7: CD0723   [17]     	call	stk_to_bc
24BA: 79       [21]     	ld		a, c
24BB: B8       [25]     	cp		b
24BC: 3006     [32|37]  	jr		nc, l24c4
24BE: AF       [36]     	xor		a
24BF: 69       [40]     	ld		l, c
24C0: D5       [51]     	push	de
24C1: 5F       [55]     	ld		e, a
24C2: 1807     [67]     	jr		l24cb
                        
24C4:                   l24c4:
24C4: B1       [ 4]     	or		c
24C5: C8       [ 9|15]  	ret		z
24C6: 68       [13]     	ld		l, b
24C7: 41       [17]     	ld		b, c
24C8: D5       [28]     	push	de
24C9: 1600     [35]     	ld		d, 0
                        
24CB:                   l24cb:
24CB: 60       [ 4]     	ld		h, b
24CC: 78       [ 8]     	ld		a, b
24CD: 1F       [12]     	rra		
                        
24CE:                   l24ce:
24CE: 85       [ 4]     	add		a, l
24CF: 3803     [11|16]  	jr		c, l24d4
24D1: BC       [15]     	cp		h
24D2: 3807     [22|27]  	jr		c, l24db
                        
24D4:                   l24d4:
24D4: 94       [ 4]     	sub		h
24D5: 4F       [ 8]     	ld		c, a
24D6: D9       [12]     	exx
24D7: C1       [22]     	pop		bc
24D8: C5       [33]     	push	bc
24D9: 1804     [45]     	jr		l24df
                        
24DB:                   l24db:
24DB: 4F       [ 4]     	ld		c, a
24DC: D5       [15]     	push	de
24DD: D9       [19]     	exx
24DE: C1       [29]     	pop		bc
                        
24DF:                   l24df:
24DF: 2A7D5C   [16]     	ld		hl, (xcoord)
24E2: 78       [20]     	ld		a, b
24E3: 84       [24]     	add		a, h
24E4: 47       [28]     	ld		b, a
24E5: 79       [32]     	ld		a, c
24E6: 3C       [36]     	inc		a
24E7: 85       [40]     	add		a, l
24E8: 380D     [47|52]  	jr		c, l24f7
24EA: 280D     [54|59]  	jr		z, report_b
                        
24EC:                   l24ec:
24EC: 3D       [ 4]     	dec		a
24ED: 4F       [ 8]     	ld		c, a
24EE: CDE522   [25]     	call	l22e5
24F1: D9       [29]     	exx
24F2: 79       [33]     	ld		a, c
24F3: 10D9     [41|46]  	djnz	l24ce
24F5: D1       [51]     	pop		de
24F6: C9       [61]     	ret
                        
24F7:                   l24f7:
24F7: 28F3     [ 7|12]  	jr		z, l24ec
                        
24F9:                   report_b:							; zx81
24F9: CF       [11]     	rst		error_1					;
24FA: 0A                	defb	Integer_out_of_range	;
                        									;
24FB:                   scanning:							;
24FB: DF       [11]     	rst		get_ch					;
24FC: 0600     [18]     	ld		b, 0					;
24FE: C5       [29]     	push	bc						;
                        
24FF:                   l24ff:
24FF: 4F       [ 4]     	ld		c, a
2500: 219625   [14]     	ld		hl, l2596
2503: CDAC0E   [31]     	call	l0eac
2506: 79       [35]     	ld		a, c
2507: D28426   [45|45]  	jp		nc, l2684
250A: 4E       [52]     	ld		c, (hl)
250B: 0600     [59]     	ld		b, 0
250D: 09       [70]     	add		hl, bc
250E: E9       [74]     	jp		(hl)
                        
250F:                   l250f:
250F: CD7400   [17]     	call	ch_add_1
2512: 03       [23]     	inc		bc
2513: FE0D     [30]     	cp		ctrl_n_l
2515: CA8A1C   [40|40]  	jp		z, report_c
2518: FE22     [47]     	cp		'"'
251A: 20F3     [54|59]  	jr		nz, l250f
251C: CD7400   [71]     	call	ch_add_1
251F: FE22     [78]     	cp		'"'
2521: C9       [88]     	ret
                        
2522:                   l2522:
2522: E7       [11]     	rst		next_ch
2523: FE28     [18]     	cp		'('
2525: 2006     [25|30]  	jr		nz, l252d
2527: CD791C   [42]     	call	sexpt2nums
252A: DF       [53]     	rst		get_ch
252B: FE29     [60]     	cp		')'
                        
252D:                   l252d:
252D: C28A1C   [10|10]  	jp		nz, report_c
                        
2530:                   syntax_z:
2530: FDCB017E [20]     	bit		7, (iy + _flags)
2534: C9       [30]     	ret
                        
2535:                   l2535:								; se
2535: CD0939   [17]     	call	l3909					;
                        
2538:                   l2538:
2538: C39838   [10]     	jp		l3898
                        
253B:                   l253b:								; se
253B: C5       [11]     	push	bc						;
253C: 06E0     [18]     	ld		b, 96 + 128				;
                        	
253E:                   l253e:
253E: C5       [11]     	push	bc
253F: D5       [22]     	push	de
2540: E5       [33]     	push	hl
2541: 1A       [40]     	ld		a, (de)
2542: AE       [47]     	xor		(hl)
2543: 2804     [54|59]  	jr		z, l2549
2545: 3C       [58]     	inc		a
2546: 2021     [65|70]  	jr		nz, l2569
2548: 3D       [69]     	dec		a
                        
2549:                   l2549:
2549: 4F       [ 4]     	ld		c, a
254A: 0607     [11]     	ld		b, 7
                        
254C:                   l254c:
254C: 14       [ 4]     	inc		d
254D: 23       [10]     	inc		hl
254E: 1A       [17]     	ld		a, (de)
254F: AE       [24]     	xor		(hl)
2550: A9       [28]     	xor		c
2551: 2016     [35|40]  	jr		nz, l2569
2553: 10F7     [43|48]  	djnz	l254c
2555: C1       [53]     	pop		bc
2556: C1       [63]     	pop		bc
2557: C1       [73]     	pop		bc
2558: E1       [83]     	pop		hl
2559: 7C       [87]     	ld		a, h					; se
255A: 25       [91]     	dec		h						;
255B: 2005     [98|103] 	jr		nz, l2562				;
255D: 3EA5     [105]    	ld		a, 144 + 21				;
255F: C36325   [115]    	jp		l2563					;
                        									;
2562:                   l2562:								;
2562: AF       [ 4]     	xor		a						;
                        
2563:                   l2563:
2563: 90       [ 4]     	sub		b
2564: CD2D00   [21]     	call	bc_spaces1
2567: 12       [28]     	ld		(de), a
2568: C9       [38]     	ret
                        
2569:                   l2569:
2569: E1       [10]     	pop		hl
256A: 110800   [20]     	ld		de, 8
256D: 19       [31]     	add		hl, de
256E: D1       [41]     	pop		de
256F: C1       [51]     	pop		bc
2570: 10CC     [59|64]  	djnz	l253e
2572: C1       [69]     	pop		bc						; se
2573: 05       [73]     	dec		b						;
2574: 2808     [80|85]  	jr		z, l257e				;
2576: C5       [91]     	push	bc						;
2577: 0615     [98]     	ld		b, 21					;
2579: 2A7B5C   [114]    	ld		hl, (udg)				;
257C: 18C0     [126]    	jr		l253e					;
                        									;
257E:                   l257e:								;
257E: 48       [ 4]     	ld		c, b					;
257F: C9       [14]     	ret								;
                        									;
2580:                   l2580:								;
2580: CD0939   [17]     	call	l3909					;
2583: 79       [21]     	ld		a, c
2584: 0F       [25]     	rrca
2585: 0F       [29]     	rrca
2586: 0F       [33]     	rrca
2587: 4F       [37]     	ld		c, a
2588: E6E0     [44]     	and		%11100000
258A: A8       [48]     	xor		b
258B: 6F       [52]     	ld		l, a
258C: 79       [56]     	ld		a, c
258D: E603     [63]     	and		%00000011
258F: EE58     [70]     	xor		%01011000
2591: 67       [74]     	ld		h, a
2592: 7E       [81]     	ld		a, (hl)
2593: C3282D   [91]     	jp		stack_a
                        
2596:                   l2596:
2596: 221D              	defb	'"', l25b3 - $
2598: 2850              	defb	'(', l25e8 - $
259A: 2EF3              	defb	'.', s_decimal - $
259C: 2B13              	defb	'+', l25af - $
259E: A857              	defb	tk_fn, l25f5 - $
25A0: A558              	defb	tk_rnd, s_rnd -  $
25A2: A785              	defb	tk_pi, s_pi - $
25A4: A690              	defb	tk_inkey_str, iminkeys - $
25A6: C4E7              	defb	tk_bin, s_decimal - $
25A8: AAC0              	defb	tk_screen_str, l2668 - $
25AA: ABC8              	defb	tk_attr, l2672 - $
25AC: A9CF              	defb	tk_point, l267b - $
25AE: 00                	defb	0
                        
25AF:                   l25af:
25AF: E7       [11]     	rst		next_ch
25B0: C3FF24   [21]     	jp		l24ff
                        
25B3:                   l25b3:
25B3: DF       [11]     	rst		get_ch
25B4: 23       [17]     	inc		hl
25B5: E5       [28]     	push	hl
25B6: 010000   [38]     	ld		bc, 0
25B9: CD0F25   [55]     	call	l250f
25BC: 201B     [62|67]  	jr		nz, l25d9
                        
25BE:                   l25be:
25BE: CD0F25   [17]     	call	l250f
25C1: 28FB     [24|29]  	jr		z, l25be
25C3: CD3025   [41]     	call	syntax_z
25C6: 2811     [48|53]  	jr		z, l25d9
25C8: F7       [59]     	rst		bc_spaces
25C9: E1       [69]     	pop		hl
25CA: D5       [80]     	push	de
                        
25CB:                   l25cb:
25CB: 7E       [ 7]     	ld		a, (hl)
25CC: 23       [13]     	inc		hl
25CD: 12       [20]     	ld		(de), a
25CE: 13       [26]     	inc		de
25CF: FE22     [33]     	cp		'"'
25D1: 20F8     [40|45]  	jr		nz, l25cb
25D3: 7E       [47]     	ld		a, (hl)
25D4: 23       [53]     	inc		hl
25D5: FE22     [60]     	cp		'"'
25D7: 28F2     [67|72]  	jr		z, l25cb
                        
25D9:                   l25d9:
25D9: 0B       [ 6]     	dec		bc
25DA: D1       [16]     	pop		de
                        
25DB:                   s_string:							; zx81
25DB: 213B5C   [10]     	ld		hl, flags				;
25DE: CBB6     [25]     	res		6, (hl)					;
25E0: CB7E     [37]     	bit		7, (hl)					;
25E2: C4B22A   [47|54]  	call	nz, stk_store			;
25E5: C31227   [57]     	jp		s_cont_2				; was s_cont_3
                        
25E8:                   l25e8:
25E8: E7       [11]     	rst		next_ch
25E9: CDFB24   [28]     	call	scanning
25EC: FE29     [35]     	cp		')'
25EE: C28A1C   [45|45]  	jp		nz, report_c
25F1: E7       [56]     	rst		next_ch
25F2: C31227   [66]     	jp		s_cont_2
                        
25F5:                   l25f5:
25F5: C3BD27   [10]     	jp		l27bd
                        
25F8:                   s_rnd:								; zx81
25F8: CD3025   [17]     	call	syntax_z				;
25FB: 2828     [24|29]  	jr		z, s_rnd_end			;
25FD: ED4B765C [44]     	ld		bc, (seed)				;
2601: CD2F2D   [61]     	call	stack_bc1				;
                        	fwait							;
2604: EF       [72]     	rst	28h
                        	fstk1							;
2605: A1                	defb	0xa1
                        	fadd							;
2606: 0F                	defb	0x0f
                        	fstk							;
2607: 34                	defb	0x34
2608: 3716              	defb	0x37, 0x16				;
                        	fmul							;
260A: 04                	defb	0x04
                        	fstk							;
260B: 34                	defb	0x34
260C: 80410000          	defb	0x80, 0x41, 0x00, 0x00, 0x80
2610: 80                
                        	fmod							;
2611: 32                	defb	0x32
                        	fdel							;
2612: 02                	defb	0x02
                        	fstk1							;
2613: A1                	defb	0xa1
                        	fsub							;
2614: 03                	defb	0x03
                        	fmove							;
2615: 31                	defb	0x31
                        	fce								;
2616: 38                	defb	0x38
2617: CDA22D   [89]     	call	fp_to_bc				;
261A: ED43765C [109]    	ld		(seed), bc				;
261E: 7E       [116]    	ld		a, (hl)					;
261F: A7       [120]    	and		a						;
2620: 2803     [127|132]	jr		z, s_rnd_end			;
2622: D610     [134]    	sub		16						;
2624: 77       [141]    	ld		(hl), a					;
                        									;
2625:                   s_rnd_end:							;
2625: 1809     [12]     	jr		s_pi_end				;
                        									;
2627:                   s_pi:								;
2627: CD3025   [17]     	call	syntax_z				;
262A: 2804     [24|29]  	jr		z, s_pi_end				;
                        	fwait							;
262C: EF       [35]     	rst	28h
                        	fstkpix_5						;
262D: A3                	defb	0xa3
                        	fce								;
262E: 38                	defb	0x38
262F: 34       [46]     	inc		(hl)					;
                        									;
2630:                   s_pi_end:							;
2630: E7       [11]     	rst		next_ch					;
2631: C3C326   [21]     	jp		s_numeric				;
                        
2634:                   iminkeys:
2634: 015A10   [10]     	ld		bc, 0x105a
2637: E7       [21]     	rst		next_ch					; sam
2638: FE23     [28]     	cp		'#'						;
263A: CA0D27   [38|38]  	jp		z, s_push_po
263D: 213B5C   [48]     	ld		hl, flags
2640: CBB6     [63]     	res		6, (hl)
2642: CB7E     [75]     	bit		7, (hl)
2644: 281F     [82|87]  	jr		z, l2665
2646: CD8E02   [99]     	call	keyboard
2649: 0E00     [106]    	ld		c, 0
264B: 2013     [113|118]	jr		nz, l2660
264D: CD1E03   [130]    	call	l031e
2650: 300E     [137|142]	jr		nc, l2660
2652: 5F       [141]    	ld		e, a
2653: 15       [145]    	dec		d
2654: CD3303   [162]    	call	l0333
2657: 010100   [172]    	ld		bc, 1
265A: F5       [183]    	push	af
265B: F7       [194]    	rst		bc_spaces
265C: F1       [204]    	pop		af
265D: 0E01     [211]    	ld		c, 1
265F: 12       [218]    	ld		(de), a
                        
2660:                   l2660:
2660: 0600     [ 7]     	ld		b, 0
2662: CDB22A   [24]     	call	stk_store
                        
2665:                   l2665:
2665: C31227   [10]     	jp		s_cont_2
                        
2668:                   l2668:
2668: CD2225   [17]     	call	l2522
266B: C43525   [27|34]  	call	nz, l2535
266E: E7       [38]     	rst		next_ch
266F: C3DB25   [48]     	jp		s_string
                        
2672:                   l2672:
2672: CD2225   [17]     	call	l2522
2675: C48025   [27|34]  	call	nz, l2580
2678: E7       [38]     	rst		next_ch
2679: 1848     [50]     	jr		s_numeric
                        
267B:                   l267b:
267B: CD2225   [17]     	call	l2522
267E: C4CB22   [27|34]  	call	nz, l22cb
2681: E7       [38]     	rst		next_ch
2682: 183F     [50]     	jr		s_numeric
                        
2684:                   l2684:
2684: CD882C   [17]     	call	alphanum
2687: 3056     [24|29]  	jr		nc, l26df
2689: FE41     [31]     	cp		'A'
268B: 303C     [38|43]  	jr		nc, s_let_num
                        
268D:                   s_decimal:							; zx81
268D: CD3025   [17]     	call	syntax_z				;
2690: 2023     [24|29]  	jr		nz, s_stk_dec			;
2692: CD9B2C   [41]     	call	dec_to_fp				;
                        									;
2695:                   l2695:								;
2695: DF       [11]     	rst		get_ch					;
2696: 010600   [21]     	ld		bc, 6					;
2699: CD5516   [38]     	call	make_room				;
269C: 23       [44]     	inc		hl						;
269D: 360E     [54]     	ld		(hl), ctrl_number		;
269F: 23       [60]     	inc		hl						;
26A0: EB       [64]     	ex		de, hl					;
26A1: 2A655C   [80]     	ld		hl, (stkend)			;
26A4: 0E05     [87]     	ld		c, 5					;
26A6: A7       [91]     	and		a						;
26A7: ED42     [106]    	sbc		hl, bc					;
26A9: 22655C   [122]    	ld		(stkend), hl			;
26AC: EDB0     [138|21] 	ldir							;
26AE: EB       [142]    	ex		de, hl					;
26AF: 2B       [148]    	dec		hl						;
26B0: CD7700   [165]    	call	cursor_so				;
26B3: 180E     [177]    	jr		s_numeric				;
                        
26B5:                   s_stk_dec:
26B5: DF       [11]     	rst		get_ch
                        
26B6:                   l26b6:
26B6: 23       [ 6]     	inc		hl
26B7: 7E       [13]     	ld		a, (hl)
26B8: FE0E     [20]     	cp		ctrl_number				; zx81
26BA: 20FA     [27|32]  	jr		nz, l26b6				;
26BC: 23       [33]     	inc		hl						;
26BD: CDB833   [50]     	call	l33b8					;
26C0: 225D5C   [66]     	ld		(chadd), hl
                        
26C3:                   s_numeric:							; zx81
26C3: FDCB01F6 [23]     	set		6, (iy + _flags)		;
26C7: 1814     [35]     	jr		l26dd					;
                        									;
26C9:                   s_let_num:							;
26C9: CDB228   [17]     	call	look_vars				;
26CC: DA2E1C   [27|27]  	jp		c, report_2				;
26CF: CC9629   [37|44]  	call	z, stk_var				;
26D2: 3A3B5C   [50]     	ld		a, (flags)				;
26D5: FEC0     [57]     	cp		%11000000				;
26D7: 3804     [64|69]  	jr		c, l26dd				; was s_cont_2
26D9: 23       [70]     	inc		hl						;
26DA: CDB833   [87]     	call	l33b8
                        
26DD:                   l26dd:
26DD: 1833     [12]     	jr		s_cont_2		
                        
26DF:                   l26df:
26DF: 01DB09   [10]     	ld		bc, 0x09db
26E2: FE2D     [17]     	cp		'-'
26E4: 2827     [24|29]  	jr		z, s_push_po
26E6: 011810   [34]     	ld		bc, 0x1018
26E9: FEAE     [41]     	cp		tk_val_str
26EB: 2820     [48|53]  	jr		z, s_push_po
26ED: D6AF     [55]     	sub		tk_code
26EF: DA8A1C   [65|65]  	jp		c, report_c
26F2: 01F004   [75]     	ld		bc, 0x04f0
26F5: FE14     [82]     	cp		20
26F7: 2814     [89|94]  	jr		z, s_push_po
26F9: D28A1C   [99|99]  	jp		nc, report_c
26FC: C6DC     [106]    	add		a, 220
26FE: 4F       [110]    	ld		c, a
26FF: 0610     [117]    	ld		b, 16
2701: FEDF     [124]    	cp		223
2703: 3002     [131|136]	jr		nc, s_no_to_s
2705: CBB1     [139]    	res		6, c
                        
2707:                   s_no_to_s:							; zx81
2707: FEEE     [ 7]     	cp		238						;
2709: 3802     [14|19]  	jr		c, s_push_po			;
270B: CBB9     [22]     	res		7, c					;
                        									;
270D:                   s_push_po:							;
270D: C5       [11]     	push	bc						;
270E: E7       [22]     	rst		next_ch					;
270F: C3FF24   [32]     	jp		l24ff
                        
2712:                   s_cont_2:							; zx81
2712: DF       [11]     	rst		get_ch					;
                        									;
2713:                   s_cont_3:							;
2713: FE28     [ 7]     	cp		'('						;
2715: 200C     [14|19]  	jr		nz, s_opertr 			;
2717: FDCB0176 [34]     	bit		6, (iy + _flags)		;
271B: 2017     [41|46]  	jr		nz, s_loop				;
271D: CD522A   [58]     	call	slicing					;
2720: E7       [69]     	rst		next_ch					;
2721: 18F0     [81]     	jr		s_cont_3				;
                        
2723:                   s_opertr:
2723: 219527   [10]     	ld		hl, l2795
2726: 0600     [17]     	ld		b, 0
2728: 4F       [21]     	ld		c, a
2729: CDDC16   [38]     	call	l16dc
272C: 3006     [45|50]  	jr		nc, s_loop
272E: 4E       [52]     	ld		c, (hl)
272F: 21ED26   [62]     	ld		hl, priority - 195		; zx81
2732: 09       [73]     	add		hl, bc					;
2733: 46       [80]     	ld		b, (hl)					;
                        									;
2734:                   s_loop:								;
2734: D1       [10]     	pop		de						;
2735: 7A       [14]     	ld		a, d					;
2736: B8       [18]     	cp		b						;
2737: 383A     [25|30]  	jr		c, s_tighter			;
2739: A7       [29]     	and		a						;
273A: CA1800   [39|39]  	jp		z, _get_ch				;
273D: C5       [50]     	push	bc						;
273E: 213B5C   [60]     	ld		hl, flags
2741: 7B       [64]     	ld		a, e
2742: FEED     [71]     	cp		237
2744: 2006     [78|83]  	jr		nz, l274c
2746: CB76     [90]     	bit		6, (hl)
2748: 2002     [97|102] 	jr		nz, l274c
274A: 1E99     [104]    	ld		e, 153
                        
274C:                   l274c:
274C: D5       [11]     	push	de
274D: CD3025   [28]     	call	syntax_z
2750: 2809     [35|40]  	jr		z, s_syntest
2752: 7B       [39]     	ld		a, e
2753: E63F     [46]     	and		%00111111
2755: 47       [50]     	ld		b, a
                        	fwait
2756: EF       [61]     	rst	28h
                        	fsgl
2757: 3B                	defb	0x3b
                        	fce
2758: 38                	defb	0x38
2759: 1809     [73]     	jr		s_runtest
                        
275B:                   s_syntest:							; zx81
275B: 7B       [ 4]     	ld		a, e					;
275C: FDAE01   [23]     	xor		(iy + _flags)			;
275F: E640     [30]     	and		%01000000				;
                        									;
2761:                   s_rprt_c2:							;
2761: C28A1C   [10|10]  	jp		nz, report_c			;
                        									;
2764:                   s_runtest:							;
2764: D1       [10]     	pop		de						;
2765: 213B5C   [20]     	ld		hl, flags				;
2768: CBF6     [35]     	set		6, (hl)					;
276A: CB7B     [43]     	bit		7, e					;
276C: 2002     [50|55]  	jr		nz, s_endloop			;
276E: CBB6     [65]     	res		6, (hl)					;
                        									;
2770:                   s_endloop:							;
2770: C1       [10]     	pop		bc						;
2771: 18C1     [22]     	jr		s_loop					;
                        									;
2773:                   s_tighter:							;
2773: D5       [11]     	push	de						;
2774: 79       [15]     	ld		a, c					;
2775: FDCB0176 [35]     	bit		6, (iy + _flags)		;
2779: 2015     [42|47]  	jr		nz, s_next				;
277B: E63F     [49]     	and		%00111111				;
277D: C608     [56]     	add		a, 8					;
277F: 4F       [60]     	ld		c, a					;
2780: FE10     [67]     	cp		0x10					;
2782: 2004     [74|79]  	jr		nz, s_not_and			;
2784: CBF1     [82]     	set		6, c					;
2786: 1808     [94]     	jr		s_next					;
                        									;
2788:                   s_not_and:							;
2788: 38D7     [ 7|12]  	jr		c, s_rprt_c2			;
278A: FE17     [14]     	cp		0x17					;
278C: 2802     [21|26]  	jr		z, s_next				;
278E: CBF9     [29]     	set		7, c					;
                        									;
2790:                   s_next:								;
2790: C5       [11]     	push	bc						;
2791: E7       [22]     	rst		next_ch					;
2792: C3FF24   [32]     	jp		l24ff
                        
2795:                   l2795:
2795: 2BCF              	defb	'+', 0xcf
2797: 2DC3              	defb	'-', 0xc3
2799: 2AC4              	defb	'*', 0xc4
279B: 2FC5              	defb	'/', 0xc5
279D: 5EC6              	defb	'^', 0xc6
279F: 3DCE              	defb	'=', 0xce
27A1: 3ECC              	defb	'>', 0xcc
27A3: 3CCD              	defb	'<', 0xcd
27A5: C7C9              	defb	tk_l_eql, 0xc9
27A7: C8CA              	defb	tk_gr_eq, 0xca
27A9: C9CB              	defb	tk_neql, 0xcb
27AB: C5C7              	defb	tk_or, 0xc7
27AD: C6C8              	defb	tk_and, 0xc8
27AF: 00                	defb	0
                        
27B0:                   priority:							; zx81
27B0: 0608080A          	defb	0x06, 0x08, 0x08, 0x0a, 0x02, 0x03, 0x05, 0x05
27B4: 02030505          
27B8: 05050505          	defb	0x05, 0x05, 0x05, 0x05, 0x06
27BC: 06                
                        
27BD:                   l27bd:
27BD: CD3025   [17]     	call	syntax_z
27C0: 2035     [24|29]  	jr		nz, l27f7
27C2: E7       [35]     	rst		next_ch
27C3: CD8D2C   [52]     	call	alpha
27C6: D28A1C   [62|62]  	jp		nc, report_c
27C9: E7       [73]     	rst		next_ch
27CA: FE24     [80]     	cp		'$'
27CC: F5       [91]     	push	af
27CD: 2001     [98|103] 	jr		nz, fnsyn
27CF: E7       [109]    	rst		next_ch
                        
27D0:                   fnsyn:								; sam
27D0: FE28     [ 7]     	cp		'('						;
27D2: 2012     [14|19]  	jr		nz, fnsy5				;
27D4: E7       [25]     	rst		next_ch					;
27D5: FE29     [32]     	cp		')'						;
27D7: 2810     [39|44]  	jr		z, fnsy4				;
                        
27D9:                   l27d9:
27D9: CDFB24   [17]     	call	scanning
27DC: DF       [28]     	rst		get_ch
27DD: FE2C     [35]     	cp		','
27DF: 2003     [42|47]  	jr		nz, l27e4
27E1: E7       [53]     	rst		next_ch
27E2: 18F5     [65]     	jr		l27d9
                        
27E4:                   l27e4:
27E4: FE29     [ 7]     	cp		')'
                        
27E6:                   fnsy5:
27E6: C28A1C   [10|10]  	jp		nz, report_c
                        
27E9:                   fnsy4:								; sam
27E9: E7       [11]     	rst		next_ch					;
27EA: 213B5C   [21]     	ld		hl, flags
27ED: CBB6     [36]     	res		6, (hl)
27EF: F1       [46]     	pop		af
27F0: 2802     [53|58]  	jr		z, l27f4
27F2: CBF6     [68]     	set		6, (hl)
                        
27F4:                   l27f4:
27F4: C31227   [10]     	jp		s_cont_2
                        
27F7:                   l27f7:
27F7: E7       [11]     	rst		next_ch
27F8: E6DF     [18]     	and		%11011111
27FA: 47       [22]     	ld		b, a
27FB: E7       [33]     	rst		next_ch
27FC: D624     [40]     	sub		'$'
27FE: 4F       [44]     	ld		c, a
27FF: 2001     [51|56]  	jr		nz, l2802
2801: E7       [62]     	rst		next_ch
                        
2802:                   l2802:
2802: E7       [11]     	rst		next_ch
2803: E5       [22]     	push	hl
2804: 2A535C   [38]     	ld		hl, (prog)
2807: 2B       [44]     	dec		hl
                        
2808:                   l2808:
2808: 11CE00   [10]     	ld		de, 0x00ce
280B: C5       [21]     	push	bc
280C: CD861D   [38]     	call	l1d86
280F: C1       [48]     	pop		bc
2810: 3002     [55|60]  	jr		nc, l2814
2812: CF       [66]     	rst		error_1					; sam
2813: 18                	defb	Undefined_FN			;
                        
2814:                   l2814:
2814: E5       [11]     	push	hl
2815: CDAB28   [28]     	call	l28ab
2818: E6DF     [35]     	and		%11011111
281A: B8       [39]     	cp		b
281B: 2008     [46|51]  	jr		nz, l2825
281D: CDAB28   [63]     	call	l28ab
2820: D624     [70]     	sub		'$'
2822: B9       [74]     	cp		c
2823: 280C     [81|86]  	jr		z, l2831
                        
2825:                   l2825:
2825: E1       [10]     	pop		hl
2826: 2B       [16]     	dec		hl
2827: 110002   [26]     	ld		de, 0x0200
282A: C5       [37]     	push	bc
282B: CD8B19   [54]     	call	skipstats
282E: C1       [64]     	pop		bc
282F: 18D7     [76]     	jr		l2808
                        
2831:                   l2831:
2831: A7       [ 4]     	and		a
2832: CCAB28   [14|21]  	call	z, l28ab
2835: D1       [24]     	pop		de
2836: D1       [34]     	pop		de
2837: ED535D5C [54]     	ld		(chadd), de
283B: CDAB28   [71]     	call	l28ab
283E: E5       [82]     	push	hl
283F: FE29     [89]     	cp		')'
2841: 2842     [96|101] 	jr		z, l2885
                        
2843:                   l2843:
2843: 23       [ 6]     	inc		hl
2844: 7E       [13]     	ld		a, (hl)
2845: FE0E     [20]     	cp		ctrl_number
2847: 1640     [27]     	ld		d, 64
2849: 2807     [34|39]  	jr		z, l2852
284B: 2B       [40]     	dec		hl
284C: CDAB28   [57]     	call	l28ab
284F: 1600     [64]     	ld		d, 0
2851: 23       [70]     	inc		hl
                        
2852:                   l2852:
2852: 23       [ 6]     	inc		hl
2853: E5       [17]     	push	hl
2854: D5       [28]     	push	de
2855: CDA83C   [45]     	call	scanfix					; se
2858: F1       [55]     	pop		af
2859: FDAE01   [74]     	xor		(iy + _flags)
285C: E640     [81]     	and		%01000000
285E: 202B     [88|93]  	jr		nz, parerr
2860: E1       [98]     	pop		hl
2861: EB       [102]    	ex		de, hl
2862: 2A655C   [118]    	ld		hl, (stkend)
2865: 010500   [128]    	ld		bc, 5
2868: ED42     [143]    	sbc		hl, bc
286A: 22655C   [159]    	ld		(stkend), hl
286D: EDB0     [175|21] 	ldir
286F: EB       [179]    	ex		de, hl
2870: 2B       [185]    	dec		hl
2871: CDAB28   [202]    	call	l28ab
2874: FE29     [209]    	cp		')'
2876: 280D     [216|221]	jr		z, l2885
2878: E5       [227]    	push	hl
2879: DF       [238]    	rst		get_ch
287A: FE2C     [245]    	cp		','
287C: 200D     [252|257]	jr		nz, parerr
287E: E7       [263]    	rst		next_ch
287F: E1       [273]    	pop		hl
2880: CDAB28   [290]    	call	l28ab
2883: 18BE     [302]    	jr		l2843
                        
2885:                   l2885:
2885: E5       [11]     	push	hl
2886: DF       [22]     	rst		get_ch
2887: FE29     [29]     	cp		')'
2889: 2802     [36|41]  	jr		z, l288d
                        
288B:                   parerr:								; sam
288B: CF       [11]     	rst		error_1					;
288C: 19                	defb	Parameter_error			;
                        
288D:                   l288d:
288D: D1       [10]     	pop		de
288E: EB       [14]     	ex		de, hl
288F: 225D5C   [30]     	ld		(chadd), hl
2892: 2A0B5C   [46]     	ld		hl, (defadd)
2895: E3       [65]     	ex		(sp), hl
2896: 220B5C   [81]     	ld		(defadd), hl
2899: D5       [92]     	push	de
289A: E7       [103]    	rst		next_ch
289B: E7       [114]    	rst		next_ch
289C: CDFB24   [131]    	call	scanning
289F: E1       [141]    	pop		hl
28A0: 225D5C   [157]    	ld		(chadd), hl
28A3: E1       [167]    	pop		hl
28A4: 220B5C   [183]    	ld		(defadd), hl
28A7: E7       [194]    	rst		next_ch
28A8: C31227   [204]    	jp		s_cont_2
                        
28AB:                   l28ab:
28AB: 23       [ 6]     	inc		hl
28AC: 7E       [13]     	ld		a, (hl)
28AD: FE21     [20]     	cp		' ' + 1
28AF: 38FA     [27|32]  	jr		c, l28ab
28B1: C9       [37]     	ret
                        
28B2:                   look_vars:							; zx81
28B2: FDCB01F6 [23]     	set		6, (iy + _flags)		;
28B6: DF       [34]     	rst		get_ch					;
28B7: CD8D2C   [51]     	call	alpha					;
28BA: D28A1C   [61|61]  	jp		nc, report_c			;
28BD: E5       [72]     	push	hl						;
28BE: E61F     [79]     	and		%00011111
28C0: 4F       [83]     	ld		c, a					; zx81
28C1: E7       [94]     	rst		next_ch					;
28C2: E5       [105]    	push	hl						;
28C3: FE28     [112]    	cp		'('						;
28C5: 2828     [119|124]	jr		z, v_run_syn			;
28C7: CBF1     [127]    	set		6, c					;
28C9: FE24     [134]    	cp		'$'						;
28CB: 2811     [141|146]	jr		z, v_str_var			;
28CD: CBE9     [149]    	set		5, c					;
28CF: CD882C   [166]    	call	alphanum				;
28D2: 300F     [173|178]	jr		nc, l28e3
                        
28D4:                   v_char:								; zx81
28D4: CD882C   [17]     	call	alphanum				;
28D7: 3016     [24|29]  	jr		nc, v_run_syn			;
28D9: CBB1     [32]     	res		6, c					;
28DB: E7       [43]     	rst		next_ch					;
28DC: 18F6     [55]     	jr		v_char					;
                        									;
28DE:                   v_str_var:							;
28DE: E7       [11]     	rst		next_ch					;
28DF: FDCB01B6 [34]     	res		6, (iy + _flags)		;
                        
28E3:                   l28e3:
28E3: 3A0C5C   [13]     	ld		a, (defadd_h)
28E6: A7       [17]     	and		a
28E7: 2806     [24|29]  	jr		z, v_run_syn
28E9: CD3025   [41]     	call	syntax_z
28EC: C25129   [51|51]  	jp		nz, l2951
                        
28EF:                   v_run_syn:							; zx81
28EF: 41       [ 4]     	ld		b, c					;
28F0: CD3025   [21]     	call	syntax_z				;
28F3: 2008     [28|33]  	jr		nz, v_run				;
28F5: 79       [32]     	ld		a, c					;
28F6: E6E0     [39]     	and		%11100000				;
28F8: F680     [46]     	or		%10000000				;
28FA: 4F       [50]     	ld		c, a					;
28FB: 1837     [62]     	jr		v_syntax				;
                        									;
28FD:                   v_run:								;
28FD: 2A4B5C   [16]     	ld		hl, (vars)				;
                        									;
2900:                   v_each:								;
2900: 7E       [ 7]     	ld		a, (hl)					;
2901: E67F     [14]     	and		%01111111				;
2903: 282D     [21|26]  	jr		z, v_80_byte			;
2905: B9       [25]     	cp		c						;
2906: 2022     [32|37]  	jr		nz, v_next				;
2908: 17       [36]     	rla								;
2909: 87       [40]     	add		a, a					;
290A: F23F29   [50|50]  	jp		p, v_found_2			;
290D: 3830     [57|62]  	jr		c, v_found_2			;
290F: D1       [67]     	pop		de						;
2910: D5       [78]     	push	de						;
2911: E5       [89]     	push	hl						;
                        									;
2912:                   v_matches:							;
2912: 23       [ 6]     	inc		hl						;
                        									;
2913:                   v_spaces:							;
2913: 1A       [ 7]     	ld		a, (de)					;
2914: 13       [13]     	inc		de						;
2915: FE20     [20]     	cp		' '						;
2917: 28FA     [27|32]  	jr		z, v_spaces				;
2919: F620     [34]     	or		%00100000				;
291B: BE       [41]     	cp		(hl)					;
291C: 28F4     [48|53]  	jr		z, v_matches			;
291E: F680     [55]     	or		%10000000				;
2920: BE       [62]     	cp		(hl)					;
2921: 2006     [69|74]  	jr		nz, v_get_ptr			;
2923: 1A       [76]     	ld		a, (de)					;
2924: CD882C   [93]     	call	alphanum				;
2927: 3015     [100|105]	jr		nc, v_found_1			;
                        									;
2929:                   v_get_ptr:							;
2929: E1       [10]     	pop		hl						;
                        									;
292A:                   v_next:								;
292A: C5       [11]     	push	bc						;
292B: CDB819   [28]     	call	next_one				;
292E: EB       [32]     	ex		de, hl					;
292F: C1       [42]     	pop		bc						;
2930: 18CE     [54]     	jr		v_each					;
                        									;
2932:                   v_80_byte:							;
2932: CBF8     [ 8]     	set		7, b					;
                        									;
2934:                   v_syntax:							;
2934: D1       [10]     	pop		de						;
2935: DF       [21]     	rst		get_ch					;
2936: FE28     [28]     	cp		'('						;
2938: 2809     [35|40]  	jr		z, v_pass				;
293A: CBE8     [43]     	set		5, b					;
293C: 180D     [55]     	jr		v_end					;
                        									;
293E:                   v_found_1:							;
293E: D1       [10]     	pop		de						;
                        									;
293F:                   v_found_2:							;
293F: D1       [10]     	pop		de						;
2940: D1       [20]     	pop		de						;
2941: E5       [31]     	push	hl						;
2942: DF       [42]     	rst		get_ch					;
                        									;
2943:                   v_pass:								;
2943: CD882C   [17]     	call	alphanum				;
2946: 3003     [24|29]  	jr		nc, v_end				;
2948: E7       [35]     	rst		next_ch					;
2949: 18F8     [47]     	jr		v_pass					;
                        									;
294B:                   v_end:								;
294B: E1       [10]     	pop		hl						;
294C: CB10     [18]     	rl		b						;
294E: CB70     [26]     	bit		6, b					;
2950: C9       [36]     	ret								;
                        
2951:                   l2951:
2951: 2A0B5C   [16]     	ld		hl, (defadd)
2954: 7E       [23]     	ld		a, (hl)
2955: FE29     [30]     	cp		')'
2957: CAEF28   [40|40]  	jp		z, v_run_syn
                        
295A:                   l295a:
295A: 7E       [ 7]     	ld		a, (hl)
295B: F660     [14]     	or		%01100000
295D: 23       [20]     	inc		hl
295E: 47       [24]     	ld		b, a
295F: 7E       [31]     	ld		a, (hl)
2960: FE0E     [38]     	cp		ctrl_number
2962: 2807     [45|50]  	jr		z, l296b
2964: 2B       [51]     	dec		hl
2965: CDAB28   [68]     	call	l28ab
2968: CBA8     [76]     	res		5, b
296A: 23       [82]     	inc		hl
                        
296B:                   l296b:
296B: 78       [ 4]     	ld		a, b
296C: B9       [ 8]     	cp		c
296D: 2812     [15|20]  	jr		z, l2981
296F: 23       [21]     	inc		hl
2970: 23       [27]     	inc		hl
2971: 23       [33]     	inc		hl
2972: 23       [39]     	inc		hl
2973: 23       [45]     	inc		hl
2974: CDAB28   [62]     	call	l28ab
2977: FE29     [69]     	cp		')'
2979: CAEF28   [79|79]  	jp		z, v_run_syn
297C: CDAB28   [96]     	call	l28ab
297F: 18D9     [108]    	jr		l295a
                        
2981:                   l2981:
2981: CB69     [ 8]     	bit		5, c
2983: 200C     [15|20]  	jr		nz, l2991
2985: 23       [21]     	inc		hl
2986: ED5B655C [41]     	ld		de, (stkend)
298A: CDC433   [58]     	call	x80_fmove
298D: EB       [62]     	ex		de, hl
298E: 22655C   [78]     	ld		(stkend), hl
                        
2991:                   l2991:
2991: D1       [10]     	pop		de
2992: D1       [20]     	pop		de
2993: AF       [24]     	xor		a
2994: 3C       [28]     	inc		a
2995: C9       [38]     	ret
                        
2996:                   stk_var:							; zx81
2996: AF       [ 4]     	xor		a						;
2997: 47       [ 8]     	ld		b, a					;
2998: CB79     [16]     	bit		7, c					;
299A: 204B     [23|28]  	jr		nz, sv_count			;
299C: CB7E     [35]     	bit		7, (hl)					;
299E: 200E     [42|47]  	jr		nz, sv_arrays			;
29A0: 3C       [46]     	inc		a						;
                        									;
29A1:                   sv_smples:							;
29A1: 23       [ 6]     	inc		hl						;
29A2: 4E       [13]     	ld		c, (hl)					;
29A3: 23       [19]     	inc		hl						;
29A4: 46       [26]     	ld		b, (hl)					;
29A5: 23       [32]     	inc		hl						;
29A6: EB       [36]     	ex		de, hl					;
29A7: CDB22A   [53]     	call	stk_store				;
29AA: DF       [64]     	rst		get_ch					;
29AB: C3492A   [74]     	jp		sv_sliceq				;
                        									;
29AE:                   sv_arrays:							;
29AE: 23       [ 6]     	inc		hl						;
29AF: 23       [12]     	inc		hl						;
29B0: 23       [18]     	inc		hl						;
29B1: 46       [25]     	ld		b, (hl)					;
29B2: CB71     [33]     	bit		6, c					;
29B4: 280A     [40|45]  	jr		z, sv_ptr				;
29B6: 05       [44]     	dec		b						;
29B7: 28E8     [51|56]  	jr		z, sv_smples			;
29B9: EB       [55]     	ex		de, hl					;
29BA: DF       [66]     	rst		get_ch					;
29BB: FE28     [73]     	cp		'('						;
29BD: 2061     [80|85]  	jr		nz, report_3			;
29BF: EB       [84]     	ex		de, hl					;
                        									;
29C0:                   sv_ptr:								;
29C0: EB       [ 4]     	ex		de, hl					;
29C1: 1824     [16]     	jr		sv_count				;
                        									;
29C3:                   sv_comma:							;
29C3: E5       [11]     	push	hl						;
29C4: DF       [22]     	rst		get_ch					;
29C5: E1       [32]     	pop		hl						;
29C6: FE2C     [39]     	cp		','						;
29C8: 2820     [46|51]  	jr		z, sv_loop				;
29CA: CB79     [54]     	bit		7, c					;
29CC: 2852     [61|66]  	jr		z, report_3				;
29CE: CB71     [69]     	bit		6, c					;
29D0: 2006     [76|81]  	jr		nz, sv_close			;
29D2: FE29     [83]     	cp		')'						;
29D4: 203C     [90|95]  	jr		nz, sv_rpt_c			;
29D6: E7       [101]    	rst		next_ch					;
29D7: C9       [111]    	ret								;
                        									;
29D8:                   sv_close:							;
29D8: FE29     [ 7]     	cp		')'						;
29DA: 286C     [14|19]  	jr		z, sv_dim				;
29DC: FECC     [21]     	cp		tk_to					;
29DE: 2032     [28|33]  	jr		nz, sv_rpt_c			;
                        									;
29E0:                   sv_chadd:							;
29E0: DF       [11]     	rst		get_ch					;
29E1: 2B       [17]     	dec		hl						;
29E2: 225D5C   [33]     	ld		(chadd), hl				;
29E5: 185E     [45]     	jr		sv_slice				;
                        									;
29E7:                   sv_count:							;
29E7: 210000   [10]     	ld		hl, 0					;
                        									;
29EA:                   sv_loop:							;
29EA: E5       [11]     	push	hl						;
29EB: E7       [22]     	rst		next_ch					;
29EC: E1       [32]     	pop		hl 						;
29ED: 79       [36]     	ld		a, c					;
29EE: FEC0     [43]     	cp		%11000000				;
29F0: 2009     [50|55]  	jr		nz, sv_mult				;
29F2: DF       [61]     	rst		get_ch					;
29F3: FE29     [68]     	cp		')'						;
29F5: 2851     [75|80]  	jr		z, sv_dim				;
29F7: FECC     [82]     	cp		tk_to					;
29F9: 28E5     [89|94]  	jr		z, sv_chadd				;
                        									;
29FB:                   sv_mult:							;
29FB: C5       [11]     	push	bc						;
29FC: E5       [22]     	push	hl						;
29FD: CDEE2A   [39]     	call	de_de_1					;
2A00: E3       [58]     	ex		(sp), hl				;
2A01: EB       [62]     	ex		de, hl					;
2A02: CDCC2A   [79]     	call	int_exp1				;
2A05: 3819     [86|91]  	jr		c, report_3				;
2A07: 0B       [92]     	dec		bc						;
2A08: CDF42A   [109]    	call	hl_hl_de				;
2A0B: 09       [120]    	add		hl, bc					;
2A0C: D1       [130]    	pop		de						;
2A0D: C1       [140]    	pop		bc						;
2A0E: 10B3     [148|153]	djnz	sv_comma				;
2A10: CB79     [156]    	bit		7, c					;
                        									;
2A12:                   sv_rpt_c:							;
2A12: 2066     [ 7|12]  	jr		nz, sl_rpt_c			;
2A14: E5       [18]     	push	hl						;
2A15: CB71     [26]     	bit		6, c					;
2A17: 2013     [33|38]  	jr		nz, sv_elems			;
2A19: 42       [37]     	ld		b, d					;
2A1A: 4B       [41]     	ld		c, e					;
2A1B: DF       [52]     	rst		get_ch					;
2A1C: FE29     [59]     	cp		')'						;
2A1E: 2802     [66|71]  	jr		z, sv_number			;
                        									;
2A20:                   report_3:							;
2A20: CF       [11]     	rst		error_1					;
2A21: 02                	defb	Bad_subscript			;
                        									;
2A22:                   sv_number:							;
2A22: E7       [11]     	rst		next_ch					;
2A23: E1       [21]     	pop		hl						;
2A24: 110500   [31]     	ld		de, 5					;
2A27: CDF42A   [48]     	call	hl_hl_de				;
2A2A: 09       [59]     	add		hl, bc					;
2A2B: C9       [69]     	ret								;
                        									;
2A2C:                   sv_elems:							;
2A2C: CDEE2A   [17]     	call	de_de_1					;
2A2F: E3       [36]     	ex		(sp), hl				;
2A30: CDF42A   [53]     	call	hl_hl_de				;
2A33: C1       [63]     	pop		bc						;
2A34: 09       [74]     	add		hl, bc					;
2A35: 23       [80]     	inc		hl						;
2A36: 42       [84]     	ld		b, d					;
2A37: 4B       [88]     	ld		c, e					;
2A38: EB       [92]     	ex		de, hl					;
2A39: CDB12A   [109]    	call	stk_st_0				;
2A3C: DF       [120]    	rst		get_ch					;
2A3D: FE29     [127]    	cp		')'						;
2A3F: 2807     [134|139]	jr		z, sv_dim				;
2A41: FE2C     [141]    	cp		','						;
2A43: 20DB     [148|153]	jr		nz, report_3			;
                        									;
2A45:                   sv_slice:							;
2A45: CD522A   [17]     	call	slicing					;
                        									;
2A48:                   sv_dim:								;
2A48: E7       [11]     	rst		next_ch					;
                        									;
2A49:                   sv_sliceq:							;
2A49: FE28     [ 7]     	cp		'('						;
2A4B: 28F8     [14|19]  	jr		z, sv_slice				;
2A4D: FDCB01B6 [37]     	res		6, (iy + _flags)		;
2A51: C9       [47]     	ret								;
                        									;
2A52:                   slicing:							;
2A52: CD3025   [17]     	call	syntax_z				;
2A55: C4F12B   [27|34]  	call	nz, stk_fetch			;
2A58: E7       [38]     	rst		next_ch					;
2A59: FE29     [45]     	cp		')'						;
2A5B: 2850     [52|57]  	jr		z, sl_store				;
2A5D: D5       [63]     	push	de						;
2A5E: AF       [67]     	xor		a						;
2A5F: F5       [78]     	push	af						;
2A60: C5       [89]     	push	bc						;
2A61: 110100   [99]     	ld		de, 1					;
2A64: DF       [110]    	rst		get_ch					;
2A65: E1       [120]    	pop		hl						;
2A66: FECC     [127]    	cp		tk_to					;
2A68: 2817     [134|139]	jr		z, sl_second			;
2A6A: F1       [144]    	pop		af						;
2A6B: CDCD2A   [161]    	call	int_exp2				;
2A6E: F5       [172]    	push	af						;
2A6F: 50       [176]    	ld		d, b					;
2A70: 59       [180]    	ld		e, c					;
2A71: E5       [191]    	push	hl						;
2A72: DF       [202]    	rst		get_ch					;
2A73: E1       [212]    	pop		hl						;
2A74: FECC     [219]    	cp		tk_to					;
2A76: 2809     [226|231]	jr		z, sl_second			;
2A78: FE29     [233]    	cp		')'						;
                        									;
2A7A:                   sl_rpt_c:							;
2A7A: C28A1C   [10|10]  	jp		nz, report_c			;
2A7D: 62       [14]     	ld		h, d					;
2A7E: 6B       [18]     	ld		l, e					;
2A7F: 1813     [30]     	jr		sl_define				;
                        									;
2A81:                   sl_second:							;
2A81: E5       [11]     	push	hl						;
2A82: E7       [22]     	rst		next_ch					;
2A83: E1       [32]     	pop		hl						;
2A84: FE29     [39]     	cp		')'						;
2A86: 280C     [46|51]  	jr		z, sl_define			;
2A88: F1       [56]     	pop		af						;
2A89: CDCD2A   [73]     	call	int_exp2				;
2A8C: F5       [84]     	push	af						;
2A8D: DF       [95]     	rst		get_ch					;
2A8E: 60       [99]     	ld		h, b					;
2A8F: 69       [103]    	ld		l, c					;
2A90: FE29     [110]    	cp		')'						;
2A92: 20E6     [117|122]	jr		nz, sl_rpt_c			;
                        									;
2A94:                   sl_define:							;
2A94: F1       [10]     	pop		af						;
2A95: E3       [29]     	ex		(sp), hl				;
2A96: 19       [40]     	add		hl, de					;
2A97: 2B       [46]     	dec		hl						;
2A98: E3       [65]     	ex		(sp), hl				;
2A99: A7       [69]     	and		a						;
2A9A: ED52     [84]     	sbc		hl, de					;
2A9C: 010000   [94]     	ld		bc, 0					;
2A9F: 3807     [101|106]	jr		c, sl_over				;
2AA1: 23       [107]    	inc		hl						;
2AA2: A7       [111]    	and		a						;
2AA3: FA202A   [121|121]	jp		m, report_3				;
2AA6: 44       [125]    	ld		b, h					;
2AA7: 4D       [129]    	ld		c, l					;
                        									;
2AA8:                   sl_over:							;
2AA8: D1       [10]     	pop		de						;
2AA9: FDCB01B6 [33]     	res		6, (iy + _flags)		;
                        									;
2AAD:                   sl_store:							;
2AAD: CD3025   [17]     	call	syntax_z				;
2AB0: C8       [22|28]  	ret		z						;
                        									;
2AB1:                   stk_st_0:							;
2AB1: AF       [ 4]     	xor		a						;
                        									;
2AB2:                   stk_store:							;
2AB2: FDCB01B6 [23]     	res		6, (iy + _flags)		;
                        									;
2AB6:                   l2ab6:								;
2AB6: C5       [11]     	push	bc						;
2AB7: CDAD33   [28]     	call	test_5_sp				;
2ABA: C1       [38]     	pop		bc						;
2ABB: 2A655C   [54]     	ld		hl, (stkend)			;
2ABE: 77       [61]     	ld		(hl), a					;
2ABF: 23       [67]     	inc		hl						;
2AC0: 73       [74]     	ld		(hl), e					;
2AC1: 23       [80]     	inc		hl						;
2AC2: 72       [87]     	ld		(hl), d					;
2AC3: 23       [93]     	inc		hl						;
2AC4: 71       [100]    	ld		(hl), c					;
2AC5: 23       [106]    	inc		hl						;
2AC6: 70       [113]    	ld		(hl), b					;
2AC7: 23       [119]    	inc		hl						;
2AC8: 22655C   [135]    	ld		(stkend), hl			;
2ACB: C9       [145]    	ret								;
                        									;
2ACC:                   int_exp1:							;
2ACC: AF       [ 4]     	xor		a						;
                        									;
2ACD:                   int_exp2:							;
2ACD: D5       [11]     	push	de						;
2ACE: E5       [22]     	push	hl						;
2ACF: F5       [33]     	push	af						;
2AD0: CD821C   [50]     	call	class_6					;
2AD3: F1       [60]     	pop		af						;
2AD4: CD3025   [77]     	call	syntax_z				;
2AD7: 2812     [84|89]  	jr		z, i_restore			;
2AD9: F5       [95]     	push	af						;
2ADA: CD991E   [112]    	call	find_int				;
2ADD: D1       [122]    	pop		de						;
2ADE: 78       [126]    	ld		a, b					;
2ADF: B1       [130]    	or		c						;
2AE0: 37       [134]    	scf								;
2AE1: 2805     [141|146]	jr		z, i_carry				;
2AE3: E1       [151]    	pop		hl						;
2AE4: E5       [162]    	push	hl						;
2AE5: A7       [166]    	and		a						;
2AE6: ED42     [181]    	sbc		hl, bc					;
                        									;
2AE8:                   i_carry:							;
2AE8: 7A       [ 4]     	ld		a, d					;
2AE9: DE00     [11]     	sbc		a, 0					;
                        									;
2AEB:                   i_restore:							;
2AEB: E1       [10]     	pop		hl						;
2AEC: D1       [20]     	pop		de						;
2AED: C9       [30]     	ret								;
                        									;
2AEE:                   de_de_1:							;
2AEE: EB       [ 4]     	ex		de, hl					;
2AEF: 23       [10]     	inc		hl						;
2AF0: 5E       [17]     	ld		e, (hl)					;
2AF1: 23       [23]     	inc		hl						;
2AF2: 56       [30]     	ld		d, (hl)					;
2AF3: C9       [40]     	ret								;
                        									;
2AF4:                   hl_hl_de:							;
2AF4: CD3025   [17]     	call	syntax_z				;
2AF7: C8       [22|28]  	ret		z						;
2AF8: CDA930   [39]     	call	l30a9					;
2AFB: DA151F   [49|49]  	jp		c, report_4				;
2AFE: C9       [59]     	ret								;
                        									;
2AFF:                   let:								;
2AFF: 2A4D5C   [16]     	ld		hl, (dest)				;
2B02: FDCB374E [36]     	bit		1, (iy + _flage)		;
2B06: 285E     [43|48]  	jr		z, l_exists				;
2B08: 010500   [53]     	ld		bc, 5					;
                        									;
2B0B:                   l_each_ch:							;
2B0B: 03       [ 6]     	inc		bc						;
                        									;
2B0C:                   l_no_sp:							;
2B0C: 23       [ 6]     	inc		hl						;
2B0D: 7E       [13]     	ld		a, (hl)					;
2B0E: FE20     [20]     	cp		' '
2B10: 28FA     [27|32]  	jr		z, l_no_sp
2B12: 300B     [34|39]  	jr		nc, l2b1f
2B14: FE10     [41]     	cp		16
2B16: 3811     [48|53]  	jr		c, l2b29
2B18: FE16     [55]     	cp		22
2B1A: 300D     [62|67]  	jr		nc, l2b29
2B1C: 23       [68]     	inc		hl
2B1D: 18ED     [80]     	jr		l_no_sp
                        
2B1F:                   l2b1f:
2B1F: CD882C   [17]     	call	alphanum				; zx81
2B22: 38E7     [24|29]  	jr		c, l_each_ch			;
2B24: FE24     [31]     	cp		'$'						;
2B26: CAC02B   [41|41]  	jp		z, l_news				;
                        
2B29:                   l2b29:
2B29: 79       [ 4]     	ld		a, c
2B2A: 2A595C   [20]     	ld		hl, (eline)
2B2D: 2B       [26]     	dec		hl
2B2E: CD5516   [43]     	call	make_room
2B31: EB       [47]     	ex		de, hl
2B32: 13       [53]     	inc		de
2B33: 13       [59]     	inc		de
2B34: D5       [70]     	push	de						; zx81
2B35: 2A4D5C   [86]     	ld		hl, (dest)				;
2B38: 1B       [92]     	dec		de						;
2B39: D606     [99]     	sub		6						;
2B3B: 47       [103]    	ld		b, a					;
2B3C: 2811     [110|115]	jr		z, l_single				;
                        									;
2B3E:                   l_char:								;
2B3E: 23       [ 6]     	inc		hl						;
2B3F: 7E       [13]     	ld		a, (hl)					;
2B40: FE21     [20]     	cp		' ' + 1
2B42: 38FA     [27|32]  	jr		c, l_char
2B44: 13       [33]     	inc		de
2B45: F620     [40]     	or		%00100000
2B47: 12       [47]     	ld		(de), a					; zx81
2B48: 10F4     [55|60]  	djnz	l_char					;
2B4A: F680     [62]     	or		%10000000				;
2B4C: 12       [69]     	ld		(de), a					;
2B4D: 3EC0     [76]     	ld		a, %11000000			;
                        									;
2B4F:                   l_single:							;
2B4F: 2A4D5C   [16]     	ld		hl, (dest)				;
2B52: AE       [23]     	xor		(hl)					;
2B53: F620     [30]     	or		%00100000
2B55: E1       [40]     	pop		hl
2B56: CDEA2B   [57]     	call	l2bea
                        
2B59:                   l_numeric:							; zx81						
2B59: E5       [11]     	push	hl						;
                        	fwait							;
2B5A: EF       [22]     	rst	28h
                        	fdel							;
2B5B: 02                	defb	0x02
                        	fce								;
2B5C: 38                	defb	0x38
2B5D: E1       [32]     	pop		hl						;
2B5E: 010500   [42]     	ld		bc, 5					;
2B61: A7       [46]     	and		a						;
2B62: ED42     [61]     	sbc		hl, bc					;
2B64: 1840     [73]     	jr		l_enter					;
                        									;
2B66:                   l_exists:							;
2B66: FDCB0176 [20]     	bit		6, (iy + _flags)		;
2B6A: 2806     [27|32]  	jr		z, l_deletes			;
2B6C: 110600   [37]     	ld		de, 6					;
2B6F: 19       [48]     	add		hl, de					;
2B70: 18E7     [60]     	jr		l_numeric				;
                        									;
2B72:                   l_deletes:							;
2B72: 2A4D5C   [16]     	ld		hl, (dest)				;
2B75: ED4B725C [36]     	ld		bc, (stril)				;
2B79: FDCB3746 [56]     	bit		0, (iy + _flage)		;
2B7D: 2030     [63|68]  	jr		nz, l_adds				;
2B7F: 78       [67]     	ld		a, b					;
2B80: B1       [71]     	or		c						;
2B81: C8       [76|82]  	ret		z						;
2B82: E5       [87]     	push	hl						;
2B83: F7       [98]     	rst		bc_spaces				;
2B84: D5       [109]    	push	de						;
2B85: C5       [120]    	push	bc						;
2B86: 54       [124]    	ld		d, h					;
2B87: 5D       [128]    	ld		e, l					;
2B88: 23       [134]    	inc		hl						;
2B89: 3620     [144]    	ld		(hl), ' '				;
2B8B: EDB8     [160|21] 	lddr							;
2B8D: E5       [171]    	push	hl						;
2B8E: CDF12B   [188]    	call	stk_fetch				;
2B91: E1       [198]    	pop		hl						;
2B92: E3       [217]    	ex		(sp), hl				;
2B93: A7       [221]    	and		a						;
2B94: ED42     [236]    	sbc		hl, bc					;
2B96: 09       [247]    	add		hl, bc					;
2B97: 3002     [254|259]	jr		nc, l_length			;
2B99: 44       [258]    	ld		b, h					;
2B9A: 4D       [262]    	ld		c, l					;
                        									;
2B9B:                   l_length:							;
2B9B: E3       [19]     	ex		(sp), hl				;
2B9C: EB       [23]     	ex		de, hl					;
2B9D: 78       [27]     	ld		a, b					;
2B9E: B1       [31]     	or		c						;
2B9F: 2802     [38|43]  	jr		z, l_in_w_s				;
2BA1: EDB0     [54|21]  	ldir							;
                        									;
2BA3:                   l_in_w_s:							;
2BA3: C1       [10]     	pop		bc						;
2BA4: D1       [20]     	pop		de						;
2BA5: E1       [30]     	pop		hl						;
                        									;
2BA6:                   l_enter:							;
2BA6: EB       [ 4]     	ex		de, hl					;
2BA7: 78       [ 8]     	ld		a, b					;
2BA8: B1       [12]     	or		c						;
2BA9: C8       [17|23]  	ret		z						;
2BAA: D5       [28]     	push	de						;
2BAB: EDB0     [44|21]  	ldir							;
2BAD: E1       [54]     	pop		hl						;
2BAE: C9       [64]     	ret								;
                        									;
2BAF:                   l_adds:								;
2BAF: 2B       [ 6]     	dec		hl						;
2BB0: 2B       [12]     	dec		hl						;
2BB1: 2B       [18]     	dec		hl						;
2BB2: 7E       [25]     	ld		a, (hl)					;
2BB3: E5       [36]     	push	hl						;
2BB4: C5       [47]     	push	bc						;
2BB5: CDC62B   [64]     	call	l_string				;
2BB8: C1       [74]     	pop		bc						;
2BB9: E1       [84]     	pop		hl						;
2BBA: 03       [90]     	inc		bc						;
2BBB: 03       [96]     	inc		bc						;
2BBC: 03       [102]    	inc		bc						;
2BBD: C3E819   [112]    	jp		reclaim_2				;
                        									;
2BC0:                   l_news:								;
2BC0: 3EDF     [ 7]     	ld		a, %11011111			;
2BC2: 2A4D5C   [23]     	ld		hl, (dest)				;
2BC5: A6       [30]     	and		(hl)					;
                        									;
2BC6:                   l_string:							;
2BC6: F5       [11]     	push	af						;
2BC7: CDF12B   [28]     	call	stk_fetch				;
2BCA: EB       [32]     	ex		de, hl					;
2BCB: 09       [43]     	add		hl, bc					;
2BCC: 2B       [49]     	dec		hl
2BCD: 224D5C   [65]     	ld		(dest), hl
2BD0: C5       [76]     	push	bc
2BD1: 03       [82]     	inc		bc						; zx81
2BD2: 03       [88]     	inc		bc						;
2BD3: 03       [94]     	inc		bc						;
2BD4: 2A595C   [110]    	ld		hl, (eline)
2BD7: 2B       [116]    	dec		hl
2BD8: CD5516   [133]    	call	make_room
2BDB: 2A4D5C   [149]    	ld		hl, (dest)
2BDE: C1       [159]    	pop		bc
2BDF: C5       [170]    	push	bc
2BE0: 03       [176]    	inc		bc
2BE1: EDB8     [192|21] 	lddr							; zx81
2BE3: EB       [196]    	ex		de, hl					;
2BE4: C1       [206]    	pop		bc
2BE5: 23       [212]    	inc		hl
2BE6: 70       [219]    	ld		(hl), b					; zx81
2BE7: 2B       [225]    	dec		hl						;
2BE8: 71       [232]    	ld		(hl), c					;
2BE9: F1       [242]    	pop		af						;
                        
2BEA:                   l2bea:
2BEA: 2B       [ 6]     	dec		hl
2BEB: 77       [13]     	ld		(hl), a
2BEC: 2A595C   [29]     	ld		hl, (eline)
2BEF: 2B       [35]     	dec		hl
2BF0: C9       [45]     	ret
                        
2BF1:                   stk_fetch:							; zx81
2BF1: 2A655C   [16]     	ld		hl, (stkend)			;
2BF4: 2B       [22]     	dec		hl						;
2BF5: 46       [29]     	ld		b, (hl)					;
2BF6: 2B       [35]     	dec		hl						;
2BF7: 4E       [42]     	ld		c, (hl)					;
2BF8: 2B       [48]     	dec		hl						;
2BF9: 56       [55]     	ld		d, (hl)					;
2BFA: 2B       [61]     	dec		hl						;
2BFB: 5E       [68]     	ld		e, (hl)					;
2BFC: 2B       [74]     	dec		hl						;
2BFD: 7E       [81]     	ld		a, (hl)					;
2BFE: 22655C   [97]     	ld		(stkend), hl			;
2C01: C9       [107]    	ret								;
                        									;
2C02:                   dim:								;
2C02: CDB228   [17]     	call	look_vars				;
                        									;
2C05:                   d_rport_c:							;
2C05: C28A1C   [10|10]  	jp		nz, report_c			;
2C08: CD3025   [27]     	call	syntax_z				;
2C0B: 2008     [34|39]  	jr		nz, d_run				;
2C0D: CBB1     [42]     	res		6, c					;
2C0F: CD9629   [59]     	call	stk_var					;
2C12: CDEE1B   [76]     	call	check_end				;
                        									;
2C15:                   d_run:								;
2C15: 3808     [ 7|12]  	jr		c, d_letter				;
2C17: C5       [18]     	push	bc						;
2C18: CDB819   [35]     	call	next_one				;
2C1B: CDE819   [52]     	call	reclaim_2				;
2C1E: C1       [62]     	pop		bc						;
                        									;
2C1F:                   d_letter:							;
2C1F: CBF9     [ 8]     	set		7, c					;
2C21: 0600     [15]     	ld		b, 0					;
2C23: C5       [26]     	push	bc						;
2C24: 210100   [36]     	ld		hl, 1					;
2C27: CB71     [44]     	bit		6, c					;
2C29: 2002     [51|56]  	jr		nz, d_size				;
2C2B: 2E05     [58]     	ld		l, 5					;
                        									;
2C2D:                   d_size:								;
2C2D: EB       [ 4]     	ex		de, hl					;
                        									;
2C2E:                   d_no_loop:							;
2C2E: E7       [11]     	rst		next_ch					;
2C2F: 26FF     [18]     	ld		h, 255					;
2C31: CDCC2A   [35]     	call	int_exp1				;
2C34: DA202A   [45|45]  	jp		c, report_3				;
2C37: E1       [55]     	pop		hl						;
2C38: C5       [66]     	push	bc						;
2C39: 24       [70]     	inc		h						;
2C3A: E5       [81]     	push	hl						;
2C3B: 60       [85]     	ld		h, b					;
2C3C: 69       [89]     	ld		l, c					;
2C3D: CDF42A   [106]    	call	hl_hl_de				;
2C40: EB       [110]    	ex		de, hl					;
2C41: DF       [121]    	rst		get_ch					;
2C42: FE2C     [128]    	cp		','						;
2C44: 28E8     [135|140]	jr		z, d_no_loop			;
2C46: FE29     [142]    	cp		')'						;
2C48: 20BB     [149|154]	jr		nz, d_rport_c			;
2C4A: E7       [160]    	rst		next_ch					;
2C4B: C1       [170]    	pop		bc						;
2C4C: 79       [174]    	ld		a, c					;
2C4D: 68       [178]    	ld		l, b					;
2C4E: 2600     [185]    	ld		h, 0					;
2C50: 23       [191]    	inc		hl						;
2C51: 23       [197]    	inc		hl						;
2C52: 29       [208]    	add		hl, hl					;
2C53: 19       [219]    	add		hl, de					;
2C54: DA151F   [229|229]	jp		c, report_4				;
2C57: D5       [240]    	push	de						;
2C58: C5       [251]    	push	bc						;
2C59: E5       [262]    	push	hl						;
2C5A: 44       [266]    	ld		b, h					;
2C5B: 4D       [270]    	ld		c, l					;
2C5C: 2A595C   [286]    	ld		hl, (eline)				;
2C5F: 2B       [292]    	dec		hl						;
2C60: CD5516   [309]    	call	make_room				;
2C63: 23       [315]    	inc		hl						;
2C64: 77       [322]    	ld		(hl), a					;
2C65: C1       [332]    	pop		bc						;
2C66: 0B       [338]    	dec		bc						;
2C67: 0B       [344]    	dec		bc						;
2C68: 0B       [350]    	dec		bc						;
2C69: 23       [356]    	inc		hl						;
2C6A: 71       [363]    	ld		(hl), c					;
2C6B: 23       [369]    	inc		hl						;
2C6C: 70       [376]    	ld		(hl), b					;
2C6D: C1       [386]    	pop		bc
2C6E: 78       [390]    	ld		a, b
2C6F: 23       [396]    	inc		hl						; zx81
2C70: 77       [403]    	ld		(hl), a 				;
2C71: 62       [407]    	ld		h, d					;
2C72: 6B       [411]    	ld		l, e					;
2C73: 1B       [417]    	dec		de						;
2C74: 3600     [427]    	ld		(hl), 0					;
2C76: CB71     [435]    	bit		6, c
2C78: 2802     [442|447]	jr		z, l2c7c
2C7A: 3620     [452]    	ld		(hl), ' '
                        
2C7C:                   l2c7c:								; zx81
2C7C: C1       [10]     	pop		bc						;
2C7D: EDB8     [26|21]  	lddr							;
                        									;
2C7F:                   dim_sizes:							;
2C7F: C1       [10]     	pop		bc						;
2C80: 70       [17]     	ld		(hl), b					;
2C81: 2B       [23]     	dec		hl						;
2C82: 71       [30]     	ld		(hl), c					;
2C83: 2B       [36]     	dec		hl						;
2C84: 3D       [40]     	dec		a						;
2C85: 20F8     [47|52]  	jr		nz, dim_sizes			;
2C87: C9       [57]     	ret								;
                        
2C88:                   alphanum:
2C88: CD1B2D   [17]     	call	numeric
2C8B: 3F       [21]     	ccf
2C8C: D8       [26|32]  	ret		c
                        
2C8D:                   alpha:								; zx81
2C8D: FE41     [ 7]     	cp		'A'						;
2C8F: 3F       [11]     	ccf								;
2C90: D0       [16|22]  	ret		nc						;
2C91: FE7B     [23]     	cp		'z' + 1					; sam
2C93: D0       [28|34]  	ret		nc						;
2C94: FE5B     [35]     	cp		'Z' + 1					;
2C96: D8       [40|46]  	ret		c						;
2C97: FE61     [47]     	cp		'a'						;
2C99: 3F       [51]     	ccf								;
2C9A: C9       [61]     	ret								;
                        
2C9B:                   dec_to_fp:
2C9B: FEC4     [ 7]     	cp		tk_bin
2C9D: 2019     [14|19]  	jr		nz, l2cb8
2C9F: 110000   [24]     	ld		de, 0
                        
2CA2:                   l2ca2:
2CA2: E7       [11]     	rst		next_ch
2CA3: D631     [18]     	sub		'1'
2CA5: CE00     [25]     	adc		a, 0
2CA7: 200A     [32|37]  	jr		nz, l2cb3
2CA9: EB       [36]     	ex		de, hl
2CAA: 3F       [40]     	ccf
2CAB: ED6A     [55]     	adc		hl, hl
2CAD: DAAD31   [65|65]  	jp		c, report_6
2CB0: EB       [69]     	ex		de, hl
2CB1: 18EF     [81]     	jr		l2ca2
                        
2CB3:                   l2cb3:
2CB3: 4B       [ 4]     	ld		c, e
2CB4: 42       [ 8]     	ld		b, d
2CB5: C32F2D   [18]     	jp		stack_bc1
                        
2CB8:                   l2cb8:								; sam
2CB8: FE2E     [ 7]     	cp		'.'						;
2CBA: 280F     [14|19]  	jr		z, decint				; was nz
2CBC: CD3B2D   [31]     	call	int_to_fp				;
2CBF: FE2E     [38]     	cp		'.'						;
2CC1: 2028     [45|50]  	jr		nz, e_format			;
2CC3: E7       [56]     	rst		next_ch					;
2CC4: CD1B2D   [73]     	call	numeric					;
2CC7: 3822     [80|85]  	jr		c, e_format				; was nc
2CC9: 180A     [92]     	jr		l2cd5
                        
2CCB:                   decint:								; sam
2CCB: E7       [11]     	rst		next_ch					;
2CCC: CD1B2D   [28]     	call	numeric					;
                        
2CCF:                   nonsense:
2CCF: DA8A1C   [10|10]  	jp		c, report_c
                        	fwait
2CD2: EF       [21]     	rst	28h
                        	fstk0
2CD3: A0                	defb	0xa0
                        	fce
2CD4: 38                	defb	0x38
                        
2CD5:                   l2cd5:								; zx81
                        	fwait							;
2CD5: EF       [11]     	rst	28h
                        	fstk1							;
2CD6: A1                	defb	0xa1
                        	fst		0						;
2CD7: C0                	defb	0xc0 + 0						
                        	fdel							;
2CD8: 02                	defb	0x02
                        	fce								;
2CD9: 38                	defb	0x38
                        									;
2CDA:                   nxt_dgt_1:							;
2CDA: DF       [11]     	rst		get_ch					; was next_ch
2CDB: CD222D   [28]     	call	stk_digit				;
2CDE: 380B     [35|40]  	jr		c, e_format				;
                        	fwait							;
2CE0: EF       [46]     	rst	28h
                        	fgt		0						;
2CE1: E0                	defb	0xe0 + 0						
                        	fstk10							;
2CE2: A4                	defb	0xa4
                        	fmul							; was fdiv
2CE3: 04                	defb	0x04
                        	fst		0						;
2CE4: C0                	defb	0xc0 + 0						
                        	fdiv							; was fmul
2CE5: 05                	defb	0x05
                        	fadd							;
2CE6: 0F                	defb	0x0f
                        	fce								;
2CE7: 38                	defb	0x38
2CE8: E7       [57]     	rst		next_ch
2CE9: 18EF     [69]     	jr		nxt_dgt_1
                        
2CEB:                   e_format:							; sam
2CEB: FE45     [ 7]     	cp		'E'						;
2CED: 2803     [14|19]  	jr		z, l2cf2
2CEF: FE65     [21]     	cp		'e'
2CF1: C0       [26|32]  	ret		nz
                        
2CF2:                   l2cf2:
2CF2: 06FF     [ 7]     	ld		b, 255
2CF4: E7       [18]     	rst		next_ch					; zx81
2CF5: FE2B     [25]     	cp		'+'						;
2CF7: 2805     [32|37]  	jr		z, sign_done			;
2CF9: FE2D     [39]     	cp		'-'						;
2CFB: 2002     [46|51]  	jr		nz, st_e_part			;
2CFD: 04       [50]     	inc		b
                        
2CFE:                   sign_done:							; zx81
2CFE: E7       [11]     	rst		next_ch					;
                        
2CFF:                   st_e_part:							; sam
2CFF: CD1B2D   [17]     	call	numeric					;
2D02: 38CB     [24|29]  	jr		c, nonsense				; was nc
2D04: C5       [35]     	push	bc						;
2D05: CD3B2D   [52]     	call	int_to_fp				;
2D08: CDD52D   [69]     	call	fp_to_a					;
2D0B: C1       [79]     	pop		bc
2D0C: DAAD31   [89|89]  	jp		c, report_6
2D0F: A7       [93]     	and		a
2D10: FAAD31   [103|103]	jp		m, report_6
2D13: 04       [107]    	inc		b
2D14: 2802     [114|119]	jr		z, e_fp					; sam
2D16: ED44     [122]    	neg								;
                        									;
2D18:                   e_fp:								;
2D18: 1835     [12]     	jr		e_to_fp					;
2D1A: FF                	defb	0xff					; se
                        									; sam
2D1B:                   numeric:							;
2D1B: FE30     [ 7]     	cp		'0'						; was '9' + 1
2D1D: D8       [12|18]  	ret		c						; was nc
2D1E: FE3A     [19]     	cp		'9' + 1					; was '0'
2D20: 3F       [23]     	ccf								;
2D21: C9       [33]     	ret								;
                        
2D22:                   stk_digit:
2D22: CD1B2D   [17]     	call	numeric
2D25: D8       [22|28]  	ret		c						; zx81
2D26: D630     [29]     	sub		'0'						;
                        									;
2D28:                   stack_a:							;
2D28: 4F       [ 4]     	ld		c, a					;
2D29: 0600     [11]     	ld		b, 0					;
                        									;
2D2B:                   stack_bc:							;
2D2B: FD213A5C [14]     	ld		iy, errnr				;
                        
2D2F:                   stack_bc1:
2D2F: 51       [ 4]     	ld		d, c
2D30: AF       [ 8]     	xor		a
2D31: 5F       [12]     	ld		e, a
2D32: 48       [16]     	ld		c, b
2D33: 43       [20]     	ld		b, e
2D34: CDB62A   [37]     	call	l2ab6
                        	fwait
2D37: EF       [48]     	rst	28h
                        	fce
2D38: 38                	defb	0x38
2D39: A7       [52]     	and		a
2D3A: C9       [62]     	ret
                        
2D3B:                   int_to_fp:							; zx81
2D3B: F5       [11]     	push	af						;
                        	fwait							;
2D3C: EF       [22]     	rst	28h
                        	fstk0							;
2D3D: A0                	defb	0xa0
                        	fce								;
2D3E: 38                	defb	0x38
2D3F: F1       [32]     	pop		af						;
                        									;
2D40:                   nxt_dgt_2:							;
2D40: CD222D   [17]     	call	stk_digit				;
2D43: D8       [22|28]  	ret		c						;
                        	fwait							;
2D44: EF       [33]     	rst	28h
                        	fxch							;
2D45: 01                	defb	0x01
                        	fstk10							;
2D46: A4                	defb	0xa4
                        	fmul							;
2D47: 04                	defb	0x04
                        	fadd							;
2D48: 0F                	defb	0x0f
                        	fce								;
2D49: 38                	defb	0x38
2D4A: CD7400   [50]     	call	ch_add_1				;
2D4D: 18F1     [62]     	jr		nxt_dgt_2				;
                        
2D4F:                   e_to_fp:
2D4F: 07       [ 4]     	rlca
2D50: 0F       [ 8]     	rrca
2D51: 3002     [15|20]  	jr		nc, l2d55
2D53: 2F       [19]     	cpl
2D54: 3C       [23]     	inc		a
                        
2D55:                   l2d55:
2D55: F5       [11]     	push	af
2D56: 21925C   [21]     	ld		hl, membot
2D59: CDE734   [38]     	call	fp_0_1
                        	fwait
2D5C: EF       [49]     	rst	28h
                        	fstk10
2D5D: A4                	defb	0xa4
                        	fce
2D5E: 38                	defb	0x38
2D5F: F1       [59]     	pop		af
                        
2D60:                   l2d60:
2D60: CB3F     [ 8]     	srl		a
2D62: 300D     [15|20]  	jr		nc, l2d71
2D64: F5       [26]     	push	af
                        	fwait
2D65: EF       [37]     	rst	28h
                        	fst		1
2D66: C1                	defb	0xc0 + 1
                        	fgt		0
2D67: E0                	defb	0xe0 + 0
                        	fjpt	l2d6d
2D68: 0005              	defb	0x00, l2d6d - $
                        	fmul
2D6A: 04                	defb	0x04
                        	fjp		l2d6e
2D6B: 3303              	defb	0x33, l2d6e - $
                        
2D6D:                   l2d6d:
                        	fdiv
2D6D: 05                	defb	0x05
                        
2D6E:                   l2d6e:
                        	fgt		1
2D6E: E1                	defb	0xe0 + 1
                        	fce
2D6F: 38                	defb	0x38
2D70: F1       [10]     	pop		af
                        
2D71:                   l2d71:
2D71: 2808     [ 7|12]  	jr		z, l2d7b
2D73: F5       [18]     	push	af
                        	fwait
2D74: EF       [29]     	rst	28h
                        	fmove
2D75: 31                	defb	0x31
                        	fmul
2D76: 04                	defb	0x04
                        	fce
2D77: 38                	defb	0x38
2D78: F1       [39]     	pop		af
2D79: 18E5     [51]     	jr		l2d60
                        
2D7B:                   l2d7b:
                        	fwait
2D7B: EF       [11]     	rst	28h
                        	fdel
2D7C: 02                	defb	0x02
                        	fce
2D7D: 38                	defb	0x38
2D7E: C9       [21]     	ret
                        
2D7F:                   fetchi:								; sam
2D7F: 23       [ 6]     	inc		hl						;
2D80: 4E       [13]     	ld		c, (hl)					;
2D81: 23       [19]     	inc		hl						;
2D82: 7E       [26]     	ld		a, (hl)
2D83: A9       [30]     	xor		c
2D84: 91       [34]     	sub		c
2D85: 5F       [38]     	ld		e, a
2D86: 23       [44]     	inc		hl
2D87: 7E       [51]     	ld		a, (hl)
2D88: 89       [55]     	adc		a, c
2D89: A9       [59]     	xor		c
2D8A: 57       [63]     	ld		d, a
2D8B: C9       [73]     	ret
                        
2D8C:                   l2d8c:								; se
2D8C: 4D42              	defb	"MB"					;
                        
2D8E:                   l2d8e:
2D8E: E5       [11]     	push	hl
2D8F: 23       [17]     	inc		hl
2D90: 71       [24]     	ld		(hl), c
2D91: 23       [30]     	inc		hl
2D92: 7B       [34]     	ld		a, e
2D93: A9       [38]     	xor		c
2D94: 91       [42]     	sub		c
2D95: 77       [49]     	ld		(hl), a
2D96: 23       [55]     	inc		hl
2D97: 7A       [59]     	ld		a, d
2D98: 89       [63]     	adc		a, c
2D99: A9       [67]     	xor		c
2D9A: 77       [74]     	ld		(hl), a
2D9B: 23       [80]     	inc		hl
2D9C: AF       [84]     	xor		a
2D9D: 77       [91]     	ld		(hl), a
2D9E: E1       [101]    	pop		hl
2D9F: 77       [108]    	ld		(hl), a
2DA0: C9       [118]    	ret
2DA1: FF                	defb	255
                        
2DA2:                   fp_to_bc:
                        	fwait
2DA2: EF       [11]     	rst	28h
                        	fce
2DA3: 38                	defb	0x38
2DA4: 7E       [18]     	ld		a, (hl)					; sam
2DA5: A7       [22]     	and		a						;
2DA6: 2805     [29|34]  	jr		z, fpbcint				;
                        	fwait							;
2DA8: EF       [40]     	rst	28h
                        	fstk_5							;
2DA9: A2                	defb	0xa2
                        	fadd							;
2DAA: 0F                	defb	0x0f
                        	fint							;
2DAB: 27                	defb	0x27
                        	fce								;
2DAC: 38                	defb	0x38
                        
2DAD:                   fpbcint:
                        	fwait
2DAD: EF       [11]     	rst	28h
                        	fdel
2DAE: 02                	defb	0x02
                        	fce
2DAF: 38                	defb	0x38
2DB0: D5       [22]     	push	de
2DB1: E5       [33]     	push	hl
2DB2: EB       [37]     	ex		de, hl
2DB3: 46       [44]     	ld		b, (hl)
2DB4: CD7F2D   [61]     	call	fetchi
2DB7: AF       [65]     	xor		a
2DB8: 90       [69]     	sub		b
2DB9: CB79     [77]     	bit		7, c
2DBB: 7B       [81]     	ld		a, e
2DBC: 42       [85]     	ld		b, d
2DBD: 4F       [89]     	ld		c, a
2DBE: E1       [99]     	pop		hl
2DBF: D1       [109]    	pop		de
2DC0: C9       [119]    	ret
                        
2DC1:                   l2dc1:
2DC1: 57       [ 4]     	ld		d, a
2DC2: 17       [ 8]     	rla
2DC3: 9F       [12]     	sbc		a, a
2DC4: 5F       [16]     	ld		e, a
2DC5: 4F       [20]     	ld		c, a
2DC6: AF       [24]     	xor		a
2DC7: 47       [28]     	ld		b, a
2DC8: CDB62A   [45]     	call	l2ab6
                        	fwait
2DCB: EF       [56]     	rst	28h
                        	fstk
2DCC: 34                	defb	0x34
2DCD: EF1A209A          	defb	0xef, 0x1a, 0x20, 0x9a, 0x85
2DD1: 85                
                        	fmul
2DD2: 04                	defb	0x04
                        	fint
2DD3: 27                	defb	0x27
                        	fce
2DD4: 38                	defb	0x38
                        
2DD5:                   fp_to_a:							; zx81
2DD5: CDA22D   [17]     	call	fp_to_bc				;
2DD8: D8       [22|28]  	ret		c						;
2DD9: F5       [33]     	push	af						;
2DDA: 05       [37]     	dec		b						;
2DDB: 04       [41]     	inc		b						;
2DDC: 2803     [48|53]  	jr		z, fp_a_end				;
2DDE: F1       [58]     	pop		af						;
2DDF: 37       [62]     	scf								;
2DE0: C9       [72]     	ret								;
                        									;
2DE1:                   fp_a_end:							;
2DE1: F1       [10]     	pop		af						;
2DE2: C9       [20]     	ret								;
                        									;
2DE3:                   print_fp:							;
                        	fwait							;
2DE3: EF       [11]     	rst	28h
                        	fmove							;
2DE4: 31                	defb	0x31
                        	fcp		.lz						;
2DE5: 36                	defb	0x09 + .lz						
                        	fjpt	p_neg					;
2DE6: 000C              	defb	0x00, p_neg					 - $
                        	fmove							;
2DE8: 31                	defb	0x31
                        	fcp		.gz						;
2DE9: 37                	defb	0x09 + .gz						
                        	fjpt	p_pos					;
2DEA: 000E              	defb	0x00, p_pos					 - $
                        	fdel							;
2DEC: 02                	defb	0x02
                        	fce								;
2DED: 38                	defb	0x38
2DEE: 3E30     [18]     	ld		a, '0'					;
2DF0: D7       [29]     	rst		print_a					;
2DF1: C9       [39]     	ret								;
                        									;
2DF2:                   p_neg:								;
                        	fabs							;
2DF2: 2A                	defb	0x2a
                        	fce								;
2DF3: 38                	defb	0x38
2DF4: 3E2D     [ 7]     	ld		a, '-'					;
2DF6: D7       [18]     	rst		print_a					;
                        	fwait							;
2DF7: EF       [29]     	rst	28h
                        
2DF8:                   p_pos:
                        	fstk0
2DF8: A0                	defb	0xa0
                        	fst		3
2DF9: C3                	defb	0xc0 + 3
                        	fst		4
2DFA: C4                	defb	0xc0 + 4
                        	fst		5
2DFB: C5                	defb	0xc0 + 5
                        	fdel
2DFC: 02                	defb	0x02
                        	fce
2DFD: 38                	defb	0x38
2DFE: D9       [ 4]     	exx
2DFF: E5       [15]     	push	hl
2E00: D9       [19]     	exx
                        
2E01:                   l2e01:
                        	fwait
2E01: EF       [11]     	rst	28h
                        	fmove
2E02: 31                	defb	0x31
                        	fint
2E03: 27                	defb	0x27
                        	fst		2
2E04: C2                	defb	0xc0 + 2
                        	fsub
2E05: 03                	defb	0x03
                        	fgt		2
2E06: E2                	defb	0xe0 + 2
                        	fxch
2E07: 01                	defb	0x01
                        	fst		2
2E08: C2                	defb	0xc0 + 2
                        	fdel
2E09: 02                	defb	0x02
                        	fce
2E0A: 38                	defb	0x38
2E0B: 7E       [18]     	ld		a, (hl)
2E0C: A7       [22]     	and		a
2E0D: 2047     [29|34]  	jr		nz, l2e56
2E0F: CD7F2D   [46]     	call	fetchi
2E12: 0610     [53]     	ld		b, 16
2E14: 7A       [57]     	ld		a, d
2E15: A7       [61]     	and		a
2E16: 2006     [68|73]  	jr		nz, l2e1e
2E18: B3       [72]     	or		e
2E19: 2809     [79|84]  	jr		z, l2e24 
2E1B: 0608     [86]     	ld		b, 8
2E1D: 53       [90]     	ld		d, e
                        
2E1E:                   l2e1e:
2E1E: D5       [11]     	push	de
2E1F: D9       [15]     	exx
2E20: D1       [25]     	pop		de
2E21: D9       [29]     	exx
2E22: 1857     [41]     	jr		l2e7b
                        
2E24:                   l2e24:
                        	fwait
2E24: EF       [11]     	rst	28h
                        	fdel
2E25: 02                	defb	0x02
                        	fgt		2
2E26: E2                	defb	0xe0 + 2
                        	fce
2E27: 38                	defb	0x38
2E28: 7E       [18]     	ld		a, (hl)
2E29: D67E     [25]     	sub		126
2E2B: CDC12D   [42]     	call	l2dc1
2E2E: 57       [46]     	ld		d, a
2E2F: 3AAC5C   [59]     	ld		a, (mem_5_1)
2E32: 92       [63]     	sub		d
2E33: 32AC5C   [76]     	ld		(mem_5_1), a
2E36: 7A       [80]     	ld		a, d 
2E37: CD4F2D   [97]     	call	e_to_fp
                        	fwait
2E3A: EF       [108]    	rst	28h
                        	fmove
2E3B: 31                	defb	0x31
                        	fint
2E3C: 27                	defb	0x27
                        	fst		1
2E3D: C1                	defb	0xc0 + 1
                        	fsub
2E3E: 03                	defb	0x03
                        	fgt		1
2E3F: E1                	defb	0xe0 + 1
                        	fce
2E40: 38                	defb	0x38
2E41: CDD52D   [125]    	call	fp_to_a
2E44: E5       [136]    	push	hl
2E45: 32A15C   [149]    	ld		(mem_3), a
2E48: 3D       [153]    	dec		a
2E49: 17       [157]    	rla
2E4A: 9F       [161]    	sbc		a, a
2E4B: 3C       [165]    	inc		a
2E4C: 21AB5C   [175]    	ld		hl, mem_5
2E4F: 77       [182]    	ld		(hl), a
2E50: 23       [188]    	inc		hl
2E51: 86       [195]    	add		a, (hl)
2E52: 77       [202]    	ld		(hl), a
2E53: E1       [212]    	pop		hl
2E54: 1879     [224]    	jr		l2ecf
                        
2E56:                   l2e56:
2E56: D680     [ 7]     	sub		128
2E58: FE1C     [14]     	cp		28
2E5A: 3813     [21|26]  	jr		c, l2e6f
2E5C: CDC12D   [38]     	call	l2dc1
2E5F: D607     [45]     	sub		7
2E61: 21AC5C   [55]     	ld		hl, mem_5_1
2E64: 47       [59]     	ld		b, a
2E65: 86       [66]     	add		a, (hl)
2E66: 77       [73]     	ld		(hl), a
2E67: 78       [77]     	ld		a, b 
2E68: ED44     [85]     	neg
2E6A: CD4F2D   [102]    	call	e_to_fp
2E6D: 1892     [114]    	jr		l2e01
                        
2E6F:                   l2e6f:
2E6F: EB       [ 4]     	ex		de, hl
2E70: CDBA2F   [21]     	call	fetch_two
2E73: D9       [25]     	exx
2E74: 7D       [29]     	ld		a, l
2E75: CBFA     [37]     	set		7, d
2E77: D9       [41]     	exx
2E78: D680     [48]     	sub		128
2E7A: 47       [52]     	ld		b, a
                        
2E7B:                   l2e7b:
2E7B: CB23     [ 8]     	sla		e
2E7D: CB12     [16]     	rl		d
2E7F: D9       [20]     	exx
2E80: CB13     [28]     	rl		e
2E82: CB12     [36]     	rl		d
2E84: D9       [40]     	exx
2E85: 21AA5C   [50]     	ld		hl, mem_4_4
2E88: 0E05     [57]     	ld		c, 5
                        
2E8A:                   l2e8a:
2E8A: 7E       [ 7]     	ld		a, (hl)
2E8B: 8F       [11]     	adc		a, a
2E8C: 27       [15]     	daa
2E8D: 77       [22]     	ld		(hl), a
2E8E: 2B       [28]     	dec		hl
2E8F: 0D       [32]     	dec		c
2E90: 20F8     [39|44]  	jr		nz, l2e8a
2E92: 10E7     [47|52]  	djnz	l2e7b
2E94: 11A15C   [57]     	ld		de, mem_3
2E97: 21A65C   [67]     	ld		hl, mem_4
2E9A: 0609     [74]     	ld		b, 9
2E9C: AF       [78]     	xor		a
2E9D: ED6F     [96]     	rld
2E9F: 0EFF     [103]    	ld		c, 255
                        
2EA1:                   l2ea1:
2EA1: ED6F     [18]     	rld
2EA3: 2004     [25|30]  	jr		nz, l2ea9
2EA5: 0D       [29]     	dec		c
2EA6: 0C       [33]     	inc		c
2EA7: 200A     [40|45]  	jr		nz, l2eb3
                        
2EA9:                   l2ea9:
2EA9: 12       [ 7]     	ld		(de), a
2EAA: 0E00     [14]     	ld		c, 0
2EAC: FD3472   [37]     	inc		(iy + _mem_5_1)
2EAF: FD3471   [60]     	inc		(iy + _mem_5)
2EB2: 13       [66]     	inc		de
                        
2EB3:                   l2eb3:
2EB3: CB40     [ 8]     	bit		0, b
2EB5: 2801     [15|20]  	jr		z, l2eb8
2EB7: 23       [21]     	inc		hl
                        
2EB8:                   l2eb8:
2EB8: 10E7     [ 8|13]  	djnz	l2ea1
2EBA: 3AAB5C   [21]     	ld		a, (mem_5)
2EBD: D609     [28]     	sub		9
2EBF: 380A     [35|40]  	jr		c, l2ecb
2EC1: FD3571   [58]     	dec		(iy + _mem_5)
2EC4: 3E04     [65]     	ld		a, 4
2EC6: FDBE6F   [84]     	cp		(iy + _mem_4_3)
2EC9: 1841     [96]     	jr		l2f0c
                         
2ECB:                   l2ecb:
                        	fwait
2ECB: EF       [11]     	rst	28h
                        	fdel
2ECC: 02                	defb	0x02
                        	fgt		2
2ECD: E2                	defb	0xe0 + 2
                        	fce
2ECE: 38                	defb	0x38
                        
2ECF:                   l2ecf:
2ECF: EB       [ 4]     	ex		de, hl
2ED0: CDBA2F   [21]     	call	fetch_two
2ED3: D9       [25]     	exx
2ED4: 3E80     [32]     	ld		a, 128
2ED6: 95       [36]     	sub		l
2ED7: CBFA     [44]     	set		7, d
2ED9: 2E00     [51]     	ld		l, 0
2EDB: D9       [55]     	exx
2EDC: CDDD2F   [72]     	call	shift_fp
                        
2EDF:                   l2edf:
2EDF: FD7E71   [19]     	ld		a, (iy + _mem_5)
2EE2: FE08     [26]     	cp		8
2EE4: 3806     [33|38]  	jr		c, l2eec
2EE6: D9       [37]     	exx
2EE7: CB12     [45]     	rl		d
2EE9: D9       [49]     	exx
2EEA: 1820     [61]     	jr		l2f0c
                        
2EEC:                   l2eec:
2EEC: 010002   [10]     	ld		bc, 0x0200
                        
2EEF:                   l2eef:
2EEF: 7B       [ 4]     	ld		a, e
2EF0: CD8B2F   [21]     	call	l2f8b
2EF3: 5F       [25]     	ld		e, a
2EF4: 7A       [29]     	ld		a, d
2EF5: CD8B2F   [46]     	call	l2f8b
2EF8: 57       [50]     	ld		d, a
2EF9: C5       [61]     	push	bc
2EFA: D9       [65]     	exx
2EFB: C1       [75]     	pop		bc
2EFC: 10F1     [83|88]  	djnz	l2eef
2EFE: 21A15C   [93]     	ld		hl, mem_3
2F01: 79       [97]     	ld		a, c
2F02: FD4E71   [116]    	ld		c, (iy + _mem_5)
2F05: 09       [127]    	add		hl, bc
2F06: 77       [134]    	ld		(hl), a
2F07: FD3471   [157]    	inc		(iy + _mem_5)
2F0A: 18D3     [169]    	jr		l2edf
                        
2F0C:                   l2f0c:
2F0C: F5       [11]     	push	af
2F0D: 0600     [18]     	ld		b, 0
2F0F: FD4E71   [37]     	ld		c, (iy + _mem_5)
2F12: 21A15C   [47]     	ld		hl, mem_3
2F15: 09       [58]     	add		hl, bc
2F16: 41       [62]     	ld		b, c
2F17: F1       [72]     	pop		af
                        
2F18:                   l2f18:
2F18: 2B       [ 6]     	dec		hl
2F19: 7E       [13]     	ld		a, (hl)
2F1A: CE00     [20]     	adc		a, 0
2F1C: 77       [27]     	ld		(hl), a
2F1D: A7       [31]     	and		a
2F1E: 2805     [38|43]  	jr		z, l2f25
2F20: FE0A     [45]     	cp		10
2F22: 3F       [49]     	ccf
2F23: 3008     [56|61]  	jr		nc, l2f2d
                        
2F25:                   l2f25:
2F25: 10F1     [ 8|13]  	djnz	l2f18
2F27: FD3472   [31]     	inc		(iy + _mem_5_1)
2F2A: 04       [35]     	inc		b
2F2B: 3601     [45]     	ld		(hl), 1
                        
2F2D:                   l2f2d:
2F2D: FD7071   [19]     	ld		(iy + _mem_5), b
                        	fwait
2F30: EF       [30]     	rst	28h
                        	fdel
2F31: 02                	defb	0x02
                        	fce
2F32: 38                	defb	0x38
2F33: D9       [34]     	exx
2F34: E1       [44]     	pop		hl
2F35: D9       [48]     	exx
2F36: ED4BAB5C [68]     	ld		bc, (mem_5)
2F3A: 21A15C   [78]     	ld		hl, mem_3
2F3D: 78       [82]     	ld		a, b
2F3E: FE09     [89]     	cp		9
2F40: 3804     [96|101] 	jr		c, l2f46
2F42: FEFC     [103]    	cp		252
2F44: 3826     [110|115]	jr		c, l2f6c
                        
2F46:                   l2f46:
2F46: A7       [ 4]     	and		a
2F47: CCEF15   [14|21]  	call	z, out_code
                        
2F4A:                   l2f4a:
2F4A: AF       [ 4]     	xor		a
2F4B: 90       [ 8]     	sub		b
2F4C: FA522F   [18|18]  	jp		m, l2f52
2F4F: 47       [22]     	ld		b, a
2F50: 180C     [34]     	jr		l2f5e
                        
2F52:                   l2f52:
2F52: 79       [ 4]     	ld		a, c
2F53: A7       [ 8]     	and		a
2F54: 2803     [15|20]  	jr		z, l2f59
2F56: 7E       [22]     	ld		a, (hl)
2F57: 23       [28]     	inc		hl
2F58: 0D       [32]     	dec		c
                        
2F59:                   l2f59:
2F59: CDEF15   [17]     	call	out_code
2F5C: 10F4     [25|30]  	djnz	l2f52
                        
2F5E:                   l2f5e:
2F5E: 79       [ 4]     	ld		a, c
2F5F: A7       [ 8]     	and		a
2F60: C8       [13|19]  	ret		z
2F61: 3E2E     [20]     	ld		a, '.'
2F63: 04       [24]     	inc		b
                        
2F64:                   l2f64:
2F64: D7       [11]     	rst		print_a
2F65: 3E30     [18]     	ld		a, '0'
2F67: 10FB     [26|31]  	djnz	l2f64
2F69: 41       [30]     	ld		b, c
2F6A: 18E6     [42]     	jr		l2f52
                        
2F6C:                   l2f6c:
2F6C: 50       [ 4]     	ld		d, b
2F6D: 0601     [11]     	ld		b, 1
2F6F: 15       [15]     	dec		d
2F70: CD4A2F   [32]     	call	l2f4a
2F73: 3E45     [39]     	ld		a, 'E'
2F75: D7       [50]     	rst		print_a
2F76: 4A       [54]     	ld		c, d
2F77: 7A       [58]     	ld		a, d
2F78: A7       [62]     	and		a
2F79: F2832F   [72|72]  	jp		p, l2f83
2F7C: ED44     [80]     	neg
2F7E: 4F       [84]     	ld		c, a
2F7F: 3E2D     [91]     	ld		a, '-'
2F81: 1802     [103]    	jr		l2f85
                        
2F83:                   l2f83:
2F83: 3E2B     [ 7]     	ld		a, '+'
                        
2F85:                   l2f85:
2F85: D7       [11]     	rst		print_a
2F86: 0600     [18]     	ld		b, 0
2F88: C31B1A   [28]     	jp		out_num
                        
2F8B:                   l2f8b:
2F8B: 2600     [ 7]     	ld		h, 0
2F8D: 6F       [11]     	ld		l, a
2F8E: D5       [22]     	push	de
2F8F: 54       [26]     	ld		d, h
2F90: 5F       [30]     	ld		e, a
2F91: 29       [41]     	add		hl, hl
2F92: 29       [52]     	add		hl, hl
2F93: 19       [63]     	add		hl, de
2F94: 29       [74]     	add		hl, hl
2F95: 59       [78]     	ld		e, c
2F96: 19       [89]     	add		hl, de
2F97: D1       [99]     	pop		de
2F98: 7D       [103]    	ld		a, l
2F99: 4C       [107]    	ld		c, h
2F9A: C9       [117]    	ret
                        
2F9B:                   prep_add:							; zx81
2F9B: 7E       [ 7]     	ld		a, (hl)					;
2F9C: A7       [11]     	and		a						;
2F9D: C8       [16|22]  	ret		z						;
2F9E: 3600     [26]     	ld		(hl), 0					; moved
2FA0: 23       [32]     	inc		hl						;
2FA1: CB7E     [44]     	bit		7, (hl)					;
2FA3: CBFE     [59]     	set		7, (hl)					;
2FA5: 2B       [65]     	dec		hl						;
2FA6: C8       [70|76]  	ret		z						;
2FA7: C5       [81]     	push	bc						;
2FA8: 010500   [91]     	ld		bc, 5					;
2FAB: 09       [102]    	add		hl, bc					;
2FAC: 41       [106]    	ld		b, c					;
2FAD: 4F       [110]    	ld		c, a					;
2FAE: 37       [114]    	scf								;
                        									;
2FAF:                   neg_byte:							;
2FAF: 2B       [ 6]     	dec		hl						;
2FB0: 7E       [13]     	ld		a, (hl)					;
2FB1: 2F       [17]     	cpl								;
2FB2: CE00     [24]     	adc		a, 0					;
2FB4: 77       [31]     	ld		(hl), a					;
2FB5: 10F8     [39|44]  	djnz	neg_byte				;
2FB7: 79       [43]     	ld		a, c					;
2FB8: C1       [53]     	pop		bc						;
2FB9: C9       [63]     	ret								;
                        									;
2FBA:                   fetch_two:							;
2FBA: E5       [11]     	push	hl						;
2FBB: F5       [22]     	push	af						;
2FBC: 4E       [29]     	ld		c, (hl)					;
2FBD: 23       [35]     	inc		hl						;
2FBE: 46       [42]     	ld		b, (hl)					;
2FBF: 77       [49]     	ld		(hl), a					;
2FC0: 23       [55]     	inc		hl						;
2FC1: 79       [59]     	ld		a, c					;
2FC2: 4E       [66]     	ld		c, (hl)					;
2FC3: C5       [77]     	push	bc						;
2FC4: 23       [83]     	inc		hl						;
2FC5: 4E       [90]     	ld		c, (hl)					;
2FC6: 23       [96]     	inc		hl						;
2FC7: 46       [103]    	ld		b, (hl)					;
2FC8: EB       [107]    	ex		de, hl					;
2FC9: 57       [111]    	ld		d, a					;
2FCA: 5E       [118]    	ld		e, (hl)					;
2FCB: D5       [129]    	push	de						;
2FCC: 23       [135]    	inc		hl						;
2FCD: 56       [142]    	ld		d, (hl)					;
2FCE: 23       [148]    	inc		hl						;
2FCF: 5E       [155]    	ld		e, (hl)					;
2FD0: D5       [166]    	push	de						;
2FD1: D9       [170]    	exx								;
2FD2: D1       [180]    	pop		de						;
2FD3: E1       [190]    	pop		hl						;
2FD4: C1       [200]    	pop		bc						;
2FD5: D9       [204]    	exx								;
2FD6: 23       [210]    	inc		hl						;
2FD7: 56       [217]    	ld		d, (hl)					;
2FD8: 23       [223]    	inc		hl						;
2FD9: 5E       [230]    	ld		e, (hl)					;
2FDA: F1       [240]    	pop		af						;
2FDB: E1       [250]    	pop		hl						;
2FDC: C9       [260]    	ret								;
                        									;
2FDD:                   shift_fp:							;
2FDD: A7       [ 4]     	and		a						;
2FDE: C8       [ 9|15]  	ret		z						;
2FDF: FE21     [16]     	cp		33						;
2FE1: 3016     [23|28]  	jr		nc, addend_0			;
2FE3: C5       [34]     	push	bc						;
2FE4: 47       [38]     	ld		b, a					;
                        									;
2FE5:                   one_shift:							;
2FE5: D9       [ 4]     	exx								;
2FE6: CB2D     [12]     	sra		l						;
2FE8: CB1A     [20]     	rr		d						;
2FEA: CB1B     [28]     	rr		e						;
2FEC: D9       [32]     	exx								;
2FED: CB1A     [40]     	rr		d						;
2FEF: CB1B     [48]     	rr		e						;
2FF1: 10F2     [56|61]  	djnz	one_shift				;
2FF3: C1       [66]     	pop		bc						;
2FF4: D0       [71|77]  	ret		nc						;
2FF5: CD0430   [88]     	call	add_back				;
2FF8: C0       [93|99]  	ret		nz						;
                        									;
2FF9:                   addend_0:							;
2FF9: D9       [ 4]     	exx								;
2FFA: AF       [ 8]     	xor		a						;
                        									;
2FFB:                   zeros_4_5:							;
2FFB: 2E00     [ 7]     	ld		l, 0					;
2FFD: 57       [11]     	ld		d, a					;
2FFE: 5D       [15]     	ld		e, l					;
2FFF: D9       [19]     	exx								;
3000: 110000   [29]     	ld		de, 0					;
3003: C9       [39]     	ret								;
                        									;
3004:                   add_back:							;
3004: 1C       [ 4]     	inc		e						;
3005: C0       [ 9|15]  	ret		nz						;
3006: 14       [13]     	inc		d						;
3007: C0       [18|24]  	ret		nz						;
3008: D9       [22]     	exx								;
3009: 1C       [26]     	inc		e						;
300A: 2001     [33|38]  	jr		nz, all_added			;
300C: 14       [37]     	inc		d						;
                        									;
300D:                   all_added:							;
300D: D9       [ 4]     	exx								;
300E: C9       [14]     	ret								;
                        
300F:                   x80_fsub:							; sam
300F: EB       [ 4]     	ex		de, hl					;
3010: CD5234   [21]     	call	x80_fneg				;
3013: EB       [25]     	ex		de, hl					;
                        									;
3014:                   x80_fadd:							;
3014: 1A       [ 7]     	ld		a, (de)					;
3015: B6       [14]     	or		(hl)					;
3016: 2026     [21|26]  	jr		nz, addition			;
3018: D5       [32]     	push	de						;
3019: 23       [38]     	inc		hl						;
301A: E5       [49]     	push	hl						;
301B: 23       [55]     	inc		hl						;
301C: 4E       [62]     	ld		c, (hl)					;
301D: 23       [68]     	inc		hl						;
301E: 46       [75]     	ld		b, (hl)					;
301F: 23       [81]     	inc		hl						;
3020: 23       [87]     	inc		hl						;
3021: 23       [93]     	inc		hl						;
3022: 7E       [100]    	ld		a, (hl)					;
3023: 23       [106]    	inc		hl						;
3024: 5E       [113]    	ld		e, (hl)					;
3025: 23       [119]    	inc		hl						;
3026: 56       [126]    	ld		d, (hl)					;
3027: EB       [130]    	ex		de, hl					;
3028: 09       [141]    	add		hl, bc					;
3029: EB       [145]    	ex		de, hl					;
302A: E1       [155]    	pop		hl						;
302B: 8E       [162]    	adc		a, (hl)					;
302C: 0F       [166]    	rrca							;
302D: CE00     [173]    	adc		a, 0					; was b
302F: C32132   [183]    	jp		l3221
                        
3032:                   l3032:
3032: 77       [ 7]     	ld		(hl), a
3033: 23       [13]     	inc		hl
3034: 73       [20]     	ld		(hl), e
3035: 23       [26]     	inc		hl
3036: 72       [33]     	ld		(hl), d
3037: 2B       [39]     	dec		hl
3038: 2B       [45]     	dec		hl
3039: 2B       [51]     	dec		hl
303A: D1       [61]     	pop		de
303B: C9       [71]     	ret
                        
303C:                   l303c:
303C: 2B       [ 6]     	dec		hl
303D: D1       [16]     	pop		de
                        
303E:                   addition:
303E: CD9332   [17]     	call	l3293
3041: D9       [21]     	exx								; zx81
3042: E5       [32]     	push	hl						;
3043: D9       [36]     	exx								;
3044: D5       [47]     	push	de						;
3045: E5       [58]     	push	hl						;
3046: CD9B2F   [75]     	call	prep_add				;
3049: 47       [79]     	ld		b, a					;
304A: EB       [83]     	ex		de, hl					;
304B: CD9B2F   [100]    	call	prep_add				;
304E: 4F       [104]    	ld		c, a					;
304F: B8       [108]    	cp		b						;
3050: 3003     [115|120]	jr		nc, shift_len			;
3052: 78       [119]    	ld		a, b					;
3053: 41       [123]    	ld		b, c					;
3054: EB       [127]    	ex		de, hl					;
                        									;
3055:                   shift_len:							;
3055: F5       [11]     	push	af						;
3056: 90       [15]     	sub		b						;
3057: CDBA2F   [32]     	call	fetch_two				;
305A: CDDD2F   [49]     	call	shift_fp				;
305D: F1       [59]     	pop		af						;
305E: E1       [69]     	pop		hl						;
305F: 77       [76]     	ld		(hl), a					;
3060: E5       [87]     	push	hl						;
3061: 68       [91]     	ld		l, b					;
3062: 61       [95]     	ld		h, c					;
3063: 19       [106]    	add		hl, de					;
3064: D9       [110]    	exx								;
3065: EB       [114]    	ex		de, hl					;
3066: ED4A     [129]    	adc		hl, bc					;
3068: EB       [133]    	ex		de, hl					;
3069: 7C       [137]    	ld		a, h					;
306A: 8D       [141]    	adc		a, l					;
306B: 6F       [145]    	ld		l, a					;
306C: 1F       [149]    	rra								;
306D: AD       [153]    	xor		l						;
306E: D9       [157]    	exx								;
306F: EB       [161]    	ex		de, hl					;
3070: E1       [171]    	pop		hl						;
3071: 1F       [175]    	rra								;
3072: 3008     [182|187]	jr		nc, test_neg			;
3074: 3E01     [189]    	ld		a, 1					;
3076: CDDD2F   [206]    	call	shift_fp				;
3079: 34       [217]    	inc		(hl)					;
307A: 2823     [224|229]	jr		z, add_rep_6			;
                        									;
307C:                   test_neg:							;
307C: D9       [ 4]     	exx								;
307D: 7D       [ 8]     	ld		a, l					;
307E: E680     [15]     	and		%10000000				;
3080: D9       [19]     	exx								;
3081: 23       [25]     	inc		hl						;
3082: 77       [32]     	ld		(hl), a					;
3083: 2B       [38]     	dec		hl						;
3084: 281F     [45|50]  	jr		z, go_nc_mlt			;
3086: 7B       [49]     	ld		a, e					;
3087: ED44     [57]     	neg								;
3089: 3F       [61]     	ccf								;
308A: 5F       [65]     	ld		e, a					;
308B: 7A       [69]     	ld		a, d					;
308C: 2F       [73]     	cpl								;
308D: CE00     [80]     	adc		a, 0					;
308F: 57       [84]     	ld		d, a					;
3090: D9       [88]     	exx								;
3091: 7B       [92]     	ld		a, e					;
3092: 2F       [96]     	cpl								;
3093: CE00     [103]    	adc		a, 0					;
3095: 5F       [107]    	ld		e, a					;
3096: 7A       [111]    	ld		a, d					;
3097: 2F       [115]    	cpl								;
3098: CE00     [122]    	adc		a, 0					;
309A: 3007     [129|134]	jr		nc, end_compl			;
309C: 1F       [133]    	rra								;
309D: D9       [137]    	exx								;
309E: 34       [148]    	inc		(hl)					;
                        									;
309F:                   add_rep_6:							;
309F: CAAD31   [10|10]  	jp		z, report_6				;
30A2: D9       [14]     	exx								;
                        									;
30A3:                   end_compl:							;
30A3: 57       [ 4]     	ld		d, a					;
30A4: D9       [ 8]     	exx								;
                        									;
30A5:                   go_nc_mlt:							;
30A5: AF       [ 4]     	xor		a						;
30A6: C35531   [14]     	jp		test_norm				;
                        									;
30A9:                   l30a9:								;
30A9: C5       [11]     	push	bc						;
30AA: 0610     [18]     	ld		b, 16					;
30AC: 7C       [22]     	ld		a, h					;
30AD: 4D       [26]     	ld		c, l					;
30AE: 210000   [36]     	ld		hl, 0					;
                        									;
30B1:                   hl_loop:							;
30B1: 29       [11]     	add		hl, hl					;
30B2: 380A     [18|23]  	jr		c, hl_over				;
30B4: CB11     [26]     	rl		c						;
30B6: 17       [30]     	rla								;
30B7: 3003     [37|42]  	jr		nc, hl_again			;
30B9: 19       [48]     	add		hl, de					;
30BA: 3802     [55|60]  	jr		c, hl_over
                        
30BC:                   hl_again:							; zx81
30BC: 10F3     [ 8|13]  	djnz	hl_loop					;
                        									;
30BE:                   hl_over:							;
30BE: C1       [10]     	pop		bc						;
30BF: C9       [20]     	ret								;
                        
30C0:                   prep_m_d:
30C0: CDC534   [17]     	call	tstzero
30C3: D8       [22|28]  	ret		c
30C4: 23       [28]     	inc		hl						; zx81
30C5: AE       [35]     	xor		(hl)					;
30C6: CBFE     [50]     	set		7, (hl)					;
30C8: 2B       [56]     	dec		hl						;
30C9: C9       [66]     	ret								;
                        
30CA:                   x80_fmul:							; sam
30CA: 1A       [ 7]     	ld		a, (de)					;
30CB: B6       [14]     	or		(hl)					;
30CC: 2022     [21|26]  	jr		nz, multiply			;
30CE: D5       [32]     	push	de						;
30CF: E5       [43]     	push	hl						;
30D0: D5       [54]     	push	de
30D1: CD7F2D   [71]     	call	fetchi
30D4: EB       [75]     	ex		de, hl
30D5: E3       [94]     	ex		(sp), hl
30D6: 41       [98]     	ld		b, c					; sam
30D7: CD7F2D   [115]    	call	fetchi					;
30DA: 79       [119]    	ld		a, c					;
30DB: A8       [123]    	xor		b						;
30DC: 4F       [127]    	ld		c, a					;
30DD: E1       [137]    	pop		hl
30DE: CDA930   [154]    	call	l30a9
30E1: D1       [164]    	pop		de						; sam
30E2: EB       [168]    	ex		de, hl					;
30E3: 380A     [175|180]	jr		c, qmult				;
30E5: 7B       [179]    	ld		a, e
30E6: B2       [183]    	or		d
30E7: 2001     [190|195]	jr		nz, l30ea
30E9: 4F       [194]    	ld		c, a
                        
30EA:                   l30ea:
30EA: CD8E2D   [17]     	call	l2d8e
30ED: D1       [27]     	pop		de
30EE: C9       [37]     	ret
                        
30EF:                   qmult:
30EF: D1       [10]     	pop		de
                        
30F0:                   multiply:
30F0: CD9332   [17]     	call	l3293
30F3: AF       [21]     	xor		a						; zx81
30F4: CDC030   [38]     	call	prep_m_d				;
30F7: D8       [43|49]  	ret		c						;
30F8: D9       [47]     	exx								;
30F9: E5       [58]     	push	hl						;
30FA: D9       [62]     	exx								;
30FB: D5       [73]     	push	de						;
30FC: EB       [77]     	ex		de, hl					;
30FD: CDC030   [94]     	call	prep_m_d				;
3100: EB       [98]     	ex		de, hl					;
3101: 385A     [105|110]	jr		c, zero_rslt			;
3103: E5       [116]    	push	hl						;
3104: CDBA2F   [133]    	call	fetch_two				;
3107: 78       [137]    	ld		a, b					;
3108: A7       [141]    	and		a						;
3109: ED62     [156]    	sbc		hl, hl					;
310B: D9       [160]    	exx								;
310C: E5       [171]    	push	hl						;
310D: ED62     [186]    	sbc		hl, hl					;
310F: D9       [190]    	exx								;
3110: 0621     [197]    	ld		b, 33					;
3112: 1811     [209]    	jr		strt_mlt				;
                        									;
3114:                   mlt_loop:							;
3114: 3005     [ 7|12]  	jr		nc, no_add				;
3116: 19       [18]     	add		hl, de					;
3117: D9       [22]     	exx								;
3118: ED5A     [37]     	adc		hl, de					;
311A: D9       [41]     	exx								;
                        									;
311B:                   no_add:								;
311B: D9       [ 4]     	exx								;
311C: CB1C     [12]     	rr		h						;
311E: CB1D     [20]     	rr		l						;
3120: D9       [24]     	exx								;
3121: CB1C     [32]     	rr		h						;
3123: CB1D     [40]     	rr		l						;
                        									;
3125:                   strt_mlt:							;
3125: D9       [ 4]     	exx								;
3126: CB18     [12]     	rr		b						;
3128: CB19     [20]     	rr		c						;
312A: D9       [24]     	exx								;
312B: CB19     [32]     	rr		c						;
312D: 1F       [36]     	rra								;
312E: 10E4     [44|49]  	djnz	mlt_loop				;
3130: EB       [48]     	ex		de, hl					;
3131: D9       [52]     	exx								;
3132: EB       [56]     	ex		de, hl					;
3133: D9       [60]     	exx								;
3134: C1       [70]     	pop		bc						;
3135: E1       [80]     	pop		hl						;
3136: 78       [84]     	ld		a, b					;
3137: 81       [88]     	add		a, c					;
3138: 2001     [95|100] 	jr		nz, make_expt			;
313A: A7       [99]     	and		a						;
                        									;
313B:                   make_expt:							;
313B: 3D       [ 4]     	dec		a						;
313C: 3F       [ 8]     	ccf								;
                        									;
313D:                   divn_expt:							;
313D: 17       [ 4]     	rla								;
313E: 3F       [ 8]     	ccf								;
313F: 1F       [12]     	rra								;
3140: F24631   [22|22]  	jp		p, oflw1_clr			;
3143: 3068     [29|34]  	jr		nc, report_6			;
3145: A7       [33]     	and		a						;
                        									;
3146:                   oflw1_clr:							;
3146: 3C       [ 4]     	inc		a						;
3147: 2008     [11|16]  	jr		nz, oflw2_clr			;
3149: 3806     [18|23]  	jr		c, oflw2_clr			;
314B: D9       [22]     	exx								;
314C: CB7A     [30]     	bit		7, d					;
314E: D9       [34]     	exx								;
314F: 205C     [41|46]  	jr		nz, report_6			;
                        									;
3151:                   oflw2_clr:							;
3151: 77       [ 7]     	ld		(hl), a					;
3152: D9       [11]     	exx								;
3153: 78       [15]     	ld		a, b					;
3154: D9       [19]     	exx								;
                        									;
3155:                   test_norm:							;
3155: 3015     [ 7|12]  	jr		nc, normalize			;
3157: 7E       [14]     	ld		a, (hl)					;
3158: A7       [18]     	and		a						;
                        									;
3159:                   near_zero:							;
3159: 3E80     [ 7]     	ld		a, 128					;
315B: 2801     [14|19]  	jr		z, skip_zero			;
                        									;
315D:                   zero_rslt:							;
315D: AF       [ 4]     	xor		a						;
                        									;
315E:                   skip_zero:							;
315E: D9       [ 4]     	exx								;
315F: A2       [ 8]     	and		d						;
3160: CDFB2F   [25]     	call	zeros_4_5				;
3163: 07       [29]     	rlca							;
3164: 77       [36]     	ld		(hl), a					;
3165: 382E     [43|48]  	jr		c, oflow_clr			;
3167: 23       [49]     	inc		hl						;
3168: 77       [56]     	ld		(hl), a					;
3169: 2B       [62]     	dec		hl						;
316A: 1829     [74]     	jr		oflow_clr				;
                        									;
316C:                   normalize:							;
316C: 0620     [ 7]     	ld		b, 32					;
                        									;
316E:                   shift_one:							;
316E: D9       [ 4]     	exx								;
316F: CB7A     [12]     	bit		7, d					;
3171: D9       [16]     	exx								;
3172: 2012     [23|28]  	jr		nz, norml_now			;
3174: 07       [27]     	rlca							;
3175: CB13     [35]     	rl		e						;
3177: CB12     [43]     	rl		d						;
3179: D9       [47]     	exx								;
317A: CB13     [55]     	rl		e						;
317C: CB12     [63]     	rl		d						;
317E: D9       [67]     	exx								;
317F: 35       [78]     	dec		(hl)					;
3180: 28D7     [85|90]  	jr		z, near_zero			;
3182: 10EA     [93|98]  	djnz	shift_one				;
3184: 18D7     [105]    	jr		zero_rslt				;
                        									;
3186:                   norml_now:							;
3186: 17       [ 4]     	rla								;
3187: 300C     [11|16]  	jr		nc, oflow_clr			;
3189: CD0430   [28]     	call	add_back				;
318C: 2007     [35|40]  	jr		nz, oflow_clr			;
318E: D9       [39]     	exx								;
318F: 1680     [46]     	ld		d, 128					;
3191: D9       [50]     	exx								;
3192: 34       [61]     	inc		(hl)					;
3193: 2818     [68|73]  	jr		z, report_6				;
                        									;
3195:                   oflow_clr:							;
3195: E5       [11]     	push	hl						;
3196: 23       [17]     	inc		hl						;
3197: D9       [21]     	exx								;
3198: D5       [32]     	push	de						;
3199: D9       [36]     	exx								;
319A: C1       [46]     	pop		bc						;
319B: 78       [50]     	ld		a, b					;
319C: 17       [54]     	rla								;
319D: CB16     [69]     	rl		(hl)					;
319F: 1F       [73]     	rra								;
31A0: 77       [80]     	ld		(hl), a					;
31A1: 23       [86]     	inc		hl						;
31A2: 71       [93]     	ld		(hl), c					;
31A3: 23       [99]     	inc		hl						;
31A4: 72       [106]    	ld		(hl), d					;
31A5: 23       [112]    	inc		hl						;
31A6: 73       [119]    	ld		(hl), e					;
31A7: E1       [129]    	pop		hl						;
31A8: D1       [139]    	pop		de						;
31A9: D9       [143]    	exx								;
31AA: E1       [153]    	pop		hl						;
31AB: D9       [157]    	exx								;
31AC: C9       [167]    	ret								;
                        
31AD:                   report_6:							; zx81
31AD: CF       [11]     	rst		error_1					;
31AE: 05                	defb	Number_too_large		;
                        
31AF:                   x80_fdiv:
31AF: CD9332   [17]     	call	l3293
31B2: EB       [21]     	ex		de, hl					; zx81
31B3: AF       [25]     	xor		a						;
31B4: CDC030   [42]     	call	prep_m_d				;
31B7: 38F4     [49|54]  	jr		c, report_6				;
31B9: EB       [53]     	ex		de, hl					;
31BA: CDC030   [70]     	call	prep_m_d				;
31BD: D8       [75|81]  	ret		c						;
31BE: D9       [79]     	exx								;
31BF: E5       [90]     	push	hl						;
31C0: D9       [94]     	exx								;
31C1: D5       [105]    	push	de						;
31C2: E5       [116]    	push	hl						;
31C3: CDBA2F   [133]    	call	fetch_two				;
31C6: D9       [137]    	exx								;
31C7: E5       [148]    	push	hl						;
31C8: 60       [152]    	ld		h, b					;
31C9: 69       [156]    	ld		l, c					;
31CA: D9       [160]    	exx								;
31CB: 61       [164]    	ld		h, c					;
31CC: 68       [168]    	ld		l, b					;
31CD: AF       [172]    	xor		a						;
31CE: 06DF     [179]    	ld		b, 0xdf					;
31D0: 1810     [191]    	jr		div_start				;
                        									;
31D2:                   div_loop:							;
31D2: 17       [ 4]     	rla								;
31D3: CB11     [12]     	rl		c						;
31D5: D9       [16]     	exx								;
31D6: CB11     [24]     	rl		c						;
31D8: CB10     [32]     	rl		b						;
31DA: D9       [36]     	exx								;
                        									;
31DB:                   l31db:								;
31DB: 29       [11]     	add		hl, hl					;
31DC: D9       [15]     	exx								;
31DD: ED6A     [30]     	adc		hl, hl					;
31DF: D9       [34]     	exx								;
31E0: 3810     [41|46]  	jr		c, subn_only			;
                        									;
31E2:                   div_start:							;
31E2: ED52     [15]     	sbc		hl, de					;
31E4: D9       [19]     	exx								;
31E5: ED52     [34]     	sbc		hl, de					;
31E7: D9       [38]     	exx								;
31E8: 300F     [45|50]  	jr		nc, no_rstore			;
31EA: 19       [56]     	add		hl, de					;
31EB: D9       [60]     	exx								;
31EC: ED5A     [75]     	adc		hl, de					;
31EE: D9       [79]     	exx								;
31EF: A7       [83]     	and		a						;
31F0: 1808     [95]     	jr		count_one				;
                        									;
31F2:                   subn_only:							;
31F2: A7       [ 4]     	and		a						;
31F3: ED52     [19]     	sbc		hl, de					;
31F5: D9       [23]     	exx								;
31F6: ED52     [38]     	sbc		hl, de					;
31F8: D9       [42]     	exx								;
                        									;
31F9:                   no_rstore:							;
31F9: 37       [ 4]     	scf								;
                        									;
31FA:                   count_one:							;
31FA: 04       [ 4]     	inc		b						;
31FB: FAD231   [14|14]  	jp		m, div_loop				;
31FE: F5       [25]     	push	af						;
31FF: 28E1     [32|37]  	jr		z, div_start			;
3201: 5F       [36]     	ld		e, a					;
3202: 51       [40]     	ld		d, c					;
3203: D9       [44]     	exx								;
3204: 59       [48]     	ld		e, c					;
3205: 50       [52]     	ld		d, b					;
3206: F1       [62]     	pop		af						;
3207: CB18     [70]     	rr		b						;
3209: F1       [80]     	pop		af						;
320A: CB18     [88]     	rr		b						;
320C: D9       [92]     	exx								;
320D: C1       [102]    	pop		bc						;
320E: E1       [112]    	pop		hl						;
320F: 78       [116]    	ld		a, b					;
3210: 91       [120]    	sub		c						;
3211: C33D31   [130]    	jp		divn_expt				;
                        									;
3214:                   x80_ftrn:							;
3214: 7E       [ 7]     	ld		a, (hl)					;
3215: A7       [11]     	and		a
3216: C8       [16|22]  	ret		z
3217: FE81     [23]     	cp		129						; zx81
3219: 3022     [30|35]  	jr		nc, fptrunct			; was x_large
321B: 3600     [40]     	ld		(hl), 0					;
321D: 3E20     [47]     	ld		a, 32					;
321F: 1851     [59]     	jr		nil_bytes				;
                        
3221:                   l3221:								; se
3221: C23C30   [10|10]  	jp		nz, l303c				;
3224: 9F       [14]     	sbc		a, a					;
3225: 4F       [18]     	ld		c, a					;
3226: 3C       [22]     	inc		a						;
3227: B3       [26]     	or		e						;
3228: B2       [30]     	or		d						;
3229: 79       [34]     	ld		a, c					;
322A: 2006     [41|46]  	jr		nz, l3232				;
322C: 2B       [47]     	dec		hl						;
322D: 3691     [57]     	ld		(hl), 145				;
322F: 23       [63]     	inc		hl						;
3230: E680     [70]     	and		%10000000				;
                        									;
3232:                   l3232:								;
3232: C33230   [10]     	jp		l3032					;
                        									;
3235:                   l3235:								;
3235: 80536372          	defb	0x80, 'Scroll', '?' + 0x80
3239: 6F6C6CBF          
                        
323D:                   fptrunct:							; sam
323D: FE91     [ 7]     	cp		145						;
323F: 302C     [14|19]  	jr		nc, x_large				;
3241: D5       [25]     	push	de						;
3242: 2F       [29]     	cpl
3243: C691     [36]     	add		a, 145
3245: 23       [42]     	inc		hl						; sam
3246: 56       [49]     	ld		d, (hl)					;
3247: 23       [55]     	inc		hl						;
3248: 5E       [62]     	ld		e, (hl)					;
3249: 2B       [68]     	dec		hl						;
324A: 2B       [74]     	dec		hl						;
324B: 0EFF     [81]     	ld		c, 0xff					;
324D: CB7A     [89]     	bit		7, d					;
324F: 2001     [96|101] 	jr		nz, trunct2				;
3251: 0C       [100]    	inc		c						;
                        
3252:                   trunct2:
3252: CBFA     [ 8]     	set		7, d
3254: 0608     [15]     	ld		b, 08
3256: 90       [19]     	sub		b						; sam
3257: 80       [23]     	add		a, b					;
3258: 3804     [30|35]  	jr		c, trunct3				;
325A: 5A       [34]     	ld		e, d					;
325B: 1600     [41]     	ld		d, 0					;
325D: 90       [45]     	sub		b						;
                        									;
325E:                   trunct3:							;
325E: 2807     [ 7|12]  	jr		z, trunct5				;
3260: 47       [11]     	ld		b, a					;
                        									;
3261:                   trunct4:							;
3261: CB3A     [ 8]     	srl		d						;
3263: CB1B     [16]     	rr		e						;
3265: 10FA     [24|29]  	djnz	trunct4					;
                        
3267:                   trunct5:
3267: CD8E2D   [17]     	call	l2d8e
326A: D1       [27]     	pop		de
326B: C9       [37]     	ret
326C: FF                	defb	0xff					; se
                        
326D:                   x_large:							; zx81
326D: D6A0     [ 7]     	sub		160						;
326F: F0       [12|18]  	ret		p						;
3270: ED44     [20]     	neg								;
                        									;
3272:                   nil_bytes:							;
3272: D5       [11]     	push	de						;
3273: EB       [15]     	ex		de, hl					;
3274: 2B       [21]     	dec		hl						;
3275: 47       [25]     	ld		b, a					;
3276: CB38     [33]     	srl		b						;
3278: CB38     [41]     	srl		b						;
327A: CB38     [49]     	srl		b						;
327C: 2805     [56|61]  	jr		z, bits_zero			;
                        									;
327E:                   byte_zero:							;
327E: 3600     [10]     	ld		(hl), 0					;
3280: 2B       [16]     	dec		hl						;
3281: 10FB     [24|29]  	djnz	byte_zero				;
                        									;
3283:                   bits_zero:							;
3283: E607     [ 7]     	and		%00000111				;
3285: 2809     [14|19]  	jr		z, ix_end				;
3287: 47       [18]     	ld		b, a					;
3288: 3EFF     [25]     	ld		a, 255					;
                        									;
328A:                   less_mask:							;
328A: CB27     [ 8]     	sla		a						;
328C: 10FC     [16|21]  	djnz	less_mask				;
328E: A6       [23]     	and		(hl)					;
328F: 77       [30]     	ld		(hl), a					;
                        									;
3290:                   ix_end:								;
3290: EB       [ 4]     	ex		de, hl					;
3291: D1       [14]     	pop		de						;
3292: C9       [24]     	ret								;
                        
3293:                   l3293:
3293: CD9632   [17]     	call	l3296
                        
3296:                   l3296:
3296: EB       [ 4]     	ex		de, hl
                        
3297:                   x80_frstk:
3297: 7E       [ 7]     	ld		a, (hl)
3298: A7       [11]     	and		a
3299: C0       [16|22]  	ret		nz
329A: D5       [27]     	push	de
329B: CD7F2D   [44]     	call	fetchi
329E: AF       [48]     	xor		a
329F: 23       [54]     	inc		hl
32A0: 77       [61]     	ld		(hl), a
32A1: 2B       [67]     	dec		hl
32A2: 77       [74]     	ld		(hl), a
32A3: 0691     [81]     	ld		b, 145
32A5: 7A       [85]     	ld		a, d
32A6: A7       [89]     	and		a
32A7: 2008     [96|101] 	jr		nz, l32b1
32A9: 42       [100]    	ld		b, d
32AA: B3       [104]    	or		e
32AB: 2810     [111|116]	jr		z, l32bd
32AD: 53       [115]    	ld		d, e
32AE: 58       [119]    	ld		e, b
32AF: 0689     [126]    	ld		b, 137
                        
32B1:                   l32b1:
32B1: EB       [ 4]     	ex		de, hl
                        
32B2:                   l32b2:
32B2: 05       [ 4]     	dec		b
32B3: 29       [15]     	add		hl, hl
32B4: 30FC     [22|27]  	jr		nc, l32b2
32B6: CB09     [30]     	rrc		c
32B8: CB1C     [38]     	rr		h
32BA: CB1D     [46]     	rr		l
32BC: EB       [50]     	ex		de, hl
                        
32BD:                   l32bd:
32BD: 2B       [ 6]     	dec		hl
32BE: 73       [13]     	ld		(hl), e
32BF: 2B       [19]     	dec		hl
32C0: 72       [26]     	ld		(hl), d
32C1: 2B       [32]     	dec		hl
32C2: 70       [39]     	ld		(hl), b
32C3: D1       [49]     	pop		de
32C4: C9       [59]     	ret
                        
32C5:                   constants:							; se
32C5: 00000000          	defb	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 
32C9: 00000001          
32CD: 00008000          	defb	0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x81 
32D1: 00000081          
32D5: 490FDAA2          	defb	0x49, 0x0f, 0xda, 0xa2, 0x00, 0x00, 0x0a, 0x00 
32D9: 00000A00          
32DD: 00                	defb	0x00					;
                        
32DE:                   addresses:							; zx81
32DE: 6436              	defw	x80_fjpt				;
32E0: 2134              	defw	x80_fxch				;
32E2: A533              	defw	x80_fdel				;
32E4: 0F30              	defw	x80_fsub				;
32E6: CA30              	defw	x80_fmul				;
32E8: AF31              	defw	x80_fdiv				;
32EA: 4638              	defw	x80_ftop				;
32EC: F734              	defw	x80_fbor				;
32EE: 0035              	defw	x80_fband				;
32F0: 1735              	defw	x80_fcp					;
32F2: 1735              	defw	x80_fcp					;
32F4: 1735              	defw	x80_fcp					;
32F6: 1735              	defw	x80_fcp					;
32F8: 1735              	defw	x80_fcp					;
32FA: 1735              	defw	x80_fcp					;
32FC: 1430              	defw	x80_fadd				;
32FE: 0935              	defw	x80_fbands				;
3300: 1735              	defw	x80_fcp					;
3302: 1735              	defw	x80_fcp					;
3304: 1735              	defw	x80_fcp					;
3306: 1735              	defw	x80_fcp					;
3308: 1735              	defw	x80_fcp					;
330A: 1735              	defw	x80_fcp					;
330C: 7435              	defw	x80_fcat				;
330E: B135              	defw	x80_fval				; sam
3310: 9C34              	defw	x80_fusrs				;
3312: 1C36              	defw	x80_fread				;
3314: 5234              	defw	x80_fneg				; zx81
3316: 3E36              	defw	x80_fasc				;
3318: B135              	defw	x80_fval				;
331A: 4936              	defw	x80_flen				;
331C: 8637              	defw	x80_fsin				;
331E: 7B37              	defw	x80_fcos				;
3320: F50D              	defw	x80_ftan				;
3322: FC37              	defw	x80_fasin				;
3324: 0C38              	defw	x80_facos				;
3326: AB37              	defw	x80_fatan				;
3328: E736              	defw	x80_flogn				;
332A: 9936              	defw	x80_fexp				;
332C: 8436              	defw	x80_fint				;
332E: 1338              	defw	x80_fsqrt				;
3330: 7234              	defw	x80_fsgn				;
3332: 4E34              	defw	x80_fabs				;
3334: 8C34              	defw	x80_fpeek				;
3336: 8534              	defw	x80_fin					; sam
3338: 9334              	defw	x80_fusr				; zx81
333A: EF35              	defw	x80_fstrs				;
333C: A235              	defw	x80_fchrs				;
333E: DD34              	defw	x80_fnot				;
3340: C433              	defw	x80_fmove				;
3342: 7536              	defw	x80_fmod				;
3344: 5B36              	defw	x80_fjp					;
3346: CA33              	defw	x80_fstk				;
3348: 4F36              	defw	x80_fdjnz				;
334A: E234              	defw	x80_fcp_lz				;
334C: D534              	defw	x80_fcp_gz				;
334E: 7036              	defw	x80_fce					;
3350: 5537              	defw	x80_fget				;
3352: 1432              	defw	x80_ftrn				;
3354: A633              	defw	x80_fsgl				;
3356: 6338              	defw	x80_fhexs				; sam
3358: 9732              	defw	x80_frstk				; zx81
335A: 2D34              	defw	x80_fsgen				;
335C: 0C34              	defw	x80_fstkc				;
335E: 1134              	defw	x80_fst					;
3360: 0034              	defw	x80_fgt					;
                        
3362:                   calculate:							; zx81
3362: CD9735   [17]     	call	stk_pntrs				;
                        									;
3365:                   gen_ent_1:							;
3365: 78       [ 4]     	ld		a, b					;
3366: 32675C   [17]     	ld		(breg),a				;
                        									;
3369:                   gen_ent_2:							;
3369: D9       [ 4]     	exx								;
336A: E3       [23]     	ex		(sp), hl				;
336B: D9       [27]     	exx								;
                        									;
336C:                   re_entry:							;
336C: ED53655C [20]     	ld		(stkend), de			;
3370: D9       [24]     	exx								;
3371: 7E       [31]     	ld		a, (hl)					;
3372: 23       [37]     	inc		hl						;
                        									;
3373:                   scan_ent:							;
3373: E5       [11]     	push	hl						;
3374: A7       [15]     	and		a						;
3375: F28733   [25|25]  	jp		p, first_38				;
3378: 57       [29]     	ld		d, a					;
3379: E660     [36]     	and		%01100000				;
337B: 0F       [40]     	rrca							;
337C: 0F       [44]     	rrca							;
337D: 0F       [48]     	rrca							;
337E: 0F       [52]     	rrca							;
337F: C67C     [59]     	add		a, 124					;
3381: 6F       [63]     	ld		l, a					;
3382: 7A       [67]     	ld		a, d					;
3383: E61F     [74]     	and		%00011111				;
3385: 180B     [86]     	jr		ent_table				;
                        									;
3387:                   first_38:							;
3387: FE18     [ 7]     	cp		24						;
3389: 3005     [14|19]  	jr		nc, double_a			;
338B: D9       [18]     	exx								;
338C: CD9A35   [35]     	call	l359a
338F: D9       [39]     	exx
                        
3390:                   double_a:							; zx81
3390: 07       [ 4]     	rlca							;
3391: 6F       [ 8]     	ld		l, a					;
                        									;
3392:                   ent_table:							;
3392: 11DE32   [10]     	ld		de, addresses			;
3395: 2600     [17]     	ld		h, 0					;
3397: 19       [28]     	add		hl, de					;
3398: 5E       [35]     	ld		e, (hl)					;
3399: 23       [41]     	inc		hl						;
339A: 56       [48]     	ld		d, (hl)					;
339B: 216C33   [58]     	ld		hl, re_entry			;
339E: E3       [77]     	ex		(sp), hl				;
339F: D5       [88]     	push	de						;
33A0: D9       [92]     	exx								;
33A1: ED4B665C [112]    	ld		bc, (stkend_h)			;
                        									;
33A5:                   x80_fdel:							;
33A5: C9       [10]     	ret								;
                        									;
33A6:                   x80_fsgl:							;
33A6: F1       [10]     	pop		af						;
33A7: 3A675C   [23]     	ld		a, (breg)				;
33AA: D9       [27]     	exx								;
33AB: 18C6     [39]     	jr		scan_ent				;
                        									;
33AD:                   test_5_sp:							;
33AD: D5       [11]     	push	de						;
33AE: E5       [22]     	push	hl						;
33AF: 010500   [32]     	ld		bc, 5					;
33B2: CD051F   [49]     	call	test_room				;
33B5: E1       [59]     	pop		hl						;
33B6: D1       [69]     	pop		de						;
33B7: C9       [79]     	ret								;
                        									;
33B8:                   l33b8:								;
33B8: ED5B655C [20]     	ld		de, (stkend)			;
33BC: CDC433   [37]     	call	x80_fmove				;
33BF: ED53655C [57]     	ld		(stkend), de			;
33C3: C9       [67]     	ret								;
                        									;
33C4:                   x80_fmove:							;
33C4: CDAD33   [17]     	call	test_5_sp				;
33C7: EDB0     [33|21]  	ldir							;
33C9: C9       [43]     	ret								;
                        									;
33CA:                   x80_fstk:							;
33CA: 62       [ 4]     	ld		h, d					;
33CB: 6B       [ 8]     	ld		l, e					;
                        									;
33CC:                   stk_const:							;
33CC: CDAD33   [17]     	call	test_5_sp				;
33CF: D9       [21]     	exx								;
33D0: E5       [32]     	push	hl						;
33D1: D9       [36]     	exx								;
33D2: E3       [55]     	ex		(sp), hl				;
33D3: 7E       [62]     	ld		a, (hl)					;
33D4: E6C0     [69]     	and		%11000000				;
33D6: 07       [73]     	rlca							;
33D7: 07       [77]     	rlca							;
33D8: 4F       [81]     	ld		c, a					;
33D9: 0C       [85]     	inc		c						;
33DA: 7E       [92]     	ld		a, (hl)					;
33DB: E63F     [99]     	and		%00111111				;
33DD: 2002     [106|111]	jr		nz, form_exp			;
33DF: 23       [112]    	inc		hl						;
33E0: 7E       [119]    	ld		a, (hl)					;
                        									;
33E1:                   form_exp:							;
33E1: C650     [ 7]     	add		a, 80					;
33E3: 12       [14]     	ld		(de), a					;
33E4: 3E05     [21]     	ld		a, 5					;
33E6: 91       [25]     	sub		c						;
33E7: 23       [31]     	inc		hl						;
33E8: 13       [37]     	inc		de						;
33E9: EDB0     [53|21]  	ldir							;
33EB: E3       [72]     	ex		(sp), hl				;
33EC: D9       [76]     	exx								;
33ED: E1       [86]     	pop		hl						;
33EE: D9       [90]     	exx								;
33EF: 47       [94]     	ld		b, a					;
33F0: AF       [98]     	xor		a						;
                        									;
33F1:                   stk_zeros:							;
33F1: 05       [ 4]     	dec		b						;
33F2: C8       [ 9|15]  	ret		z						;
33F3: 12       [16]     	ld		(de), a					;
33F4: 13       [22]     	inc		de						;
33F5: 18FA     [34]     	jr		stk_zeros				;
                        									;
33F7:                   loc_mem:							;
33F7: 4F       [ 4]     	ld		c, a					;
33F8: 07       [ 8]     	rlca							;
33F9: 07       [12]     	rlca							;
33FA: 81       [16]     	add		a, c					;
33FB: 4F       [20]     	ld		c, a					;
33FC: 0600     [27]     	ld		b, 0					;
33FE: 09       [38]     	add		hl, bc					;
33FF: C9       [48]     	ret								;
                        									;
3400:                   x80_fgt:							;
3400: 2A685C   [16]     	ld		hl, (mem)				; /|\
                        									;  |
3403:                   l3403:								;  |
3403: D5       [11]     	push	de						; \|/
3404: CDF733   [28]     	call	loc_mem					;
3407: CDC433   [45]     	call	x80_fmove				;
340A: E1       [55]     	pop		hl						;
340B: C9       [65]     	ret								;
                        
340C:                   x80_fstkc:							; se
340C: 21C532   [10]     	ld		hl, constants			;
340F: 18F2     [22]     	jr		l3403					;
                        
3411:                   x80_fst:							; zx81
3411: E5       [11]     	push	hl						;
3412: EB       [15]     	ex		de, hl					;
3413: 2A685C   [31]     	ld		hl, (mem)				;
3416: CDF733   [48]     	call	loc_mem					;
3419: EB       [52]     	ex		de, hl					;
341A: 0E05     [59]     	ld		c, 5
341C: EDB0     [75|21]  	ldir
341E: EB       [79]     	ex		de, hl					; zx81
341F: E1       [89]     	pop		hl						;
3420: C9       [99]     	ret								;
                        									;
3421:                   x80_fxch:							;
3421: 0605     [ 7]     	ld		b, 5					;
                        									;
3423:                   swap_byte:							;
3423: 1A       [ 7]     	ld		a, (de)					;
3424: 4F       [11]     	ld		c, a						
3425: 7E       [18]     	ld		a, (hl)
3426: 12       [25]     	ld		(de), a					; zx81
3427: 71       [32]     	ld		(hl), c					;
3428: 23       [38]     	inc		hl						;
3429: 13       [44]     	inc		de						;
342A: 10F7     [52|57]  	djnz	swap_byte				;
342C: C9       [62]     	ret								;
                        									;
342D:                   x80_fsgen:							;
342D: 47       [ 4]     	ld		b, a					;
342E: CD6533   [21]     	call	gen_ent_1				;
                        	fmove							;
3431: 31                	defb	0x31
                        	fadd							;
3432: 0F                	defb	0x0f
                        	fst		0						;
3433: C0                	defb	0xc0 + 0						
                        	fdel							;
3434: 02                	defb	0x02
                        	fstk0							;
3435: A0                	defb	0xa0
                        	fst		2						;
3436: C2                	defb	0xc0 + 2						
                        									;
3437:                   g_loop:								;
                        	fmove							;
3437: 31                	defb	0x31
                        	fgt		0						;
3438: E0                	defb	0xe0 + 0						
                        	fmul							;
3439: 04                	defb	0x04
                        	fgt		2						;
343A: E2                	defb	0xe0 + 2						
                        	fst		1						;
343B: C1                	defb	0xc0 + 1						
                        	fsub							;
343C: 03                	defb	0x03
                        	fce								;
343D: 38                	defb	0x38
343E: CDCA33   [17]     	call	x80_fstk				;
3441: CD6933   [34]     	call	gen_ent_2				;
                        	fadd							;
3444: 0F                	defb	0x0f
                        	fxch							;
3445: 01                	defb	0x01
                        	fst		2						;
3446: C2                	defb	0xc0 + 2						
                        	fdel							;
3447: 02                	defb	0x02
                        	fdjnz	g_loop					;
3448: 35EF              	defb	0x35, g_loop					 - $
                        	fgt		1						;
344A: E1                	defb	0xe0 + 1						
                        	fsub							;
344B: 03                	defb	0x03
                        	fce								;
344C: 38                	defb	0x38
344D: C9       [44]     	ret								;
                        
344E:                   x80_fabs:
344E: 06FF     [ 7]     	ld		b, 0xff
3450: 1806     [19]     	jr		negate
                        
3452:                   x80_fneg:
3452: CDC534   [17]     	call	tstzero
3455: D8       [22|28]  	ret		c
3456: 0600     [29]     	ld		b, 0
                        
3458:                   negate:								; zx81
3458: 7E       [ 7]     	ld		a, (hl)					;
3459: A7       [11]     	and		a						;
345A: 280B     [18|23]  	jr		z, l3468
345C: 23       [24]     	inc		hl
345D: 78       [28]     	ld		a, b
345E: E680     [35]     	and		%10000000
3460: B6       [42]     	or		(hl)
3461: 17       [46]     	rla
3462: 3F       [50]     	ccf
3463: 1F       [54]     	rra
3464: 77       [61]     	ld		(hl), a					; zx81
3465: 2B       [67]     	dec		hl						;
3466: C9       [77]     	ret								;
                        
3467:                   l3468:
3467: D5       [11]     	push	de
3468: E5       [22]     	push	hl
3469: CD7F2D   [39]     	call	fetchi
346C: E1       [49]     	pop		hl
346D: 79       [53]     	ld		a, c
346E: B0       [57]     	or		b
346F: 2F       [61]     	cpl
3470: 180D     [73]     	jr		l347f
                        
3472:                   x80_fsgn:							; sam
3472: CDC534   [17]     	call	tstzero					;
3475: D8       [22|28]  	ret		c
3476: D5       [33]     	push	de
3477: 110100   [43]     	ld		de, 1
347A: 23       [49]     	inc		hl
347B: CB16     [64]     	rl		(hl)
347D: 2B       [70]     	dec		hl						; sam
347E: 9F       [74]     	sbc		a, a					;
                        									;
347F:                   l347f:								;
347F: 4F       [ 4]     	ld		c, a
3480: CD8E2D   [21]     	call	l2d8e
3483: D1       [31]     	pop		de
3484: C9       [41]     	ret
                        
3485:                   x80_fin:							;sam
3485: CD991E   [17]     	call	find_int				;
3488: ED78     [29]     	in		a, (c)					;
348A: 1804     [41]     	jr		stacka					;
                        
348C:                   x80_fpeek:							; zx81
348C: CD991E   [17]     	call	find_int				;
348F: 0A       [24]     	ld		a, (bc)					;
                        									;
3490:                   stacka:								;
3490: C3282D   [10]     	jp		stack_a					;
                        									;
3493:                   x80_fusr:							;
3493: CD991E   [17]     	call	find_int				;
3496: 212B2D   [27]     	ld		hl, stack_bc			;
3499: E5       [38]     	push	hl						;
349A: C5       [49]     	push	bc						;
349B: C9       [59]     	ret								;
                        
349C:                   x80_fusrs:
349C: CDF12B   [17]     	call	stk_fetch
349F: 0B       [23]     	dec		bc
34A0: 79       [27]     	ld		a, c
34A1: B0       [31]     	or		b
34A2: 201F     [38|43]  	jr		nz, invarg
34A4: 1A       [45]     	ld		a, (de)
34A5: CD8D2C   [62]     	call	alpha
34A8: 3805     [69|74]  	jr		c, l34af
34AA: D690     [76]     	sub		144
34AC: 3815     [83|88]  	jr		c, invarg
34AE: 3C       [87]     	inc		a
                        
34AF:                   l34af:
34AF: 3D       [ 4]     	dec		a
34B0: 87       [ 8]     	add		a, a
34B1: 87       [12]     	add		a, a
34B2: 87       [16]     	add		a, a
34B3: FEA8     [23]     	cp		0xa8
34B5: 300C     [30|35]  	jr		nc, invarg
34B7: ED4B7B5C [50]     	ld		bc, (udg)
34BB: 81       [54]     	add		a, c
34BC: 4F       [58]     	ld		c, a
34BD: 3001     [65|70]  	jr		nc, l34c0
34BF: 04       [69]     	inc		b
                        
34C0:                   l34c0:
34C0: C32F2D   [10]     	jp		stack_bc1
                        
34C3:                   invarg:								; sam
34C3: CF       [11]     	rst		error_1					;
34C4: 09                	defb	Bad_argument			;
                        
34C5:                   tstzero:
34C5: C5       [11]     	push	bc
34C6: E5       [22]     	push	hl
34C7: 4F       [26]     	ld		c, a
34C8: 7E       [33]     	ld		a, (hl)					; sam
34C9: 23       [39]     	inc		hl						;
34CA: B6       [46]     	or		(hl)					;
34CB: 23       [52]     	inc		hl						;
34CC: B6       [59]     	or		(hl)					;
34CD: 23       [65]     	inc		hl
34CE: B6       [72]     	or		(hl)
34CF: 79       [76]     	ld		a, c
34D0: E1       [86]     	pop		hl
34D1: C1       [96]     	pop		bc
34D2: C0       [101|107]	ret		nz
34D3: 37       [105]    	scf
34D4: C9       [115]    	ret
                        
34D5:                   x80_fcp_gz:
34D5: CDC534   [17]     	call	tstzero
34D8: D8       [22|28]  	ret		c
34D9: 3EFF     [29]     	ld		a, 0xff					; zx81
34DB: 1806     [41]     	jr		sign_to_c				;
                        
34DD:                   x80_fnot:
34DD: CDC534   [17]     	call	tstzero
34E0: 1805     [29]     	jr		fp_0_1					; zx81
                        									;
34E2:                   x80_fcp_lz:							;
34E2: AF       [ 4]     	xor		a						;
                        									;
34E3:                   sign_to_c:							;
34E3: 23       [ 6]     	inc		hl						;
34E4: AE       [13]     	xor		(hl)					;
34E5: 2B       [19]     	dec		hl						;
34E6: 07       [23]     	rlca							;
                        									;
34E7:                   fp_0_1:								;
34E7: E5       [11]     	push	hl						;
34E8: 3E00     [18]     	ld		a, 0
34EA: 77       [25]     	ld		(hl), a
34EB: 23       [31]     	inc		hl
34EC: 77       [38]     	ld		(hl), a
34ED: 23       [44]     	inc		hl
34EE: 17       [48]     	rla
34EF: 77       [55]     	ld		(hl), a
34F0: 1F       [59]     	rra
34F1: 23       [65]     	inc		hl
34F2: 77       [72]     	ld		(hl), a
34F3: 23       [78]     	inc		hl
34F4: 77       [85]     	ld		(hl), a
34F5: E1       [95]     	pop		hl
34F6: C9       [105]    	ret
                        
34F7:                   x80_fbor:
34F7: EB       [ 4]     	ex		de, hl
34F8: CDC534   [21]     	call	tstzero
34FB: EB       [25]     	ex		de, hl
34FC: D8       [30|36]  	ret		c
34FD: 37       [34]     	scf								; zx81
34FE: 18E7     [46]     	jr		fp_0_1					;
                        
3500:                   x80_fband:
3500: EB       [ 4]     	ex		de, hl
3501: CDC534   [21]     	call	tstzero
3504: EB       [25]     	ex		de, hl
3505: D0       [30|36]  	ret		nc
3506: A7       [34]     	and		a						; zx81
3507: 18DE     [46]     	jr		fp_0_1					;
                        
3509:                   x80_fbands:
3509: EB       [ 4]     	ex		de, hl
350A: CDC534   [21]     	call	tstzero
350D: EB       [25]     	ex		de, hl
350E: D0       [30|36]  	ret		nc
350F: 1B       [36]     	dec		de						; zx81
3510: AF       [40]     	xor		a						;
3511: 12       [47]     	ld		(de), a					;
3512: 1B       [53]     	dec		de						;
3513: 12       [60]     	ld		(de), a					;
3514: 13       [66]     	inc		de						; se
3515: 13       [72]     	inc		de						;
3516: C9       [82]     	ret								; zx81
                        									;
3517:                   x80_fcp:							;
3517: 78       [ 4]     	ld		a, b					;
3518: CB57     [12]     	bit		2, a					;
351A: 2001     [19|24]  	jr		nz, ex_or_not			;
351C: 3D       [23]     	dec		a						;
                        									;
351D:                   ex_or_not:							;
351D: 0F       [ 4]     	rrca							;
351E: 3008     [11|16]  	jr		nc, nu_or_str			;
3520: F5       [22]     	push	af						;
3521: E5       [33]     	push	hl						;
3522: CD2134   [50]     	call	x80_fxch				;
3525: D1       [60]     	pop		de						;
3526: EB       [64]     	ex		de, hl					;
3527: F1       [74]     	pop		af						;
                        									;
3528:                   nu_or_str:							;
3528: 0F       [ 4]     	rrca							;  |
3529: F5       [15]     	push	af						;  |
352A: CB57     [23]     	bit		2, a					; \|/
352C: 2005     [30|35]  	jr		nz, strings				; \|/
352E: CD0F30   [47]     	call	x80_fsub				;
3531: 1831     [59]     	jr		end_tests				;
                        									;
3533:                   strings:							;
3533: CDF12B   [17]     	call	stk_fetch				;
3536: D5       [28]     	push	de						;
3537: C5       [39]     	push	bc						;
3538: CDF12B   [56]     	call	stk_fetch				;
353B: E1       [66]     	pop		hl						;
                        									;
353C:                   byte_comp:							;
353C: 7C       [ 4]     	ld		a, h					;
353D: B5       [ 8]     	or		l						;
353E: E3       [27]     	ex		(sp), hl				;
353F: 78       [31]     	ld		a, b					;
3540: 200B     [38|43]  	jr		nz, sec_plus			;
3542: B1       [42]     	or		c						;
                        									;
3543:                   secnd_low:							;
3543: C1       [10]     	pop		bc						;
3544: 2804     [17|22]  	jr		z, both_null			;
3546: F1       [27]     	pop		af						;
3547: 3F       [31]     	ccf								;
3548: 1816     [43]     	jr		str_test				;
                        									;
354A:                   both_null:							;
354A: F1       [10]     	pop		af						;
354B: 1813     [22]     	jr		str_test				;
                        									;
354D:                   sec_plus:							;
354D: B1       [ 4]     	or		c						;
354E: 280D     [11|16]  	jr		z, frst_less			;
3550: 1A       [18]     	ld		a, (de)					;
3551: 96       [25]     	sub		(hl)					;
3552: 3809     [32|37]  	jr		c, frst_less			;
3554: 20ED     [39|44]  	jr		nz, secnd_low			;
3556: 0B       [45]     	dec		bc						;
3557: 13       [51]     	inc		de						;
3558: 23       [57]     	inc		hl						;
3559: E3       [76]     	ex		(sp), hl				;
355A: 2B       [82]     	dec		hl						;
355B: 18DF     [94]     	jr		byte_comp				;
                        									;
355D:                   frst_less:							;
355D: C1       [10]     	pop		bc						;
355E: F1       [20]     	pop		af						;
355F: A7       [24]     	and		a						;
                        									;
3560:                   str_test:							;
3560: F5       [11]     	push	af						;
                        	fwait							;
3561: EF       [22]     	rst	28h
                        	fstk0							;
3562: A0                	defb	0xa0
                        	fce								;
3563: 38                	defb	0x38
                        									;
3564:                   end_tests:							;
3564: F1       [10]     	pop		af						;
3565: F5       [21]     	push	af						;
3566: DCDD34   [31|38]  	call	c, x80_fnot				;
3569: F1       [41]     	pop		af
356A: F5       [52]     	push	af
356B: D4D534   [62|69]  	call	nc, x80_fcp_gz
356E: F1       [72]     	pop		af						; zx81
356F: 0F       [76]     	rrca							;
3570: D4DD34   [86|93]  	call	nc, x80_fnot			;
3573: C9       [96]     	ret								;
                        									;
3574:                   x80_fcat:							;
3574: CDF12B   [17]     	call	stk_fetch				;
3577: D5       [28]     	push	de						;
3578: C5       [39]     	push	bc						;
3579: CDF12B   [56]     	call	stk_fetch				;
357C: E1       [66]     	pop		hl						;
357D: E5       [77]     	push	hl						;
357E: D5       [88]     	push	de						;
357F: C5       [99]     	push	bc						;
3580: 09       [110]    	add		hl, bc					;
3581: 44       [114]    	ld		b, h					;
3582: 4D       [118]    	ld		c, l					;
3583: F7       [129]    	rst		bc_spaces				;
3584: CDB22A   [146]    	call	stk_store				;
3587: C1       [156]    	pop		bc						;
3588: E1       [166]    	pop		hl						;
3589: 78       [170]    	ld		a, b					;
358A: B1       [174]    	or		c						;
358B: 2802     [181|186]	jr		z, other_str			;
358D: EDB0     [197|21] 	ldir							;
                        									;
358F:                   other_str:							;
358F: C1       [10]     	pop		bc						;
3590: E1       [20]     	pop		hl						;
3591: 78       [24]     	ld		a, b					;
3592: B1       [28]     	or		c						;
3593: 2802     [35|40]  	jr		z, stk_pntrs			;
3595: EDB0     [51|21]  	ldir							;
                        									;
3597:                   stk_pntrs:							;
3597: 2A655C   [16]     	ld		hl, (stkend)			;
                        									
359A:                   l359a:								; zx81
359A: 54       [ 4]     	ld		d, h					;
359B: 5D       [ 8]     	ld		e, l					;
359C: 2B       [14]     	dec		hl
359D: 2B       [20]     	dec		hl
359E: 2B       [26]     	dec		hl
359F: 2B       [32]     	dec		hl
35A0: 2B       [38]     	dec		hl
35A1: C9       [48]     	ret
                        
35A2:                   x80_fchrs:							; zx81
35A2: CDD52D   [17]     	call	fp_to_a					;
35A5: 3808     [24|29]  	jr		c, report_b2			;
35A7: 2006     [31|36]  	jr		nz, report_b2			;
35A9: CD2D00   [48]     	call	bc_spaces1				;
35AC: 12       [55]     	ld		(de), a					;
35AD: 1868     [67]     	jr		x360f
                        
35AF:                   report_b2:							; zx81
35AF: CF       [11]     	rst		error_1					;
35B0: 0A                	defb	Integer_out_of_range	;
                        
35B1:                   x80_fval:
35B1: DF       [11]     	rst		get_ch
35B2: E5       [22]     	push	hl
35B3: 78       [26]     	ld		a, b
35B4: C6E3     [33]     	add		a, 227
35B6: 9F       [37]     	sbc		a, a
35B7: F5       [48]     	push	af
35B8: CDF12B   [65]     	call	stk_fetch				; zx81
35BB: D5       [76]     	push	de						;
35BC: 03       [82]     	inc		bc						;
35BD: F7       [93]     	rst		bc_spaces				;
35BE: E1       [103]    	pop		hl						;
35BF: ED535D5C [123]    	ld		(chadd), de				;
35C3: D5       [134]    	push	de						;
35C4: EDB0     [150|21] 	ldir							;
35C6: EB       [154]    	ex		de, hl					;
35C7: 2B       [160]    	dec		hl						;
35C8: 360D     [170]    	ld		(hl), ctrl_n_l			;
35CA: FDCB01BE [193]    	res		7, (iy + _flags)		;
35CE: CDFB24   [210]    	call	scanning
35D1: FE0D     [217]    	cp		ctrl_n_l
35D3: 2007     [224|229]	jr		nz, l35dc
35D5: E1       [234]    	pop		hl
35D6: F1       [244]    	pop		af
35D7: FDAE01   [263]    	xor		(iy + _flags)
35DA: E640     [270]    	and		%01000000
                        
35DC:                   l35dc:
35DC: C28A1C   [10|10]  	jp		nz, report_c
35DF: 225D5C   [26]     	ld		(chadd), hl				; zx81
35E2: FDCB01FE [49]     	set		7, (iy + _flags)		;
35E6: CDFB24   [66]     	call	scanning				;
35E9: E1       [76]     	pop		hl						;
35EA: 225D5C   [92]     	ld		(chadd), hl				;
35ED: 18A8     [104]    	jr		stk_pntrs				;
                        
35EF:                   x80_fstrs:
35EF: 3A8F5C   [13]     	ld		a, (attrt)				; se
35F2: 08       [17]     	ex		af, af'					;'
35F3: CD2D00   [34]     	call	bc_spaces1
35F6: 225B5C   [50]     	ld		(kcur), hl
35F9: E5       [61]     	push	hl
35FA: 2A515C   [77]     	ld		hl, (curchl)
35FD: E5       [88]     	push	hl
35FE: 3EFF     [95]     	ld		a, 0xff
3600: CD0116   [112]    	call	l1601
3603: CDE32D   [129]    	call	print_fp
3606: E1       [139]    	pop		hl
3607: CD1516   [156]    	call	chanflag
360A: 08       [160]    	ex		af, af'					;'se
360B: 328F5C   [173]    	ld		(attrt), a				;
360E: D1       [183]    	pop		de						; zx81
360F: 2A5B5C   [199]    	ld		hl, (kcur)				;
3612: A7       [203]    	and		a						;
3613: ED52     [218]    	sbc		hl, de					;
3615: 44       [222]    	ld		b, h					;
3616: 4D       [226]    	ld		c, l					;
                        
3617:                   x360f:								; zx81
3617: CDB22A   [17]     	call	stk_store				;
361A: EB       [21]     	ex		de, hl					;
361B: C9       [31]     	ret
                        
361C:                   x80_fread:
361C: 2A515C   [16]     	ld		hl, (curchl)
361F: E5       [27]     	push	hl
3620: CD7C20   [44]     	call	l207c
3623: CDD621   [61]     	call	chltchk
3626: 2001     [68|73]  	jr		nz, x3621
3628: 76       [72]     	halt
                        
3629:                   x3621:
3629: CDE615   [17]     	call	inputad
362C: 010000   [27]     	ld		bc, 0
362F: 3003     [34|39]  	jr		nc, x362c
3631: 0C       [38]     	inc		c
3632: F7       [49]     	rst		bc_spaces
3633: 12       [56]     	ld		(de), a
                        
3634:                   x362c:
3634: CDB22A   [17]     	call	stk_store
3637: E1       [27]     	pop		hl
3638: CD1516   [44]     	call	chanflag
363B: C39735   [54]     	jp		stk_pntrs
                        
363E:                   x80_fasc:							; zx81
363E: CDF12B   [17]     	call	stk_fetch				;
3641: 78       [21]     	ld		a, b					;
3642: B1       [25]     	or		c						;
3643: 2801     [32|37]  	jr		z, stk_code				;
3645: 1A       [39]     	ld		a, (de)					;
                        									;
3646:                   stk_code:							;
3646: C3282D   [10]     	jp		stack_a					;
                        									;
3649:                   x80_flen:							;
3649: CDF12B   [17]     	call	stk_fetch				;
364C: C32F2D   [27]     	jp		stack_bc1				;
                        									;
364F:                   x80_fdjnz:							;
364F: D9       [ 4]     	exx								;
3650: E5       [15]     	push	hl						;
3651: 21675C   [25]     	ld		hl, breg				;
3654: 35       [36]     	dec		(hl)					;
3655: E1       [46]     	pop		hl						;
3656: 2004     [53|58]  	jr		nz, jump_2				;
3658: 23       [59]     	inc		hl						;
3659: D9       [63]     	exx								;
365A: C9       [73]     	ret								;
                        									;
365B:                   x80_fjp:							;
365B: D9       [ 4]     	exx								;
                        									;
365C:                   jump_2:								;
365C: 5E       [ 7]     	ld		e, (hl)					;
365D: 7B       [11]     	ld		a, e					;
365E: 17       [15]     	rla								;
365F: 9F       [19]     	sbc		a, a					;
3660: 57       [23]     	ld		d, a					;
3661: 19       [34]     	add		hl, de					;
3662: D9       [38]     	exx								;
3663: C9       [48]     	ret								;
                        
3664:                   x80_fjpt:
3664: 13       [ 6]     	inc		de
3665: 13       [12]     	inc		de
3666: 1A       [19]     	ld		a, (de)					; zx81
3667: 1B       [25]     	dec		de						
3668: 1B       [31]     	dec		de
3669: A7       [35]     	and		a						; zx81
366A: 20EF     [42|47]  	jr		nz, x80_fjp				;
366C: D9       [46]     	exx								;
366D: 23       [52]     	inc		hl						;
366E: D9       [56]     	exx								;
366F: C9       [66]     	ret								;
                        									;
3670:                   x80_fce:							;
3670: F1       [10]     	pop		af						;
3671: D9       [14]     	exx								;
3672: E3       [33]     	ex		(sp), hl				;
3673: D9       [37]     	exx								;
3674: C9       [47]     	ret								;
                        									;
3675:                   x80_fmod:							;
                        	fwait							;
3675: EF       [11]     	rst	28h
                        	fst		1						; was 0
3676: C1                	defb	0xc0 + 1						
                        	fdel							;
3677: 02                	defb	0x02
                        	fmove							;
3678: 31                	defb	0x31
                        	fgt		1						; was 0
3679: E1                	defb	0xe0 + 1						
                        	fdiv							;
367A: 05                	defb	0x05
                        	fint							;
367B: 27                	defb	0x27
                        	fgt		1						; was 0
367C: E1                	defb	0xe0 + 1						
                        	fxch							;
367D: 01                	defb	0x01
                        	fst		1						; was 0
367E: C1                	defb	0xc0 + 1						
                        	fmul							;
367F: 04                	defb	0x04
                        	fsub							;
3680: 03                	defb	0x03
                        	fgt		1						; was 0
3681: E1                	defb	0xe0 + 1						
                        	fce								;
3682: 38                	defb	0x38
3683: C9       [21]     	ret								;
                        									;
3684:                   x80_fint:							;
                        	fwait							;
3684: EF       [11]     	rst	28h
                        	fmove							;
3685: 31                	defb	0x31
                        	fcp		.lz						;
3686: 36                	defb	0x09 + .lz						
                        	fjpt	x_neg					;
3687: 0005              	defb	0x00, x_neg					 - $
                        	ftrn							;
3689: 3A                	defb	0x3a
                        	fce								;
368A: 38                	defb	0x38
368B: C9       [21]     	ret								;
                        									;
368C:                   x_neg:								;
                        	fmove							;
368C: 31                	defb	0x31
                        	ftrn							;
368D: 3A                	defb	0x3a
                        	fst		0						;
368E: C0                	defb	0xc0 + 0						
                        	fsub							;
368F: 03                	defb	0x03
                        	fgt		0						;
3690: E0                	defb	0xe0 + 0						
                        	fxch							;
3691: 01                	defb	0x01
                        	fnot							;
3692: 30                	defb	0x30
                        	fjpt	exit					;
3693: 0004              	defb	0x00, exit					 - $
                        	fstk1							;
3695: A1                	defb	0xa1
                        	fsub							;
3696: 03                	defb	0x03
                        									;
3697:                   exit:								;
                        	fce								;
3697: 38                	defb	0x38
3698: C9       [10]     	ret								;
                        									;
3699:                   x80_fexp:							;
                        	fwait							;
3699: EF       [11]     	rst	28h
                        	fstk							;
369A: 34                	defb	0x34
369B: F138AA3B          	defb	0xf1, 0x38, 0xaa, 0x3b, 0x29
369F: 29                
                        	fmul							;
36A0: 04                	defb	0x04
                        	fmove							;
36A1: 31                	defb	0x31
                        	fint							;
36A2: 27                	defb	0x27
                        	fst		3						;
36A3: C3                	defb	0xc0 + 3						
                        	fsub							;
36A4: 03                	defb	0x03
                        	fmove							;
36A5: 31                	defb	0x31
                        	fadd							;
36A6: 0F                	defb	0x0f
                        	fstk1							;
36A7: A1                	defb	0xa1
                        	fsub							;
36A8: 03                	defb	0x03
36A9: 88133658          	defb	0x88, 0x13, 0x36, 0x58, 0x65, 0x66, 0x9d, 0x78
36AD: 65669D78          
36B1: 6540A260          	defb	0x65, 0x40, 0xa2, 0x60, 0x32, 0xc9, 0xe7, 0x21
36B5: 32C9E721          
36B9: F7AF24EB          	defb	0xf7, 0xaf, 0x24, 0xeb, 0x2f, 0xb0, 0xb0, 0x14
36BD: 2FB0B014          
36C1: EE7EBB94          	defb	0xee, 0x7e, 0xbb, 0x94, 0x58, 0xf1, 0x3a, 0x7e
36C5: 58F13A7E          
36C9: F8CF              	defb	0xf8, 0xcf				;
                        	fgt		3						;
36CB: E3                	defb	0xe0 + 3						
                        	fce								;
36CC: 38                	defb	0x38
36CD: CDD52D   [28]     	call	fp_to_a					;
36D0: 2007     [35|40]  	jr		nz, n_negtv				;
36D2: 3803     [42|47]  	jr		c, report6_2			;
36D4: 86       [49]     	add		a, (hl)					;
36D5: 3009     [56|61]  	jr		nc, result_ok			;
                        									;
36D7:                   report6_2:							;
36D7: CF       [11]     	rst		error_1					;
36D8: 05                	defb	Number_too_large		;
                        									;
36D9:                   n_negtv:							;
36D9: 3807     [ 7|12]  	jr		c, rslt_zero			;
36DB: 96       [14]     	sub		(hl)					;
36DC: 3004     [21|26]  	jr		nc, rslt_zero			;
36DE: ED44     [29]     	neg								;
                        									;
36E0:                   result_ok:							;
36E0: 77       [ 7]     	ld		(hl), a					;
36E1: C9       [17]     	ret								;
                        									;
36E2:                   rslt_zero:							;
                        	fwait							;
36E2: EF       [11]     	rst	28h
                        	fdel							;
36E3: 02                	defb	0x02
                        	fstk0							;
36E4: A0                	defb	0xa0
                        	fce								;
36E5: 38                	defb	0x38
36E6: C9       [21]     	ret								;
                        									;
36E7:                   x80_flogn:							;
                        	fwait							;
36E7: EF       [11]     	rst	28h
                        	frstk
36E8: 3D                	defb	0x3d
                        	fmove							; zx81
36E9: 31                	defb	0x31
                        	fcp		.gz						;
36EA: 37                	defb	0x09 + .gz						
                        	fjpt	valid					;
36EB: 0005              	defb	0x00, valid					 - $
                        	fce								;
36ED: 38                	defb	0x38
                        									;
36EE:                   x36e6:								;
36EE: CF       [11]     	rst		error_1					;
36EF: 09                	defb	Bad_argument			;
                        									;
36F0:                   valid:								;
                        	fce								;
36F0: 38                	defb	0x38
36F1: 7E       [ 7]     	ld		a, (hl)					;
36F2: 3680     [17]     	ld		(hl), 0x80				;
36F4: CD282D   [34]     	call	stack_a					;
                        	fwait							;
36F7: EF       [45]     	rst	28h
                        	fstk							;
36F8: 34                	defb	0x34
36F9: 3800              	defb	0x38, 0x00				;
                        	fsub							;
36FB: 03                	defb	0x03
                        	fxch							;
36FC: 01                	defb	0x01
                        	fmove							;
36FD: 31                	defb	0x31
                        	fstk							;
36FE: 34                	defb	0x34
36FF: F04CCCCC          	defb	0xf0, 0x4c, 0xcc, 0xcc, 0xcd
3703: CD                
                        	fsub							;
3704: 03                	defb	0x03
                        	fcp		.gz						;
3705: 37                	defb	0x09 + .gz						
                        	fjpt	gre_8					;
3706: 0009              	defb	0x00, gre_8					 - $
                        	fxch							;
3708: 01                	defb	0x01
                        	fstk1							;
3709: A1                	defb	0xa1
                        	fsub							;
370A: 03                	defb	0x03
                        	fxch							;
370B: 01                	defb	0x01
                        	fce								;
370C: 38                	defb	0x38
370D: 34       [56]     	inc		(hl)					;
                        	fwait							;
370E: EF       [67]     	rst	28h
                        									;
370F:                   gre_8:								;
                        	fxch							;
370F: 01                	defb	0x01
                        	fstk							;
3710: 34                	defb	0x34
3711: F0317217          	defb	0xf0, 0x31, 0x72, 0x17, 0xf8
3715: F8                
                        	fmul							;
3716: 04                	defb	0x04
                        	fxch							;
3717: 01                	defb	0x01
                        	fstk_5							;
3718: A2                	defb	0xa2
                        	fsub							;
3719: 03                	defb	0x03
                        	fstk_5							;
371A: A2                	defb	0xa2
                        	fsub							;
371B: 03                	defb	0x03
                        	fmove							;
371C: 31                	defb	0x31
                        	fstk							;
371D: 34                	defb	0x34
371E: 3220              	defb	0x32, 0x20				;
                        	fmul							;
3720: 04                	defb	0x04
                        	fstk_5							;
3721: A2                	defb	0xa2
                        	fsub							;
3722: 03                	defb	0x03
3723: 8C11AC14          	defb	0x8c, 0x11, 0xac, 0x14, 0x09, 0x56, 0xda, 0xa5
3727: 0956DAA5          
372B: 5930C55C          	defb	0x59, 0x30, 0xc5, 0x5c, 0x90, 0xaa, 0x9e, 0x70
372F: 90AA9E70          
3733: 6F61A1CB          	defb	0x6f, 0x61, 0xa1, 0xcb, 0xda, 0x96, 0xa4, 0x31
3737: DA96A431          
373B: 9FB4E7A0          	defb	0x9f, 0xb4, 0xe7, 0xa0, 0xfe, 0x5c, 0xfc, 0xea
373F: FE5CFCEA          
3743: 1B43CA36          	defb	0x1b, 0x43, 0xca, 0x36, 0xed, 0xa7, 0x9c, 0x7e
3747: EDA79C7E          
374B: 5EF06E23          	defb	0x5e, 0xf0, 0x6e, 0x23, 0x80, 0x93
374F: 8093              
                        	fmul							;
3751: 04                	defb	0x04
                        	fadd							;
3752: 0F                	defb	0x0f
                        	fce								;
3753: 38                	defb	0x38
3754: C9       [10]     	ret								;
                        									;
3755:                   x80_fget:							;
                        	fwait							;
3755: EF       [11]     	rst	28h
                        	fstk							;
3756: 34                	defb	0x34
3757: EE22F983          	defb	0xee, 0x22, 0xf9, 0x83, 0x6e
375B: 6E                
                        	fmul							;
375C: 04                	defb	0x04
                        	fmove							;
375D: 31                	defb	0x31
                        	fstk_5							;
375E: A2                	defb	0xa2
                        	fadd							;
375F: 0F                	defb	0x0f
                        	fint							;
3760: 27                	defb	0x27
                        	fsub							;
3761: 03                	defb	0x03
                        	fmove							;
3762: 31                	defb	0x31
                        	fadd							;
3763: 0F                	defb	0x0f
                        	fmove							;
3764: 31                	defb	0x31
                        	fadd							;
3765: 0F                	defb	0x0f
                        	fmove							;
3766: 31                	defb	0x31
                        	fabs							;
3767: 2A                	defb	0x2a
                        	fstk1							;
3768: A1                	defb	0xa1
                        	fsub							;
3769: 03                	defb	0x03
                        	fmove							;
376A: 31                	defb	0x31
                        	fcp		.gz						;
376B: 37                	defb	0x09 + .gz						
                        	fst		0						;
376C: C0                	defb	0xc0 + 0						
                        	fjpt	zplus					;
376D: 0005              	defb	0x00, zplus					 - $
                        	fdel							;
376F: 02                	defb	0x02
                        	fce								;
3770: 38                	defb	0x38
3771: C9       [21]     	ret								;
                        									;
3772:                   zplus:								;
                        	fstk1							;
3772: A1                	defb	0xa1
                        	fsub							;
3773: 03                	defb	0x03
                        	fxch							;
3774: 01                	defb	0x01
                        	fcp		.lz						;
3775: 36                	defb	0x09 + .lz						
                        	fjpt	yneg					;
3776: 0003              	defb	0x00, yneg					 - $
                        	fneg							;
3778: 1B                	defb	0x1b
                        									;
3779:                   yneg:								;
                        	fce								;
3779: 38                	defb	0x38
377A: C9       [10]     	ret								;
                        									;
377B:                   x80_fcos:							;
                        	fwait							;
377B: EF       [11]     	rst	28h
                        	fget							;
377C: 39                	defb	0x39
                        	fabs							;
377D: 2A                	defb	0x2a
                        	fstk1							;
377E: A1                	defb	0xa1
                        	fsub							;
377F: 03                	defb	0x03
                        	fgt		0						;
3780: E0                	defb	0xe0 + 0						
                        	fjpt	c_ent					;
3781: 0007              	defb	0x00, c_ent					 - $
                        	fneg							;
3783: 1B                	defb	0x1b
                        	fjp		c_ent					;
3784: 3304              	defb	0x33, c_ent					 - $
                        									;
3786:                   x80_fsin:							;
                        	fwait							;
3786: EF       [11]     	rst	28h
                        	fget							;
3787: 39                	defb	0x39
                        									;
3788:                   c_ent:								;
                        	fmove							;
3788: 31                	defb	0x31
                        	fmove							;
3789: 31                	defb	0x31
                        	fmul							;
378A: 04                	defb	0x04
                        	fmove							;
378B: 31                	defb	0x31
                        	fadd							;
378C: 0F                	defb	0x0f
                        	fstk1							;
378D: A1                	defb	0xa1
                        	fsub							;
378E: 03                	defb	0x03
378F: 8614E65C          	defb	0x86, 0x14, 0xe6, 0x5c, 0x1f, 0x0b, 0xa3, 0x8f
3793: 1F0BA38F          
3797: 38EEE915          	defb	0x38, 0xee, 0xe9, 0x15, 0x63, 0xbb, 0x23, 0xee
379B: 63BB23EE          
379F: 920DCDED          	defb	0x92, 0x0d, 0xcd, 0xed, 0xf1, 0x23, 0x5d, 0x1b
37A3: F1235D1B          
37A7: EA                	defb	0xea					;
                        	fmul							;
37A8: 04                	defb	0x04
                        	fce								;
37A9: 38                	defb	0x38
37AA: C9       [10]     	ret								;
                        									;
                        ;x80_ftan:							;
                        ;	fwait							;
                        ;	fmove							;
                        ;	fsin							;
                        ;	fxch							;
                        ;	fcos							;
                        ;	fdiv							;
                        ;	fce								;
                        ;	ret								;
                        									;
37AB:                   x80_fatan:							;
37AB: CD9732   [17]     	call	x80_frstk				;
37AE: 7E       [24]     	ld		a, (hl)					;
37AF: FE81     [31]     	cp		0x81					;
37B1: 380E     [38|43]  	jr		c, small				;
                        	fwait							;
37B3: EF       [49]     	rst	28h
                        	fstk1							;
37B4: A1                	defb	0xa1
                        	fneg							;
37B5: 1B                	defb	0x1b
                        	fxch							;
37B6: 01                	defb	0x01
                        	fdiv							;
37B7: 05                	defb	0x05
                        	fmove							;
37B8: 31                	defb	0x31
                        	fcp		.lz						;
37B9: 36                	defb	0x09 + .lz						
                        	fstkpix_5						;
37BA: A3                	defb	0xa3
                        	fxch							;
37BB: 01                	defb	0x01
                        	fjpt	cases					;
37BC: 0007              	defb	0x00, cases					 - $
                        	fneg							;
37BE: 1B                	defb	0x1b
                        	fjp		cases					;
37BF: 3304              	defb	0x33, cases					 - $
                        									;
37C1:                   small:								;
                        	fwait							;
37C1: EF       [11]     	rst	28h
                        	fstk0							;
37C2: A0                	defb	0xa0
                        									;
37C3:                   cases:								;
                        	fxch							;
37C3: 01                	defb	0x01
                        	fmove							;
37C4: 31                	defb	0x31
                        	fmove							;
37C5: 31                	defb	0x31
                        	fmul							;
37C6: 04                	defb	0x04
                        	fmove							;
37C7: 31                	defb	0x31
                        	fadd							;
37C8: 0F                	defb	0x0f
                        	fstk1							;
37C9: A1                	defb	0xa1
                        	fsub							;
37CA: 03                	defb	0x03
37CB: 8C10B213          	defb	0x8c, 0x10, 0xb2, 0x13, 0x0e, 0x55, 0xe4, 0x8d
37CF: 0E55E48D          
37D3: 5839BC5B          	defb	0x58, 0x39, 0xbc, 0x5b, 0x98, 0xfd, 0x9e, 0x00
37D7: 98FD9E00          
37DB: 3675A0DB          	defb	0x36, 0x75, 0xa0, 0xdb, 0xe8, 0xb4, 0x63, 0x42
37DF: E8B46342          
37E3: C4E6B509          	defb	0xc4, 0xe6, 0xb5, 0x09, 0x36, 0xbe, 0xe9, 0x36
37E7: 36BEE936          
37EB: 731B5DEC          	defb	0x73, 0x1b, 0x5d, 0xec, 0xd8, 0xde, 0x63, 0xbe
37EF: D8DE63BE          
37F3: F061A1B3          	defb	0xf0, 0x61, 0xa1, 0xb3, 0x0c
37F7: 0C                
                        	fmul							;
37F8: 04                	defb	0x04
                        	fadd							;
37F9: 0F                	defb	0x0f
                        	fce								;
37FA: 38                	defb	0x38
37FB: C9       [10]     	ret								;
                        									;
37FC:                   x80_fasin:							;
                        	fwait							;
37FC: EF       [11]     	rst	28h
                        	fmove							;
37FD: 31                	defb	0x31
                        	fmove							;
37FE: 31                	defb	0x31
                        	fmul							;
37FF: 04                	defb	0x04
                        	fstk1							;
3800: A1                	defb	0xa1
                        	fsub							;
3801: 03                	defb	0x03
                        	fneg							;
3802: 1B                	defb	0x1b
                        	fsqrt							;
3803: 28                	defb	0x28
                        	fstk1							;
3804: A1                	defb	0xa1
                        	fadd							;
3805: 0F                	defb	0x0f
                        	fdiv							;
3806: 05                	defb	0x05
                        	fatan							;
3807: 24                	defb	0x24
                        	fmove							;
3808: 31                	defb	0x31
                        	fadd							;
3809: 0F                	defb	0x0f
                        	fce								;
380A: 38                	defb	0x38
380B: C9       [21]     	ret								;
                        									;
380C:                   x80_facos:							;
                        	fwait							;
380C: EF       [11]     	rst	28h
                        	fasin							;
380D: 22                	defb	0x22
                        	fstkpix_5						;
380E: A3                	defb	0xa3
                        	fsub							;
380F: 03                	defb	0x03
                        	fneg							;
3810: 1B                	defb	0x1b
                        	fce								;
3811: 38                	defb	0x38
3812: C9       [21]     	ret								;
                        
3813:                   x80_fsqrt:							; se
                        	fwait							;
3813: EF       [11]     	rst	28h
                        	frstk							;
3814: 3D                	defb	0x3d
                        	fst		3						;
3815: C3                	defb	0xc0 + 3						
                        	fce								;
3816: 38                	defb	0x38
3817: 7E       [18]     	ld		a, (hl)					;
3818: A7       [22]     	and		a						;
3819: C8       [27|33]  	ret		z						;
381A: 23       [33]     	inc		hl						;
381B: CB7E     [45]     	bit		7, (hl)					;
381D: C2EE36   [55|55]  	jp		nz, x36e6				;
3820: 21A15C   [65]     	ld		hl, mem_3				;
3823: 7E       [72]     	ld		a, (hl)					;
3824: EE80     [79]     	xor		%10000000				;
3826: CB2F     [87]     	sra		a						;
3828: 3C       [91]     	inc		a						;
3829: 2804     [98|103] 	jr		z, l382f				;
382B: F22F38   [108|108]	jp		p, l382f				;
382E: 3D       [112]    	dec		a						;
                        									;
382F:                   l382f:								;
382F: EE80     [ 7]     	xor		%10000000				;
3831: 77       [14]     	ld		(hl), a					;
                        	fwait							;
3832: EF       [25]     	rst	28h
                        									;
3833:                   l3833:								;
                        	fmove							;
3833: 31                	defb	0x31
                        	fgt		3						;
3834: E3                	defb	0xe0 + 3						
                        	fst		4						;
3835: C4                	defb	0xc0 + 4						
                        	fdiv							;
3836: 05                	defb	0x05
                        	fgt		3						;
3837: E3                	defb	0xe0 + 3						
                        	fadd							;
3838: 0F                	defb	0x0f
                        	fstk_5							;
3839: A2                	defb	0xa2
                        	fmul							;
383A: 04                	defb	0x04
                        	fst		3						;
383B: C3                	defb	0xc0 + 3						
                        	fgt		4						;
383C: E4                	defb	0xe0 + 4						
                        	fsub							;
383D: 03                	defb	0x03
                        	fabs							;
383E: 2A                	defb	0x2a
                        	fcp		.gz						;
383F: 37                	defb	0x09 + .gz						
                        	fjpt	l3833					;
3840: 00F3              	defb	0x00, l3833					 - $
                        	fdel							;
3842: 02                	defb	0x02
                        	fgt		3						;
3843: E3                	defb	0xe0 + 3						
                        	fce								;
3844: 38                	defb	0x38
3845: C9       [10]     	ret
                        
3846:                   x80_ftop:							; zx81
                        	fwait							;
3846: EF       [11]     	rst	28h
                        	fxch							;
3847: 01                	defb	0x01
                        	fmove							;
3848: 31                	defb	0x31
                        	fnot							;
3849: 30                	defb	0x30
                        	fjpt	xis0					;
384A: 0008              	defb	0x00, xis0					 - $
                        	flogn							;
384C: 25                	defb	0x25
                        	fmul							;
384D: 04                	defb	0x04
                        	fce								;
384E: 38                	defb	0x38
384F: C39936   [21]     	jp		x80_fexp				;
                        									;
3852:                   xis0:								;
                        	fdel							;
3852: 02                	defb	0x02
                        	fmove							;
3853: 31                	defb	0x31
                        	fnot							;
3854: 30                	defb	0x30
                        	fjpt	one						;
3855: 000A              	defb	0x00, one						 - $
                        	fstk0							;
3857: A0                	defb	0xa0
                        	fxch							;
3858: 01                	defb	0x01
                        	fcp		.gz						;
3859: 37                	defb	0x09 + .gz						
                        	fjpt	last					;
385A: 0007              	defb	0x00, last					 - $
                        	fstk1							;
385C: A1                	defb	0xa1
                        	fxch							;
385D: 01                	defb	0x01
                        	fdiv							;
385E: 05                	defb	0x05
                        									;
385F:                   one:								;
                        	fdel							;
385F: 02                	defb	0x02
                        	fstk1							;
3860: A1                	defb	0xa1
                        									;
3861:                   last:								;
                        	fce								;
3861: 38                	defb	0x38
3862: C9       [10]     	ret								;
                        
3863:                   x80_fhexs:							; se
3863: CDA22D   [17]     	call	fp_to_bc				;
3866: DAAF35   [27|27]  	jp		c, report_b2			;
3869: C2AF35   [37|37]  	jp		nz, report_b2			;
386C: C5       [48]     	push	bc						;
386D: 010400   [58]     	ld		bc, 4					;
3870: F7       [69]     	rst		bc_spaces				;
3871: E1       [79]     	pop		hl						;
3872: D5       [90]     	push	de						;
3873: 7C       [94]     	ld		a, h					;
3874: CD8238   [111]    	call	l3882					;
3877: 7D       [115]    	ld		a, l					;
3878: CD8238   [132]    	call	l3882					;
387B: D1       [142]    	pop		de						;
387C: CDB22A   [159]    	call	stk_store				;
387F: C39735   [169]    	jp		stk_pntrs				;
                        									;
3882:                   l3882:								;
3882: 67       [ 4]     	ld		h, a					;
3883: 07       [ 8]     	rlca							;
3884: 07       [12]     	rlca							;
3885: 07       [16]     	rlca							;
3886: 07       [20]     	rlca							;
3887: CD8B38   [37]     	call	l388b					;
388A: 7C       [41]     	ld		a, h					;
                        									;
388B:                   l388b:								;
388B: E60F     [ 7]     	and		%00001111				;
388D: FE0A     [14]     	cp		0x0a					;
388F: 3802     [21|26]  	jr		c, l3893				;
3891: C607     [28]     	add		a, 7					;
                        									;
3893:                   l3893:								;
3893: C630     [ 7]     	add		a, 0x30					;
3895: 12       [14]     	ld		(de), a					;
3896: 13       [20]     	inc		de						;
3897: C9       [30]     	ret								;
                        									;
3898:                   l3898:								;
3898: 2A365C   [16]     	ld		hl, (chars)				;
389B: 24       [20]     	inc		h						;
389C: 79       [24]     	ld		a, c					;
389D: 0F       [28]     	rrca							;
389E: 0F       [32]     	rrca							;
389F: 0F       [36]     	rrca							;
38A0: E6E0     [43]     	and     %11100000				;
38A2: A8       [47]     	xor		b						;
38A3: 5F       [51]     	ld		e, a					;
38A4: 79       [55]     	ld		a, c					;
38A5: E618     [62]     	and		%00011000				;
38A7: EE40     [69]     	xor		%01000000				;
38A9: 57       [73]     	ld		d, a					;
38AA: 0602     [80]     	ld		b, 2					;
38AC: C33B25   [90]     	jp		l253b					;
                        									;
38AF:                   l38af:								;
38AF: FEFF     [ 7]     	cp		OK						;
38B1: C8       [12|18]  	ret		z						;
38B2: FE08     [19]     	cp		STOP_statement			;
38B4: C8       [24|30]  	ret		z						;
38B5: 2A7F5C   [40]     	ld		hl, (onerrflag)			;
38B8: 7C       [44]     	ld		a, h					;
38B9: FEFF     [51]     	cp		0xff					;
38BB: C8       [56|62]  	ret		z						;
38BC: FEFE     [63]     	cp		0xfe					;
38BE: 2807     [70|75]  	jr		z, l38c7				;
38C0: 22425C   [86]     	ld		(newppc), hl			;
38C3: FD360A00 [105]    	ld		(iy + _nsppc), 0		;
                        									;
38C7:                   l38c7:								;
38C7: FD3600FF [19]     	ld		(iy + _errnr), OK		;
38CB: C35515   [29]     	jp		l1555					;
                        									;
38CE:                   l38ce:								;
38CE: 01FDBF   [10]     	ld		bc, ay_128dat			;
38D1: ED79     [22]     	out		(c), a					;
38D3: 5F       [26]     	ld		e, a					;
38D4: FD7E0E   [45]     	ld		a, (iy + _bordcr)		;
38D7: 0F       [49]     	rrca							;
38D8: 0F       [53]     	rrca							;
38D9: 0F       [57]     	rrca							;
38DA: E607     [64]     	and		7						;
38DC: 01F600   [74]     	ld		bc, ay_tmxdat			;
38DF: ED59     [86]     	out		(c), e					;
38E1: D3FE     [97]     	out		(ula), a				;
38E3: C9       [107]    	ret								;
                        									;
38E4:                   l38e6:								;
38E4: CD5E10   [17]     	call	l105e					;
38E7: ED43495C [37]     	ld		(eppc), bc				;
                        									;
38EB:                   l38ec:								;
38EB: CDB016   [17]     	call	setmin					;
38EE: CD6E0D   [34]     	call	clslower				;
38F1: FDCB37AE [57]     	res		5, (iy + _flage)		;
38F5: CDA90F   [74]     	call	edit_key				;
38F8: ED7B3D5C [94]     	ld		sp, (errsp)				;
38FC: C38E0F   [104]    	jp		l0f8e					;
                        									;
38FF:                   l38ff:								;
38FF: FFFF              	defw	0xffff					;
                        									;
3901:                   syntax3:							;
3901: CD991E   [17]     	call	find_int				;
3904: 78       [21]     	ld		a, b					;
3905: FE40     [28]     	cp		0x40					;
3907: 180B     [40]     	jr		l3914					;
                        									;
3909:                   l3909:								;
3909: CD1539   [17]     	call	l3915					;
390C: 78       [21]     	ld		a, b					;
390D: FE20     [28]     	cp		' '						;
390F: 300A     [35|40]  	jr		nc, l391b				;
3911: 79       [39]     	ld		a, c					;
3912: FE18     [46]     	cp		0x18					;
                        									;
3914:                   l3914:								;
3914: D8       [ 5|11]  	ret		c						;
                        									;
3915:                   l3915:								;
3915: CD0723   [17]     	call	stk_to_bc				;
3918: 7A       [21]     	ld		a, d					;
3919: 83       [25]     	add		a, e					;
391A: D0       [30|36]  	ret		nc						;
                        									;
391B:                   l391b:								;
391B: CF       [11]     	rst		error_1					;
391C: 0A                	defb	Integer_out_of_range	;
                        									;
391D:                   l391d:								;
391D: FDCB015E [20]     	bit		3, (iy + _flags)		;
3921: C2650B   [30|30]  	jp		nz, l0b65				;
3924: C3240B   [40]     	jp		l0b24					;
                        									;
3927:                   l3927:								;
3927: E7       [11]     	rst		next_ch					;
3928: CDEE1B   [28]     	call	check_end				;
392B: 3A3B5C   [41]     	ld		a, (flags)				;
392E: F608     [48]     	or		%00001000				;
3930: C31F1F   [58]     	jp		l1f1f					;
                        									;
3933:                   l3934:								;
3933: CD851E   [17]     	call	poke1					;
3936: 5F       [21]     	ld		e, a					;
3937: 51       [25]     	ld		d, c					;
3938: 78       [29]     	ld		a, b					;
3939: A7       [33]     	and		a						;
393A: C24422   [43|43]  	jp		nz, invcolerr			;
393D: 79       [47]     	ld		a, c					;
393E: FE41     [54]     	cp		65						;
3940: D24422   [64|64]  	jp		nc, invcolerr			;
                        									;
3943:                   l3943:								;
3943: 013BBF   [10]     	ld		bc, ulaplus_reg			;
3946: ED79     [22]     	out		(c), a					;
3948: 06FF     [29]     	ld		b, 0xff					;
394A: ED59     [41]     	out		(c), e					;
394C: C9       [51]     	ret								;
                        									;
394D:                   l394d:								;
394D: 3E40     [ 7]     	ld		a, 64					;
394F: 1E00     [14]     	ld		e, 0					;
3951: CD4339   [31]     	call	l3943					;
                        									;
3954:                   l3954:								;
3954: AF       [ 4]     	xor		a						;
3955: 21005B   [14]     	ld		hl, palbuf				;
                        									;
3958:                   l3958:								;
3958: 5E       [ 7]     	ld		e, (hl)					;
3959: CD4339   [24]     	call	l3943					;
395C: 3C       [28]     	inc		a						;
395D: 2C       [32]     	inc		l						;
395E: FE40     [39]     	cp		64						;
3960: 38F6     [46|51]  	jr		c, l3958				;
3962: C9       [56]     	ret								;
                        									;
3963:                   l3963:								;
3963: FDCB0156 [20]     	bit		2, (iy + _flags)		;
3967: 2020     [27|32]  	jr		nz, l3989				;
3969: FE15     [34]     	cp		0x15					;
396B: 300A     [41|46]  	jr		nc, l3977				;
396D: FE0F     [48]     	cp		0x0f					;
396F: 3806     [55|60]  	jr		c, l3977				;
3971: FDCB01D6 [78]     	set		2, (iy + _flags)		;
3975: 1816     [90]     	jr		l398d					;
                        									;
3977:                   l3977:								;
3977: FE06     [ 7]     	cp		6						;
3979: 3804     [14|19]  	jr		c, l397f				;
397B: FEA5     [21]     	cp		0xa5					;
397D: 380E     [28|33]  	jr		c, l398d				;
                        									;
397F:                   l397f:								;
397F: D9       [ 4]     	exx								;
3980: D5       [15]     	push	de						;
3981: D9       [19]     	exx								;
3982: CD9039   [36]     	call	l3990					;
3985: D9       [40]     	exx								;
3986: D1       [50]     	pop		de						;
3987: D9       [54]     	exx								;
3988: C9       [64]     	ret								;
                        									;
3989:                   l3989:								;
3989: FDCB0196 [23]     	res		2, (iy + _flags)		;
                        									;
398D:                   l398d:								;
398D: C3810F   [10]     	jp		add_char				;
                        									;
3990:                   l3990:								;
3990: D5       [11]     	push	de						;
3991: DDE1     [25]     	pop		ix						;
3993: D6A5     [32]     	sub		0xa5					;
3995: 11A800   [42]     	ld		de, k_token - 1			;
3998: F5       [53]     	push	af						;
3999: CD410C   [70]     	call	l0c41					;
399C: 3809     [77|82]  	jr		c, l39a7				;
399E: 3E20     [84]     	ld		a, ' '					;
39A0: FDCB0146 [104]    	bit		0, (iy + _flags)		;
39A4: CCC639   [114|121]	call	z, l39c6				;
                        									;
39A7:                   l39a7:								;
39A7: 1A       [ 7]     	ld		a, (de)					;
39A8: E67F     [14]     	and		%01111111				;
39AA: CDC639   [31]     	call	l39c6					;
39AD: 1A       [38]     	ld		a, (de)					;
39AE: 13       [44]     	inc		de						;
39AF: 87       [48]     	add		a, a					;
39B0: 30F5     [55|60]  	jr		nc, l39a7				;
39B2: D1       [65]     	pop		de						;
39B3: FE24     [72]     	cp		'$'						;
39B5: 2803     [79|84]  	jr		z, l39ba				;
39B7: FE82     [86]     	cp		0x82					;
39B9: D8       [91|97]  	ret		c						;
                        									;
39BA:                   l39ba:								;
39BA: 7A       [ 4]     	ld		a, d					;
39BB: FE26     [11]     	cp		'&'						;
39BD: C8       [16|22]  	ret		z						;
39BE: FE60     [23]     	cp		0x60					;
39C0: C8       [28|34]  	ret		z						;
39C1: FE03     [35]     	cp		0x03					;
39C3: D8       [40|46]  	ret		c						;
39C4: 3E20     [47]     	ld		a, ' '					;
                        									;
39C6:                   l39c6:								;
39C6: D5       [11]     	push	de						;
39C7: DDE5     [26]     	push	ix						;
39C9: D1       [36]     	pop		de						;
39CA: D7       [47]     	rst		print_a					;
39CB: D5       [58]     	push	de						;
39CC: DDE1     [72]     	pop		ix						;
39CE: D1       [82]     	pop		de						;
39CF: C9       [92]     	ret								;
                        									;
39D0:                   l39d0:								;
39D0: FDCB00FE [23]     	set		7, (iy + _errnr)		;
39D4: CD2C0F   [40]     	call	editor					;
39D7: DD2A595C [60]     	ld		ix, (eline)				;
                        									;
39DB:                   l39db:								;
39DB: DDE5     [15]     	push	ix						;
39DD: 210201   [25]     	ld		hl, k_token + 89		;
39E0: 0EBA     [32]     	ld		c, tk_usr - 6			;
39E2: CD9B3A   [49]     	call	l3a9b					;
39E5: FE49     [56]     	cp		'I'						;
39E7: 2003     [63|68]  	jr		nz, l39ec				;
39E9: CD153A   [80]     	call	l3a15					;
                        									;
39EC:                   l39ec:								;
39EC: DDE1     [14]     	pop		ix						;
39EE: 21A900   [24]     	ld		hl, k_token				;
39F1: 0E9F     [31]     	ld		c, tk_rnd - 6			;
                        									;
39F3:                   l39f3:								;
39F3: CD9B3A   [17]     	call	l3a9b					;
39F6: FE0D     [24]     	cp		ctrl_n_l				;
39F8: C8       [29|35]  	ret		z						;
39F9: FEEA     [36]     	cp		tk_rem					;
39FB: C8       [41|47]  	ret		z						;
39FC: C3013A   [51]     	jp		l3a01					;
                        									;
39FF:                   l39ff:								;
39FF: FFFF              	defw	0xffff					;
                        									;
3A01:                   l3a01:								;
3A01: FE22     [ 7]     	cp		'"'						;
3A03: 2010     [14|19]  	jr		nz, l3a15				;
                        									;
3A05:                   l3a05:								;
3A05: DD23     [10]     	inc		ix						;
3A07: DD7E00   [29]     	ld		a, (ix + 0x00)			;
3A0A: FE0D     [36]     	cp		ctrl_n_l				;
3A0C: C8       [41|47]  	ret		z						;
3A0D: FE22     [48]     	cp		'"'						;
3A0F: 20F4     [55|60]  	jr		nz, l3a05				;
3A11: DD23     [65]     	inc		ix						;
3A13: 18DE     [77]     	jr		l39f3					;
                        									;
3A15:                   l3a15:								;
3A15: DDE5     [15]     	push	ix						;
3A17: D1       [25]     	pop		de						;
3A18: BE       [32]     	cp		(hl)					;
3A19: 2025     [39|44]  	jr		nz, l3a40				;
                        									;
3A1B:                   l3a1b:								;
3A1B: DD23     [10]     	inc		ix						;
                        									;
3A1D:                   l3a1d:								;
3A1D: 23       [ 6]     	inc		hl						;
                        									;
3A1E:                   l3a1e:								;
3A1E: CD9B3A   [17]     	call	l3a9b					;
3A21: FE2E     [24]     	cp		'.'						;
3A23: 283A     [31|36]  	jr		z, l3a5f				;
3A25: 46       [38]     	ld		b, (hl)					;
3A26: FE20     [45]     	cp		' '						;
3A28: 2828     [52|57]  	jr		z, l3a52				;
3A2A: F5       [63]     	push	af						;
3A2B: 78       [67]     	ld		a, b					;
3A2C: FE20     [74]     	cp		' '						;
3A2E: 2021     [81|86]  	jr		nz, l3a51				;
3A30: F1       [91]     	pop		af						;
3A31: 23       [97]     	inc		hl						;
3A32: 18EA     [109]    	jr		l3a1e					;
                        									;
3A34:                   l3a34:								;
3A34: CB7E     [12]     	bit		7, (hl)					;
3A36: 28E3     [19|24]  	jr		z, l3a1b				;
3A38: DD7E01   [38]     	ld		a, (ix + 0x01)			;
3A3B: CD9E3A   [55]     	call	l3a9e					;
3A3E: 301F     [62|67]  	jr		nc, l3a5f				;
                        									;
3A40:                   l3a40:								;
3A40: 0C       [ 4]     	inc		c						;
3A41: D5       [15]     	push	de						;
3A42: DDE1     [29]     	pop		ix						;
                        									;
3A44:                   l3a44:								;
3A44: CB7E     [12]     	bit		7, (hl)					;
3A46: 23       [18]     	inc		hl						;
3A47: 28FB     [25|30]  	jr		z, l3a44				;
3A49: 79       [29]     	ld		a, c					;
3A4A: A7       [33]     	and		a						;
3A4B: 20A6     [40|45]  	jr		nz, l39f3				;
3A4D: DD23     [50]     	inc		ix						;
                        									;
3A4F:                   l3a4f:								;
3A4F: 188A     [12]     	jr		l39db					;
                        									;
3A51:                   l3a51:								;
3A51: F1       [10]     	pop		af						;
                        									;
3A52:                   l3a52:								;
3A52: CBB8     [ 8]     	res		7, b					;
3A54: B8       [12]     	cp		b						;
3A55: 28DD     [19|24]  	jr		z, l3a34				;
3A57: 78       [23]     	ld		a, b					;
3A58: FE20     [30]     	cp		' '						;
3A5A: 20E4     [37|42]  	jr		nz, l3a40				;
3A5C: 23       [43]     	inc		hl						;
3A5D: 18BE     [55]     	jr		l3a1d					;
                        									;
3A5F:                   l3a5f:								;
3A5F: DD7E01   [19]     	ld		a, (ix + 0x01)			;
3A62: FE20     [26]     	cp		' '						;
3A64: 2002     [33|38]  	jr		nz, l3a68				;
3A66: DD23     [43]     	inc		ix						;
                        									;
3A68:                   l3a68:								;
3A68: 1B       [ 6]     	dec		de						;
3A69: 1A       [13]     	ld		a, (de)					;
3A6A: FE20     [20]     	cp		' '						;
3A6C: 2806     [27|32]  	jr		z, l3a74				;
3A6E: 13       [33]     	inc		de						;
3A6F: CD9E3A   [50]     	call	l3a9e					;
3A72: 38CC     [57|62]  	jr		c, l3a40				;
                        									;
3A74:                   l3a74:								;
3A74: 0C       [ 4]     	inc		c						;
3A75: 0C       [ 8]     	inc		c						;
3A76: 0C       [12]     	inc		c						;
3A77: 0C       [16]     	inc		c						;
3A78: 0C       [20]     	inc		c						;
3A79: 0C       [24]     	inc		c						;
3A7A: DD7100   [43]     	ld		(ix + 0x00), c			;
3A7D: 2A5B5C   [59]     	ld		hl, (kcur)				;
3A80: A7       [63]     	and		a						;
3A81: ED52     [78]     	sbc		hl, de					;
3A83: 380D     [85|90]  	jr		c, l3a92				;
3A85: 19       [96]     	add		hl, de					;
3A86: DDE5     [111]    	push	ix						;
3A88: C1       [121]    	pop		bc						;
3A89: 37       [125]    	scf								;
3A8A: ED42     [140]    	sbc		hl, bc					;
3A8C: 3004     [147|152]	jr		nc, l3a92				;
3A8E: ED535B5C [167]    	ld		(kcur), de				;
                        									;
3A92:                   l3a92:								;
3A92: D5       [11]     	push	de						;
3A93: DDE3     [34]     	ex		(sp), ix				;
3A95: E1       [44]     	pop		hl						;
3A96: CDE519   [61]     	call	reclaim_1				;
3A99: 18B4     [73]     	jr		l3a4f					;
                        									;
3A9B:                   l3a9b:								;
3A9B: DD7E00   [19]     	ld		a, (ix + 0x00)			;
                        									;
3A9E:                   l3a9e:								;
3A9E: FDCB074E [20]     	bit		1, (iy + _mode)			;
3AA2: C0       [25|31]  	ret		nz						;
3AA3: CD8D2C   [42]     	call	alpha					;
3AA6: D0       [47|53]  	ret		nc						;
3AA7: E6DF     [54]     	and		%11011111				;
3AA9: C9       [64]     	ret								;
                        									;
3AAA:                   l3aa9:								;
3AAA: 2A655C   [16]     	ld		hl, (stkend)			;
3AAD: 0602     [23]     	ld		b, 2					;
3AAF: FE0D     [30]     	cp		ctrl_n_l				;
3AB1: 2815     [37|42]  	jr		z, l3ac8				;
3AB3: FE3A     [44]     	cp		':'						;
3AB5: 2811     [51|56]  	jr		z, l3ac8				;
3AB7: CD821C   [68]     	call	class_6					;
3ABA: 0601     [75]     	ld		b, 1					;
                        									;
3ABC:                   l3abc:								;
3ABC: DF       [11]     	rst		get_ch					;
3ABD: FE2C     [18]     	cp		','						;
3ABF: 2007     [25|30]  	jr		nz, l3ac8				;
3AC1: C5       [36]     	push	bc						;
3AC2: CD811C   [53]     	call	sexpt1num				;
3AC5: C1       [63]     	pop		bc						;
3AC6: 10F4     [71|76]  	djnz	l3abc					;
                        									;
3AC8:                   l3ac8:								;
3AC8: CDEE1B   [17]     	call	check_end				;
3ACB: 78       [21]     	ld		a, b					;
3ACC: FE02     [28]     	cp		2						;
3ACE: 2806     [35|40]  	jr		z, l3ad6				;
3AD0: FE01     [42]     	cp		1						;
3AD2: 2805     [49|54]  	jr		z, l3ad9				;
3AD4: 1806     [61]     	jr		l3adc					;
                        									;
3AD6:                   l3ad6:								;
                        	fwait							;
3AD6: EF       [11]     	rst	28h
                        	fstk10							;
3AD7: A4                	defb	0xa4
                        	fce								;
3AD8: 38                	defb	0x38
                        									;
3AD9:                   l3ad9:								;
                        	fwait							;
3AD9: EF       [11]     	rst	28h
                        	fstk10							;
3ADA: A4                	defb	0xa4
                        	fce								;
3ADB: 38                	defb	0x38
                        									;
3ADC:                   l3adc:								;
                        	fwait							;
3ADC: EF       [11]     	rst	28h
                        	fst		1						;
3ADD: C1                	defb	0xc0 + 1						
                        	fdel							;
3ADE: 02                	defb	0x02
                        	fst		0						;
3ADF: C0                	defb	0xc0 + 0						
                        	fdel							;
3AE0: 02                	defb	0x02
                        	fce								;
3AE1: 38                	defb	0x38
3AE2: ED5B535C [31]     	ld		de, (prog)				;
3AE6: 2A4B5C   [47]     	ld		hl, (vars)				;
3AE9: B7       [51]     	or		a						;
3AEA: ED52     [66]     	sbc		hl, de					;
3AEC: C8       [71|77]  	ret		z						;
3AED: CD443C   [88]     	call	l3c44					;
3AF0: 2A995C   [104]    	ld		hl, (mem_1_2)			;
3AF3: CDA930   [121]    	call	l30a9					;
3AF6: DA8B28   [131|131]	jp		c, parerr				;
3AF9: EB       [135]    	ex		de, hl					;
3AFA: 2A945C   [151]    	ld		hl, (mem_0_2)			;
3AFD: 1802     [163]    	jr		l3b01					;
                        									;
3AFF:                   l3aff:								;
3AFF: FFFF              	defw	0xffff					;
                        									;
3B01:                   l3b01:								;
3B01: 19       [11]     	add		hl, de					;
3B02: 110040   [21]     	ld		de, 16384				;
3B05: B7       [25]     	or		a						;
3B06: ED52     [40]     	sbc		hl, de					;
3B08: D28B28   [50|50]  	jp		nc, parerr				;
3B0B: 2A535C   [66]     	ld		hl, (prog)				;
                        									;
3B0E:                   l3b0e:								;
3B0E: CDB819   [17]     	call	next_one				;
3B11: 23       [23]     	inc		hl						;
3B12: 23       [29]     	inc		hl						;
3B13: 22A95C   [45]     	ld		(mem_4_3), hl			;
3B16: 23       [51]     	inc		hl						;
3B17: 23       [57]     	inc		hl						;
3B18: ED539C5C [77]     	ld		(mem_2), de				;
                        									;
3B1C:                   l3b1c:								;
3B1C: 7E       [ 7]     	ld		a, (hl)					;
3B1D: CDB118   [24]     	call	number					;
3B20: FE0D     [31]     	cp		ctrl_n_l				;
3B22: 2805     [38|43]  	jr		z, l3b29				;
3B24: CD633B   [55]     	call	l3b63					;
3B27: 18F3     [67]     	JR		l3b1c					;
                        									;
3B29:                   l3b29:								;
3B29: ED5B9C5C [20]     	ld		de, (mem_2)				;
3B2D: 2A4B5C   [36]     	ld		hl, (vars)				;
3B30: A7       [40]     	and		a						;
3B31: ED52     [55]     	sbc		hl, de					;
3B33: EB       [59]     	ex		de, hl					;
3B34: 20D8     [66|71]  	jr		nz, l3b0e				;
3B36: CD443C   [83]     	call	l3c44					;
3B39: 42       [87]     	ld		b, d					;
3B3A: 4B       [91]     	ld		c, e					;
3B3B: 110000   [101]    	ld		de, 0					;
3B3E: 2A535C   [117]    	ld		hl, (prog)				;
                        									;
3B41:                   l3b41:								;
3B41: C5       [11]     	push	bc						;
3B42: D5       [22]     	push	de						;
3B43: E5       [33]     	push	hl						;
3B44: 2A995C   [49]     	ld		hl, (mem_1_2)			;
3B47: CDA930   [66]     	call	l30a9					;
3B4A: ED5B945C [86]     	ld		de, (mem_0_2)			;
3B4E: 19       [97]     	add		hl, de					;
3B4F: EB       [101]    	ex		de, hl					;
3B50: E1       [111]    	pop		hl						;
3B51: 72       [118]    	ld		(hl), d					;
3B52: 23       [124]    	inc		hl						;
3B53: 73       [131]    	ld		(hl), e					;
3B54: 23       [137]    	inc		hl						;
3B55: 4E       [144]    	ld		c, (hl)					;
3B56: 23       [150]    	inc		hl						;
3B57: 46       [157]    	ld		b, (hl)					;
3B58: 23       [163]    	inc		hl						;
3B59: 09       [174]    	add		hl, bc					;
3B5A: D1       [184]    	pop		de						;
3B5B: 13       [190]    	inc		de						;
3B5C: C1       [200]    	pop		bc						;
3B5D: 0B       [206]    	dec		bc						;
3B5E: 78       [210]    	ld		a, b					;
3B5F: B1       [214]    	or		c						;
3B60: 20DF     [221|226]	jr		nz, l3b41				;
3B62: C9       [231]    	ret								;
                        									;
3B63:                   l3b63:								;
3B63: 23       [ 6]     	inc		hl						;
3B64: 22A75C   [22]     	ld		(mem_4_1), hl			;
3B67: EB       [26]     	ex		de, hl					;
3B68: 010700   [36]     	ld		bc, 7					;
3B6B: 211E24   [46]     	ld		hl, l241e				;
3B6E: EDB1     [62|21]  	cpir							;
3B70: EB       [66]     	ex		de, hl					;
3B71: C0       [71|77]  	ret		nz						;
3B72: 0E00     [78]     	ld		c, 0					;
                        									;
3B74:                   l3b74:								;
3B74: 7E       [ 7]     	ld		a, (hl)					;
3B75: FE20     [14]     	cp		' '						;
3B77: 281B     [21|26]  	jr		z, l3b94				;
3B79: CD1B2D   [38]     	call	numeric					;
3B7C: 3016     [45|50]  	jr		nc, l3b94				;
3B7E: FE2E     [52]     	cp		'.'						;
3B80: 2812     [59|64]  	jr		z, l3b94				;
3B82: FE0E     [66]     	cp		ctrl_number				;
3B84: 2812     [73|78]  	jr		z, l3b98				;
3B86: F620     [80]     	or		%00100000				;
3B88: FE65     [87]     	cp		'e'						;
3B8A: 2004     [94|99]  	jr		nz, l3b90				;
3B8C: 78       [98]     	ld		a, b					;
3B8D: B1       [102]    	or		c						;
3B8E: 2004     [109|114]	jr		nz, l3b94				;
                        									;
3B90:                   l3b90:								;
3B90: 2AA75C   [16]     	ld		hl, (mem_4_1)			;
3B93: C9       [26]     	ret								;
                        									;
3B94:                   l3b94:								;
3B94: 03       [ 6]     	inc		bc						;
3B95: 23       [12]     	inc		hl						;
3B96: 18DC     [24]     	jr		l3b74					;
                        									;
3B98:                   l3b98:								;
3B98: ED439E5C [20]     	ld		(mem_2_2), bc			;
3B9C: E5       [31]     	push	hl						;
3B9D: CDB118   [48]     	call	number					;
3BA0: CD773C   [65]     	call	l3c77					;
3BA3: 7E       [72]     	ld		a, (hl)					;
3BA4: E1       [82]     	pop		hl						;
3BA5: FE3A     [89]     	cp		':'						;
3BA7: 2803     [96|101] 	jr		z, l3bac				;
3BA9: FE0D     [103]    	cp		ctrl_n_l				;
3BAB: C0       [108|114]	ret		nz						;
                        									;
3BAC:                   l3bac:								;
3BAC: 23       [ 6]     	inc		hl						;
3BAD: CDB833   [23]     	call	l33b8					;
3BB0: CDA22D   [40]     	call	fp_to_bc				;
3BB3: 60       [44]     	ld		h, b					;
3BB4: 69       [48]     	ld		l, c					;
3BB5: CD6E19   [65]     	call	line_addr				;
3BB8: 3807     [72|77]  	jr		c, l3bc1				;
3BBA: 280A     [79|84]  	jr		z, l3bc6				;
3BBC: 7E       [86]     	ld		a, (hl)					;
3BBD: E6C0     [93]     	and		%11000000				;
3BBF: 2805     [100|105]	jr		z, l3bc6				;
                        									;
3BC1:                   l3bc1:								;
3BC1: 21FF3F   [10]     	ld		hl, 16383				;
3BC4: 1811     [22]     	jr		l3bd7					;
                        									;
3BC6:                   l3bc6:								;
3BC6: 22A55C   [16]     	ld		(mem_3_4), hl			;
3BC9: CD4C3C   [33]     	call	l3c4c					;
3BCC: 2A995C   [49]     	ld		hl, (mem_1_2)			;
3BCF: CDA930   [66]     	call	l30a9					;
3BD2: ED5B945C [86]     	ld		de, (mem_0_2)			;
3BD6: 19       [97]     	add		hl, de					;
                        									;
3BD7:                   l3bd7:								;
3BD7: 11A05C   [10]     	ld		de, mem_2_4				;
3BDA: E5       [21]     	push	hl						;
3BDB: CD7D3C   [38]     	call	l3c7d					;
3BDE: 58       [42]     	ld		e, b					;
3BDF: 1C       [46]     	inc		e						;
3BE0: 1600     [53]     	ld		d, 0					;
3BE2: D5       [64]     	push	de						;
3BE3: E5       [75]     	push	hl						;
3BE4: 6B       [79]     	ld		l, e					;
3BE5: 2600     [86]     	ld		h, 0					;
3BE7: ED4B9E5C [106]    	ld		bc, (mem_2_2)			;
3BEB: B7       [110]    	or		a						;
3BEC: ED42     [125]    	sbc		hl, bc					;
3BEE: 229E5C   [141]    	ld		(mem_2_2), hl			;
3BF1: 2818     [148|153]	jr		z, l3c0b				;
3BF3: 380C     [155|160]	jr		c, l3c01				;
3BF5: 44       [159]    	ld		b, h					;
3BF6: 4D       [163]    	ld		c, l					;
3BF7: 2AA75C   [179]    	ld		hl, (mem_4_1)			;
3BFA: CD5516   [196]    	call	make_room				;
3BFD: 180C     [208]    	jr		l3c0b					;
                        									;
3BFF:                   l3bff:								;
3BFF: FFFF              	defw	0xffff					;
                        									;
3C01:                   l3c01:								;
3C01: 0B       [ 6]     	dec		bc						;
3C02: 1D       [10]     	dec		e						;
3C03: 20FC     [17|22]  	jr		nz, l3c01				;
3C05: 2AA75C   [33]     	ld		hl, (mem_4_1)			;
3C08: CDE819   [50]     	call	reclaim_2				;
                        									;
3C0B:                   l3c0b:								;
3C0B: ED5BA75C [20]     	ld		de, (mem_4_1)			;
3C0F: E1       [30]     	pop		hl						;
3C10: C1       [40]     	pop		bc						;
3C11: EDB0     [56|21]  	ldir							;
3C13: EB       [60]     	ex		de, hl					;
3C14: 360E     [70]     	ld		(hl), 14				;
3C16: C1       [80]     	pop		bc						;
3C17: 23       [86]     	inc		hl						;
3C18: E5       [97]     	push	hl						;
3C19: CD2F2D   [114]    	call	stack_bc1				;
3C1C: D1       [124]    	pop		de						;
3C1D: 010500   [134]    	ld		bc, 5					;
3C20: EDB0     [150|21] 	ldir							;
3C22: EB       [154]    	ex		de, hl					;
3C23: E5       [165]    	push	hl						;
3C24: CDA22D   [182]    	call	fp_to_bc				;
3C27: 2AA95C   [198]    	ld		hl, (mem_4_3)			;
3C2A: E5       [209]    	push	hl						;
3C2B: 5E       [216]    	ld		e, (hl)					;
3C2C: 23       [222]    	inc		hl						;
3C2D: 56       [229]    	ld		d, (hl)					;
3C2E: 2A9E5C   [245]    	ld		hl, (mem_2_2)			;
3C31: 19       [256]    	add		hl, de					;
3C32: EB       [260]    	ex		de, hl					;
3C33: E1       [270]    	pop		hl						;
3C34: 73       [277]    	ld		(hl), e					;
3C35: 23       [283]    	inc		hl						;
3C36: 72       [290]    	ld		(hl), d					;
3C37: 2A9C5C   [306]    	ld		hl, (mem_2)				;
3C3A: ED5B9E5C [326]    	ld		de, (mem_2_2)			;
3C3E: 19       [337]    	add		hl, de					;
3C3F: 229C5C   [353]    	ld		(mem_2), hl				;
3C42: E1       [363]    	pop		hl						;
3C43: C9       [373]    	ret								;
                        									;
3C44:                   l3c44:								;
3C44: 2A4B5C   [16]     	ld		hl, (vars)				;
3C47: 22A55C   [32]     	ld		(mem_3_4), hl			;
3C4A: 180C     [44]     	jr		l3c58					;
                        									;
3C4C:                   l3c4c:								;
3C4C: 2A535C   [16]     	ld		hl, (prog)				;
3C4F: ED5BA55C [36]     	ld		de, (mem_3_4)			;
3C53: B7       [40]     	or		a						;
3C54: ED52     [55]     	sbc		hl, de					;
3C56: 281A     [62|67]  	jr		z, l3c72				;
                        									;
3C58:                   l3c58:								;
3C58: 2A535C   [16]     	ld		hl, (prog)				;
3C5B: 010000   [26]     	ld		bc, 0					;
                        									;
3C5E:                   l3c5e:								;
3C5E: C5       [11]     	push	bc						;
3C5F: CDB819   [28]     	call	next_one				;
3C62: 2AA55C   [44]     	ld		hl, (mem_3_4)			;
3C65: A7       [48]     	and		a						;
3C66: ED52     [63]     	sbc		hl, de					;
3C68: 2805     [70|75]  	jr		z, l3c6f				;
3C6A: EB       [74]     	ex		de, hl					;
3C6B: C1       [84]     	pop		bc						;
3C6C: 03       [90]     	inc		bc						;
3C6D: 18EF     [102]    	jr		l3c5e					;
                        									;
3C6F:                   l3c6f:								;
3C6F: D1       [10]     	pop		de						;
3C70: 13       [16]     	inc		de						;
3C71: C9       [26]     	ret								;
                        									;
3C72:                   l3c72:								;
3C72: 110000   [10]     	ld		de, 0					;
3C75: C9       [20]     	ret								;
                        									;
3C76:                   l3c76:								;
3C76: 23       [ 6]     	inc		hl						;
                        									;
3C77:                   l3c77:								;
3C77: 7E       [ 7]     	ld		a, (hl)					;
3C78: FE20     [14]     	cp		' '						;
3C7A: 28FA     [21|26]  	jr		z, l3c76				;
3C7C: C9       [31]     	ret								;
                        									;
3C7D:                   l3c7d:								;
3C7D: D5       [11]     	push	de						;
3C7E: 01F0D8   [21]     	ld		bc, -10000				;
3C81: CDA03C   [38]     	call	l3ca0					;
3C84: 0118FC   [48]     	ld		bc, -1000				;
3C87: CDA03C   [65]     	call	l3ca0					;
3C8A: 019CFF   [75]     	ld		bc, -100				;
3C8D: CDA03C   [92]     	call	l3ca0					;
3C90: 0EF6     [99]     	ld		c, -10					;
3C92: CDA03C   [116]    	call	l3ca0					;
3C95: 7D       [120]    	ld		a, l					;
3C96: C630     [127]    	add		a, '0'					;
3C98: 12       [134]    	ld		(de), a					;
3C99: 13       [140]    	inc		de						;
3C9A: 0604     [147]    	ld		b, 4					;
3C9C: E1       [157]    	pop		hl						;
3C9D: C31424   [167]    	jp		l2414					;
                        									;
3CA0:                   l3ca0:								;
3CA0: AF       [ 4]     	xor		a						;
                        									;
3CA1:                   l3ca1:								;
3CA1: 09       [11]     	add		hl, bc					;
3CA2: 3C       [15]     	inc		a						;
3CA3: 38FC     [22|27]  	jr		c, l3ca1				;
3CA5: C37E0A   [32]     	jp		l0a7e					;
                        									;
3CA8:                   scanfix:							;
3CA8: ED73FE5B [20]     	ld		(oldsp), sp				;
3CAC: 210600   [30]     	ld		hl, 6					;
3CAF: 39       [41]     	add		hl, sp					;
3CB0: 5E       [48]     	ld		e, (hl)					;
3CB1: 23       [54]     	inc		hl						;
3CB2: 56       [61]     	ld		d, (hl)					;
3CB3: 62       [65]     	ld		h, d					;
3CB4: 6B       [69]     	ld		l, e					;
                        									;
3CB5:                   nextchar:							;
3CB5: 23       [ 6]     	inc		hl						;
3CB6: 7E       [13]     	ld		a, (hl)					;
                        									;
3CB7:                   nextchar2:							;
3CB7: FE29     [ 7]     	cp		')'						;
3CB9: 2809     [14|19]  	jr		z, endfn				;
3CBB: FE0E     [21]     	cp		0x0e					;
3CBD: 20F6     [28|33]  	jr		nz, nextchar			;
3CBF: CDB418   [45]     	call	l18b4					;
3CC2: 18F3     [57]     	jr		nextchar2				;
                        									;
3CC4:                   endfn:								;
3CC4: B7       [ 4]     	or		a						;
3CC5: ED52     [19]     	sbc		hl, de					;
3CC7: 44       [23]     	ld		b, h					;
3CC8: 4D       [27]     	ld		c, l					;
3CC9: 7C       [31]     	ld		a, h					;
3CCA: 2F       [35]     	cpl								;
3CCB: 67       [39]     	ld		h, a					;
3CCC: 7D       [43]     	ld		a, l					;
3CCD: 2F       [47]     	cpl								;
3CCE: 6F       [51]     	ld		l, a					;
3CCF: 23       [57]     	inc		hl						;
3CD0: 39       [68]     	add		hl, sp					;
3CD1: F9       [74]     	ld		sp, hl					;
3CD2: EB       [78]     	ex		de, hl					;
3CD3: DD2AFE5B [98]     	ld		ix, (oldsp)				;
3CD7: DDE5     [113]    	push	ix						;
3CD9: D5       [124]    	push	de						;
3CDA: E5       [135]    	push	hl						;
3CDB: C5       [146]    	push	bc						;
3CDC: EDB0     [162|21] 	ldir							;
3CDE: CDFB24   [179]    	call	scanning				;
3CE1: C1       [189]    	pop		bc						;
3CE2: D1       [199]    	pop		de						;
3CE3: E1       [209]    	pop		hl						;
3CE4: C3B711   [219]    	jp		l11cb					;
                        									;
3CE7: 00                	defb	0x00					; end of code
                        									;
3CE8:                   cursors:							;
3CE8: 003C1818          	incbin		"data/cursors.data"		;
3CEC: 18183C00          
3CF0: 00000000          
3CF4: 3C3C3C00          
3CF8: 003C3C3C          
3CFC: 00000000          
                        									;
3D00:                   font:								;
3D00: 00000000          	incbin		"data/GenevaMono.data"	;
3D04: 00000000          
3D08: 10101010          
3D0C: 10001000          
3D10: 28280000          
3D14: 00000000          
3D18: 147C287C          
3D1C: 50000000          
3D20: 38545038          
3D24: 14543810          
3D28: 3C54583C          
3D2C: 1A2A2400          
3D30: 1028102A          
3D34: 44443A00          
3D38: 10100000          
3D3C: 00000000          
3D40: 08102020          
3D44: 20201008          
3D48: 20100808          
3D4C: 08081020          
3D50: 10543828          
3D54: 44000000          
3D58: 0010107C          
3D5C: 10100000          
3D60: 00000000          
3D64: 00101020          
3D68: 0000003C          
3D6C: 00000000          
3D70: 00000000          
3D74: 00001000          
3D78: 04040808          
3D7C: 10102020          
3D80: 38444C54          
3D84: 64443800          
3D88: 10301010          
3D8C: 10101000          
3D90: 38440408          
3D94: 10207C00          
3D98: 7C081038          
3D9C: 04443800          
3DA0: 08182848          
3DA4: 7C080800          
3DA8: 7C407804          
3DAC: 04443800          
3DB0: 18204078          
3DB4: 44443800          
3DB8: 7C040808          
3DBC: 10101000          
3DC0: 38444438          
3DC4: 44443800          
3DC8: 3844443C          
3DCC: 04083000          
3DD0: 00001000          
3DD4: 00001000          
3DD8: 00001000          
3DDC: 00101020          
3DE0: 00081020          
3DE4: 10080000          
3DE8: 00007C00          
3DEC: 7C000000          
3DF0: 00201008          
3DF4: 10200000          
3DF8: 18240408          
3DFC: 10001000          
3E00: 18245A6A          
3E04: 6A5C2018          
3E08: 10102828          
3E0C: 7C444400          
3E10: 78444478          
3E14: 44447800          
3E18: 38444040          
3E1C: 40443800          
3E20: 70484444          
3E24: 44487000          
3E28: 3C202038          
3E2C: 20203C00          
3E30: 3C202038          
3E34: 20202000          
3E38: 3844404C          
3E3C: 44443800          
3E40: 4444447C          
3E44: 44444400          
3E48: 10101010          
3E4C: 10101000          
3E50: 04040404          
3E54: 44443800          
3E58: 44485060          
3E5C: 50484400          
3E60: 20202020          
3E64: 20203C00          
3E68: 446C5444          
3E6C: 44444400          
3E70: 64645454          
3E74: 4C4C4400          
3E78: 38444444          
3E7C: 44443800          
3E80: 78444478          
3E84: 40404000          
3E88: 38444444          
3E8C: 44543808          
3E90: 78444478          
3E94: 50484400          
3E98: 38444038          
3E9C: 04443800          
3EA0: 7C101010          
3EA4: 10101000          
3EA8: 44444444          
3EAC: 44443800          
3EB0: 44444428          
3EB4: 28101000          
3EB8: 44445454          
3EBC: 28282800          
3EC0: 44442810          
3EC4: 28444400          
3EC8: 44442810          
3ECC: 10101000          
3ED0: 3C040810          
3ED4: 20203C00          
3ED8: 18101010          
3EDC: 10101018          
3EE0: 20201010          
3EE4: 08080404          
3EE8: 30101010          
3EEC: 10101030          
3EF0: 10280000          
3EF4: 00000000          
3EF8: 00000000          
3EFC: 0000007E          
3F00: 18202070          
3F04: 20247800          
3F08: 00001804          
3F0C: 1C241C00          
3F10: 20203824          
3F14: 24243800          
3F18: 00001824          
3F1C: 20241800          
3F20: 04041C24          
3F24: 24241C00          
3F28: 00001824          
3F2C: 3C201800          
3F30: 0C103810          
3F34: 10101000          
3F38: 00001C24          
3F3C: 241C0418          
3F40: 20203824          
3F44: 24242400          
3F48: 10001010          
3F4C: 10101000          
3F50: 08000808          
3F54: 08080830          
3F58: 20202428          
3F5C: 30282400          
3F60: 10101010          
3F64: 10100800          
3F68: 00006854          
3F6C: 54545400          
3F70: 00003824          
3F74: 24242400          
3F78: 00001824          
3F7C: 24241800          
3F80: 00003824          
3F84: 24382020          
3F88: 00001C24          
3F8C: 241C0404          
3F90: 00002C30          
3F94: 20202000          
3F98: 00001C20          
3F9C: 18043800          
3FA0: 10103810          
3FA4: 10100800          
3FA8: 00002424          
3FAC: 24241800          
3FB0: 00004428          
3FB4: 28101000          
3FB8: 00004444          
3FBC: 54282800          
3FC0: 00004428          
3FC4: 10284400          
3FC8: 00004428          
3FCC: 28101060          
3FD0: 00003C08          
3FD4: 10203C00          
3FD8: 08101020          
3FDC: 10101008          
3FE0: 10101000          
3FE4: 00101010          
3FE8: 20101008          
3FEC: 10101020          
3FF0: 34580000          
3FF4: 00000000          
3FF8: 18245A62          
3FFC: 625A2418          
                        


; +++ segments +++

#CODE :        start=0     len=16384

; +++ global symbols +++

.eq       = $0005 =      5          opense.def:14 (unused)
.ge       = $0001 =      1          opense.def:10 (unused)
.gt       = $0003 =      3          opense.def:12 (unused)
.gz       = $002E =     46          opense.def:16
.le       = $0000 =      0          opense.def:9 (unused)
.lt       = $0004 =      4          opense.def:13 (unused)
.lz       = $002D =     45          opense.def:15
.ne       = $0002 =      2          opense.def:11 (unused)
BREAK_CONTINUE_repeats = $000C =     12          opense.def:493
BREAK_into_program = $0014 =     20          opense.def:501
Bad_CLEAR_address = $0015 =     21          opense.def:502
Bad_argument = $0009 =      9          opense.def:490
Bad_colour = $0013 =     19          opense.def:500
Bad_device = $0012 =     18          opense.def:499
Bad_filename = $000E =     14          opense.def:495
Bad_stream = $0017 =     23          opense.def:504
Bad_subscript = $0002 =      2          opense.def:483
End_of_DATA = $000D =     13          opense.def:494
End_of_file = $0007 =      7          opense.def:488
FOR_without_NEXT = $0011 =     17          opense.def:498
Integer_out_of_range = $000A =     10          opense.def:491
Loading_error = $001A =     26          opense.def:507
Missing_statement = $0016 =     22          opense.def:503
NEXT_without_FOR = $0000 =      0          opense.def:481
No_room_for_line = $000F =     15          opense.def:496 (unused)
Number_too_large = $0005 =      5          opense.def:486
OK        = $00FF =    255          opense.def:480
Off_screen = $0004 =      4          opense.def:485
Out_of_memory = $0003 =      3          opense.def:484
Parameter_error = $0019 =     25          opense.def:506
RETURN_without_GOSUB = $0006 =      6          opense.def:487
STOP_in_INPUT = $0010 =     16          opense.def:497
STOP_statement = $0008 =      8          opense.def:489
Syntax_error = $000B =     11          opense.def:492
Undefined_FN = $0018 =     24          opense.def:505
Undefined_variable = $0001 =      1          opense.def:482
_attrp    = $0053 =     83          opense.def:742 (unused)
_attrt    = $0055 =     85          opense.def:744 (unused)
_bc_spaces = $0030 =     48          opense.asm:139 (unused)
_bordcr   = $000E =     14          opense.def:695
_breg     = $002D =     45          opense.def:715
_chadd    = $0023 =     35          opense.def:708 (unused)
_chans    = $0015 =     21          opense.def:700 (unused)
_chars    = $0004 =      4          opense.def:679 (unused)
_click    = $0001 =      1          opense.def:681 (unused)
_coppc    = $0034 =     52          opense.def:720 (unused)
_cosppc   = $0036 =     54          opense.def:721
_curchl   = $0017 =     23          opense.def:701 (unused)
_datadd   = $001D =     29          opense.def:704 (unused)
_defadd   = $002F =     47          opense.def:655 (unused)
_defadd_h = $002E =     46          opense.def:656 (unused)
_dest     = $0013 =     19          opense.def:699 (unused)
_dfcc     = $004A =     74          opense.def:735 (unused)
_dfccl    = $004C =     76          opense.def:736 (unused)
_dflag    = $0002 =      2          opense.def:687
_dfsz     = $0031 =     49          opense.def:718
_echoe    = $0048 =     72          opense.def:734 (unused)
_eline    = $001F =     31          opense.def:705 (unused)
_eppc     = $000F =     15          opense.def:696 (unused)
_eppc_h   = $0010 =     16          opense.def:697 (unused)
_errnr    = $0000 =      0          opense.def:685
_error_1  = $0008 =      8          opense.asm:102 (unused)
_errsound = $0002 =      2          opense.def:680
_errsp    = $0003 =      3          opense.def:688 (unused)
_flage    = $0037 =     55          opense.def:722
_flags    = $0001 =      1          opense.def:686
_fp_calc  = $0028 =     40          opense.asm:129 (unused)
_frames   = $003E =     62          opense.def:726 (unused)
_frames_h = $0040 =     64          opense.def:727 (unused)
_get_ch   = $0018 =     24          opense.asm:114
_if       = $1CF0 =   7408          opense.asm:4790
_interrupt = $0038 =     56          opense.asm:145 (unused)
_kcur     = $0021 =     33          opense.def:706 (unused)
_kcur_h   = $0022 =     34          opense.def:707
_kdata    = $002D =     45          opense.def:657
_klflag   = $0030 =     48          opense.def:717
_kstate   = $003A =     58          opense.def:650
_kstate_4 = $0036 =     54          opense.def:651
_lastk    = $0032 =     50          opense.def:652 (unused)
_listsp   = $0005 =      5          opense.def:689 (unused)
_maskp    = $0054 =     84          opense.def:743 (unused)
_maskt    = $0056 =     86          opense.def:745 (unused)
_mem      = $002E =     46          opense.def:716 (unused)
_mem_0_1  = $0059 =     89          opense.def:748 (unused)
_mem_0_2  = $005A =     90          opense.def:749 (unused)
_mem_0_3  = $005B =     91          opense.def:750 (unused)
_mem_0_4  = $005C =     92          opense.def:751 (unused)
_mem_1    = $005D =     93          opense.def:752 (unused)
_mem_1_1  = $005E =     94          opense.def:753 (unused)
_mem_1_2  = $005F =     95          opense.def:754 (unused)
_mem_1_3  = $0060 =     96          opense.def:755 (unused)
_mem_1_4  = $0061 =     97          opense.def:756 (unused)
_mem_2    = $0062 =     98          opense.def:757
_mem_2_1  = $0063 =     99          opense.def:758 (unused)
_mem_2_2  = $0064 =    100          opense.def:759 (unused)
_mem_2_3  = $0065 =    101          opense.def:760 (unused)
_mem_2_4  = $0066 =    102          opense.def:761 (unused)
_mem_3    = $0067 =    103          opense.def:762 (unused)
_mem_3_1  = $0068 =    104          opense.def:763 (unused)
_mem_3_2  = $0069 =    105          opense.def:764 (unused)
_mem_3_3  = $006A =    106          opense.def:765 (unused)
_mem_3_4  = $006B =    107          opense.def:766 (unused)
_mem_4    = $006C =    108          opense.def:767 (unused)
_mem_4_1  = $006D =    109          opense.def:768 (unused)
_mem_4_2  = $006E =    110          opense.def:769 (unused)
_mem_4_3  = $006F =    111          opense.def:770
_mem_4_4  = $0070 =    112          opense.def:771 (unused)
_mem_5    = $0071 =    113          opense.def:772
_mem_5_1  = $0072 =    114          opense.def:773
_mem_5_2  = $0073 =    115          opense.def:774 (unused)
_mem_5_3  = $0074 =    116          opense.def:775 (unused)
_mem_5_4  = $0075 =    117          opense.def:776 (unused)
_membot   = $0058 =     88          opense.def:747 (unused)
_mode     = $0007 =      7          opense.def:690
_newppc   = $0008 =      8          opense.def:691 (unused)
_next_ch  = $0020 =     32          opense.asm:122 (unused)
_nmiadd   = $0076 =    118          opense.def:777 (unused)
_nsppc    = $000A =     10          opense.def:692
_nxtline  = $001B =     27          opense.def:703 (unused)
_oldsp    = $0038 =     56          opense.def:649 (unused)
_onerrflag = $0045 =     69          opense.def:731 (unused)
_onerrflag_h = $0046 =     70          opense.def:732
_out      = $1E7A =   7802          opense.asm:5077
_pflag    = $0057 =     87          opense.def:746
_ppc      = $000B =     11          opense.def:693 (unused)
_pramt    = $007A =    122          opense.def:779 (unused)
_print_a  = $0010 =     16          opense.asm:107 (unused)
_prog     = $0019 =     25          opense.def:702 (unused)
_ramtop   = $0078 =    120          opense.def:778 (unused)
_repdel   = $0031 =     49          opense.def:653 (unused)
_repper   = $0030 =     48          opense.def:654 (unused)
_scrct    = $0052 =     82          opense.def:741
_sdtop    = $0032 =     50          opense.def:719 (unused)
_seed     = $003C =     60          opense.def:725 (unused)
_sposnl   = $0050 =     80          opense.def:739
_sposnl_h = $0051 =     81          opense.def:740 (unused)
_sposnu   = $004E =     78          opense.def:737 (unused)
_sposnu_h = $004F =     79          opense.def:738
_start    = $0000 =      0          opense.asm:92 (unused)
_stkbot   = $0029 =     41          opense.def:712 (unused)
_stkend   = $002B =     43          opense.def:713 (unused)
_stkend_h = $002C =     44          opense.def:714 (unused)
_stril    = $0038 =     56          opense.def:723
_strms    = $002A =     42          opense.def:660 (unused)
_strms_00 = $0024 =     36          opense.def:663 (unused)
_strms_01 = $0022 =     34          opense.def:664 (unused)
_strms_02 = $0020 =     32          opense.def:665 (unused)
_strms_03 = $001E =     30          opense.def:666 (unused)
_strms_04 = $001C =     28          opense.def:667 (unused)
_strms_05 = $001A =     26          opense.def:668 (unused)
_strms_06 = $0018 =     24          opense.def:669 (unused)
_strms_07 = $0016 =     22          opense.def:670 (unused)
_strms_08 = $0014 =     20          opense.def:671 (unused)
_strms_09 = $0012 =     18          opense.def:672 (unused)
_strms_10 = $0010 =     16          opense.def:673 (unused)
_strms_11 = $000E =     14          opense.def:674 (unused)
_strms_12 = $000C =     12          opense.def:675 (unused)
_strms_13 = $000A =     10          opense.def:676 (unused)
_strms_14 = $0008 =      8          opense.def:677 (unused)
_strms_15 = $0006 =      6          opense.def:678 (unused)
_strms_fe = $0028 =     40          opense.def:661 (unused)
_strms_ff = $0026 =     38          opense.def:662 (unused)
_subppc   = $000D =     13          opense.def:694
_taddr    = $003A =     58          opense.def:724 (unused)
_udg      = $0041 =     65          opense.def:728 (unused)
_user     = $0047 =     71          opense.def:733 (unused)
_vars     = $0011 =     17          opense.def:698 (unused)
_vdudata  = $002C =     44          opense.def:658 (unused)
_vdudata_h = $002B =     43          opense.def:659 (unused)
_worksp   = $0027 =     39          opense.def:711 (unused)
_xcoord   = $0043 =     67          opense.def:729 (unused)
_xptr     = $0025 =     37          opense.def:709 (unused)
_xptr_h   = $0026 =     38          opense.def:710
_ycoord   = $0044 =     68          opense.def:730 (unused)
add_back  = $3004 =  12292          opense.asm:8535
add_char  = $0F81 =   3969          opense.asm:2555
add_rep_6 = $309F =  12447          opense.asm:8677
addend_0  = $2FF9 =  12281          opense.asm:8523
addition  = $303E =  12350          opense.asm:8598
addresses = $32DE =  13022          opense.asm:9174
all_added = $300D =  12301          opense.asm:8545
alpha     = $2C8D =  11405          opense.asm:7773
alphanum  = $2C88 =  11400          opense.asm:7768
anyi      = $0046 =     70          opense.asm:157
atsr4     = $201E =   8222          opense.asm:5381
attrmap   = $5800 =  22528          opense.def:513
attrp     = $5C8D =  23693          opense.def:604
attrt     = $5C8F =  23695          opense.def:606
aul4      = $17E1 =   6113          opense.asm:3694
autolist  = $1795 =   6037          opense.asm:3656
ay_128dat = $BFFD =  49149          opense.def:444
ay_reg    = $C0F5 =  49397          opense.def:442
ay_tmxdat = $00F6 =    246          opense.def:443
bc_spaces = $0030 =     48          opense.def:457
bc_spaces1 = $002D =     45          opense.asm:136
bit_5_nil = $19D6 =   6614          opense.asm:4086
bitmap    = $4000 =  16384          opense.def:512
bits_zero = $3283 =  12931          opense.asm:9101
black     = $0000 =      0          opense.def:255
blue      = $0001 =      1          opense.def:256
bordcr    = $5C48 =  23624          opense.def:559
both_null = $354A =  13642          opense.asm:9685
break_1   = $1F54 =   8020          opense.asm:5244
breg      = $5C67 =  23655          opense.def:577
byte_comp = $353C =  13628          opense.asm:9670
byte_zero = $327E =  12926          opense.asm:9096
c_ent     = $3788 =  14216          opense.asm:10128
calculate = $3362 =  13154          opense.asm:9242
cases     = $37C3 =  14275          opense.asm:10176
ch_add_1  = $0074 =    116          opense.asm:198
chadd     = $5C5D =  23645          opense.def:571
chanflag  = $1615 =   5653          opense.asm:3332
channels  = $5CB6 =  23734          opense.def:642
chans     = $5C4F =  23631          opense.def:564
chantab   = $15AF =   5551          opense.asm:3253
chars     = $5C36 =  23606          opense.def:546
check_end = $1BEE =   7150          opense.asm:4589
chltchk   = $21D6 =   8662          opense.asm:5644
chr_var   = $0004 =      4          opense.def:467
circle    = $2320 =   8992          opense.asm:5911
citem     = $21E2 =   8674          opense.asm:5657
citemsr   = $21F2 =   8690          opense.asm:5667
class_0   = $1C10 =   7184          opense.asm:4622
class_1   = $1C1F =   7199          opense.asm:4637
class_2   = $1C4E =   7246          opense.asm:4667
class_3   = $1C0D =   7181          opense.asm:4619
class_4   = $1C6C =   7276          opense.asm:4690
class_4_2 = $1C22 =   7202          opense.asm:4640
class_5   = $1C11 =   7185          opense.asm:4625
class_6   = $1C82 =   7298          opense.asm:4711
class_7   = $1C96 =   7318          opense.asm:4726
class_8   = $1C7A =   7290          opense.asm:4703
class_9   = $1CBE =   7358          opense.asm:4750
class_a   = $1C8C =   7308          opense.asm:4720
class_b   = $1CDB =   7387          opense.asm:4769
class_c   = $1C51 =   7249          opense.asm:4671
clear     = $1EAC =   7852          opense.asm:5120
click     = $5C39 =  23609          opense.def:548
clr1      = $1EAF =   7855          opense.asm:5123
clr3      = $1EB7 =   7863          opense.asm:5129
clr4      = $1EDC =   7900          opense.asm:5151
cls       = $0D6B =   3435          opense.asm:2182
clslower  = $0D6E =   3438          opense.asm:2185
cltab     = $162D =   5677          opense.asm:3350
cochng    = $226C =   8812          opense.asm:5766
cofbok    = $2287 =   8839          opense.asm:5792
coinverse = $2228 =   8744          opense.asm:5708
col_offst = $0007 =      7          opense.def:470
command   = $1C00 =   7168          opense.asm:4604
constants = $32C5 =  12997          opense.asm:9168
cont      = $1E5F =   7775          opense.asm:5058
coppc     = $5C6E =  23662          opense.def:582
copy      = $0B1C =   2844          opense.asm:1760
copy_over = $157D =   5501          opense.asm:3214
cosppc    = $5C70 =  23664          opense.def:583
cotemp4   = $21FC =   8700          opense.asm:5677
count_one = $31FA =  12794          opense.asm:8988
cp_lines  = $1980 =   6528          opense.asm:4006
ctk_clear = $001E =     30          opense.def:333 (unused)
ctk_cls   = $001C =     28          opense.def:331 (unused)
ctk_continue = $0009 =      9          opense.def:310 (unused)
ctk_data  = $0005 =      5          opense.def:304 (unused)
ctk_dim   = $000A =     10          opense.def:311 (unused)
ctk_draw  = $001D =     29          opense.def:332 (unused)
ctk_for   = $000C =     12          opense.def:313 (unused)
ctk_gosub = $000E =     14          opense.def:317 (unused)
ctk_if    = $001B =     27          opense.def:330 (unused)
ctk_input = $000F =     15          opense.def:318 (unused)
ctk_let   = $0012 =     18          opense.def:321 (unused)
ctk_list  = $0011 =     17          opense.def:320 (unused)
ctk_llist = $0002 =      2          opense.def:301 (unused)
ctk_load  = $0010 =     16          opense.def:319 (unused)
ctk_lprint = $0001 =      1          opense.def:300 (unused)
ctk_new   = $0007 =      7          opense.def:306 (unused)
ctk_next  = $0014 =     20          opense.def:323 (unused)
ctk_out   = $0000 =      0          opense.def:299 (unused)
ctk_pause = $0013 =     19          opense.def:322 (unused)
ctk_plot  = $0017 =     23          opense.def:326 (unused)
ctk_poke  = $0015 =     21          opense.def:324 (unused)
ctk_print = $0016 =     22          opense.def:325 (unused)
ctk_randomize = $001A =     26          opense.def:329 (unused)
ctk_read  = $0004 =      4          opense.def:303 (unused)
ctk_rem   = $000B =     11          opense.def:312 (unused)
ctk_restore = $0006 =      6          opense.def:305 (unused)
ctk_return = $001F =     31          opense.def:334 (unused)
ctk_run   = $0018 =     24          opense.def:327 (unused)
ctk_save  = $0019 =     25          opense.def:328 (unused)
ctk_stop  = $0003 =      3          opense.def:302 (unused)
ctrl_at   = $0016 =     22          opense.def:287
ctrl_bright = $0013 =     19          opense.def:284 (unused)
ctrl_caps = $0006 =      6          opense.def:269
ctrl_comma = $0006 =      6          opense.def:270
ctrl_down = $000A =     10          opense.def:274
ctrl_edit = $0007 =      7          opense.def:271
ctrl_flash = $0012 =     18          opense.def:283 (unused)
ctrl_graphics = $000F =     15          opense.def:280
ctrl_inv_vid = $0005 =      5          opense.def:268
ctrl_inverse = $0014 =     20          opense.def:285 (unused)
ctrl_left = $0008 =      8          opense.def:272
ctrl_n_l  = $000D =     13          opense.def:277
ctrl_number = $000E =     14          opense.def:279
ctrl_over = $0015 =     21          opense.def:286 (unused)
ctrl_paper = $0011 =     17          opense.def:282 (unused)
ctrl_pen  = $0010 =     16          opense.def:281
ctrl_right = $0009 =      9          opense.def:273
ctrl_rubout = $000C =     12          opense.def:276
ctrl_symbol = $000E =     14          opense.def:278
ctrl_tab  = $0017 =     23          opense.def:288
ctrl_true_vid = $0004 =      4          opense.def:267
ctrl_up   = $000B =     11          opense.def:275
curchl    = $5C51 =  23633          opense.def:565
cursor    = $0FA0 =   4000          opense.asm:2580
cursor_so = $0077 =    119          opense.asm:201
cursors   = $3CE8 =  15592          opense.asm:11110 (unused)
cyan      = $0005 =      5          opense.def:260 (unused)
d_letter  = $2C1F =  11295          opense.asm:7684
d_no_loop = $2C2E =  11310          opense.asm:7696
d_rport_c = $2C05 =  11269          opense.asm:7669
d_run     = $2C15 =  11285          opense.asm:7677
d_size    = $2C2D =  11309          opense.asm:7693
datadd    = $5C57 =  23639          opense.def:568
de_de_1   = $2AEE =  10990          opense.asm:7450
dec_to_fp = $2C9B =  11419          opense.asm:7785
decint    = $2CCB =  11467          opense.asm:7818
defadd    = $5C0B =  23563          opense.def:522
defadd_h  = $5C0C =  23564          opense.def:523
dest      = $5C4D =  23629          opense.def:563
dfcc      = $5C84 =  23684          opense.def:597
dfccl     = $5C86 =  23686          opense.def:598
dflag     = $5C3C =  23612          opense.def:551
dfsz      = $5C6B =  23659          opense.def:580
differ    = $19DD =   6621          opense.asm:4097
digit_inc = $192B =   6443          opense.asm:3944
dim       = $2C02 =  11266          opense.asm:7666
dim_sizes = $2C7F =  11391          opense.asm:7758
div_loop  = $31D2 =  12754          opense.asm:8950
div_start = $31E2 =  12770          opense.asm:8965
divn_expt = $313D =  12605          opense.asm:8817
double_a  = $3390 =  13200          opense.asm:9283
down_key  = $0FEB =   4075          opense.asm:2625
e_format  = $2CEB =  11499          opense.asm:7850
e_fp      = $2D18 =  11544          opense.asm:7882
e_to_fp   = $2D4F =  11599          opense.asm:7936
echoe     = $5C82 =  23682          opense.def:596
edag      = $0F30 =   3888          opense.asm:2510
eder      = $107F =   4223          opense.asm:2747
edit_key  = $0FA9 =   4009          opense.asm:2591
editor    = $0F2C =   3884          opense.asm:2506
eline     = $5C59 =  23641          opense.def:569
eline_no  = $19FB =   6651          opense.asm:4127
end_compl = $30A3 =  12451          opense.asm:8681
end_tests = $3564 =  13668          opense.asm:9714
endfn     = $3CC4 =  15556          opense.asm:11081
ent_table = $3392 =  13202          opense.asm:9287
eppc      = $5C49 =  23625          opense.def:560
eppc_h    = $5C4A =  23626          opense.def:561 (unused)
errnr     = $5C3A =  23610          opense.def:549
error_1   = $0008 =      8          opense.def:452
error_2   = $0053 =     83          opense.asm:171
error_3   = $0055 =     85          opense.asm:175
errsound  = $5C38 =  23608          opense.def:547
errsp     = $5C3D =  23613          opense.def:552
ex_or_not = $351D =  13597          opense.asm:9645
exit      = $3697 =  13975          opense.asm:9961
expr_num_str = $0002 =      2          opense.def:465
fetch_two = $2FBA =  12218          opense.asm:8464
fetchi    = $2D7F =  11647          opense.asm:7987
fincstat  = $19AD =   6573          opense.asm:4049
find_int  = $1E99 =   7833          opense.asm:5103
first_38  = $3387 =  13191          opense.asm:9276
flage     = $5C71 =  23665          opense.def:584
flags     = $5C3B =  23611          opense.def:550
fnsy4     = $27E9 =  10217          opense.asm:6855
fnsy5     = $27E6 =  10214          opense.asm:6852
fnsyn     = $27D0 =  10192          opense.asm:6834
font      = $3D00 =  15616          opense.asm:11113
for       = $1D03 =   7427          opense.asm:4804
form_exp  = $33E1 =  13281          opense.asm:9351
fp_0_1    = $34E7 =  13543          opense.asm:9592
fp_a_end  = $2DE1 =  11745          opense.asm:8085
fp_calc   = $0028 =     40          opense.def:456 (unused)
fp_to_a   = $2DD5 =  11733          opense.asm:8074
fp_to_bc  = $2DA2 =  11682          opense.asm:8027
fpbcint   = $2DAD =  11693          opense.asm:8039
fptrunct  = $323D =  12861          opense.asm:9039
frames    = $5C78 =  23672          opense.def:588
frames_h  = $5C7A =  23674          opense.def:589 (unused)
frst_less = $355D =  13661          opense.asm:9703
function  = $1076 =   4214          opense.asm:2740
g_loop    = $3437 =  13367          opense.asm:9433
gen_ent_1 = $3365 =  13157          opense.asm:9245
gen_ent_2 = $3369 =  13161          opense.asm:9249
get_ch    = $0018 =     24          opense.def:454
get_param = $1B55 =   6997          opense.asm:4480
getbyte   = $1E94 =   7828          opense.asm:5099
getibc    = $1E9C =   7836          opense.asm:5106
go_nc_mlt = $30A5 =  12453          opense.asm:8685
gosub     = $1EED =   7917          opense.asm:5164
goto      = $1E67 =   7783          opense.asm:5063
goto_2    = $1E73 =   7795          opense.asm:5072
graphics  = $107C =   4220          opense.asm:2744
gre_8     = $370F =  14095          opense.asm:10048
green     = $0004 =      4          opense.def:259 (unused)
hl_again  = $30BC =  12476          opense.asm:8705
hl_hl_de  = $2AF4 =  10996          opense.asm:7458
hl_loop   = $30B1 =  12465          opense.asm:8696
hl_over   = $30BE =  12478          opense.asm:8708
i_carry   = $2AE8 =  10984          opense.asm:7441
i_restore = $2AEB =  10987          opense.asm:7445
iderr     = $15C4 =   5572          opense.asm:3264
iminkeys  = $2634 =   9780          opense.asm:6569
imposs    = $1DE9 =   7657          opense.asm:4976
initial   = $1216 =   4630          opense.asm:3002
initpal   = $0CF7 =   3319          opense.asm:90
inp2      = $20D8 =   8408          opense.asm:5504
inp7      = $2129 =   8489          opense.asm:5551
inp9      = $215E =   8542          opense.asm:5576
inpas     = $21B9 =   8633          opense.asm:5624
inperr    = $213A =   8506          opense.asm:5560
input     = $2089 =   8329          opense.asm:5464
input_rep = $1C59 =   7257          opense.asm:4678
inputad   = $15E6 =   5606          opense.asm:3284
int_exp1  = $2ACC =  10956          opense.asm:7418
int_exp2  = $2ACD =  10957          opense.asm:7421
int_to_fp = $2D3B =  11579          opense.asm:7917
interrupt = $0038 =     56          opense.def:458 (unused)
invarg    = $34C3 =  13507          opense.asm:9551
invcolerr = $2244 =   8772          opense.asm:5732
invstrm   = $160E =   5646          opense.asm:3323
invstrm2  = $1725 =   5925          opense.asm:3555
ioorerr   = $046C =   1132          opense.asm:617
ipitem    = $20C1 =   8385          opense.asm:5491
ix_end    = $3290 =  12944          opense.asm:9113
jump_2    = $365C =  13916          opense.asm:9893
k_function = $026A =    618          opense.asm:254
k_graphic = $0284 =    644          opense.asm:257
k_shifted = $0260 =    608          opense.asm:249
k_token   = $00A9 =    169          opense.asm:243
k_unshifted = $0239 =    569          opense.asm:246
kcur      = $5C5B =  23643          opense.def:570
kdata     = $5C0D =  23565          opense.def:524
keyboard  = $028E =    654          opense.asm:260
klflag    = $5C6A =  23658          opense.def:579
kstate    = $5C00 =  23552          opense.def:517
kstate_4  = $5C04 =  23556          opense.def:518
kyip      = $10A6 =   4262          opense.asm:2768
l0007     = $0007 =      7          opense.asm:99 (unused)
l0013     = $0013 =     19          opense.asm:110
l0025     = $0025 =     37          opense.asm:126 (unused)
l002b     = $002B =     43          opense.asm:132 (unused)
l0051     = $0051 =     81          opense.asm:168 (unused)
l005f     = $005F =     95          opense.asm:180
l007d     = $007D =    125          opense.asm:209
l0094     = $0094 =    148          opense.asm:227
l0099     = $0099 =    153          opense.asm:232
l0296     = $0296 =    662          opense.asm:265
l029f     = $029F =    671          opense.asm:273
l02a1     = $02A1 =    673          opense.asm:277
l02ab     = $02AB =    683          opense.asm:285
l02bf     = $02BF =    703          opense.asm:302
l02c6     = $02C6 =    710          opense.asm:307
l02d1     = $02D1 =    721          opense.asm:316
l02f1     = $02F1 =    753          opense.asm:336
l0308     = $0308 =    776          opense.asm:352
l0310     = $0310 =    784          opense.asm:357
l031e     = $031E =    798          opense.asm:369
l032c     = $032C =    812          opense.asm:380
l0333     = $0333 =    819          opense.asm:387
l034b     = $034B =    843          opense.asm:402
l035a     = $035A =    858          opense.asm:410
l035f     = $035F =    863          opense.asm:416
l037a     = $037A =    890          opense.asm:433
l0381     = $0381 =    897          opense.asm:440
l0395     = $0395 =    917          opense.asm:453
l03a1     = $03A1 =    929          opense.asm:461
l03b2     = $03B2 =    946          opense.asm:477
l03b5     = $03B5 =    949          opense.asm:480
l03d1     = $03D1 =    977          opense.asm:498
l03d6     = $03D6 =    982          opense.asm:505
l03f2     = $03F2 =   1010          opense.asm:525
l03f6     = $03F6 =   1014          opense.asm:530
l03f8     = $03F8 =   1016          opense.asm:534
l0425     = $0425 =   1061          opense.asm:567
l0427     = $0427 =   1063          opense.asm:570
l046e     = $046E =   1134          opense.asm:621
l04aa     = $04AA =   1194          opense.asm:624
l04b9     = $04B9 =   1209          opense.asm:636
l04c2     = $04C2 =   1218          opense.asm:644
l04d0     = $04D0 =   1232          opense.asm:652
l04d8     = $04D8 =   1240          opense.asm:660
l04ea     = $04EA =   1258          opense.asm:672
l04f2     = $04F2 =   1266          opense.asm:678
l04fe     = $04FE =   1278          opense.asm:686
l0505     = $0505 =   1285          opense.asm:692
l0507     = $0507 =   1287          opense.asm:696
l050e     = $050E =   1294          opense.asm:702
l0511     = $0511 =   1297          opense.asm:706
l0514     = $0514 =   1300          opense.asm:710
l051a     = $051A =   1306          opense.asm:715
l051c     = $051C =   1308          opense.asm:718
l0525     = $0525 =   1317          opense.asm:726
l053c     = $053C =   1340          opense.asm:741
l053f     = $053F =   1343          opense.asm:745
l0554     = $0554 =   1364          opense.asm:761
l0556     = $0556 =   1366          opense.asm:765
l056b     = $056B =   1387          opense.asm:781
l056c     = $056C =   1388          opense.asm:784
l0574     = $0574 =   1396          opense.asm:789
l0580     = $0580 =   1408          opense.asm:798
l058f     = $058F =   1423          opense.asm:808
l05a9     = $05A9 =   1449          opense.asm:824
l05b3     = $05B3 =   1459          opense.asm:831
l05bd     = $05BD =   1469          opense.asm:840
l05c2     = $05C2 =   1474          opense.asm:845
l05c4     = $05C4 =   1476          opense.asm:848 (unused)
l05c5     = $05C5 =   1477          opense.asm:851
l05c8     = $05C8 =   1480          opense.asm:855
l05ca     = $05CA =   1482          opense.asm:858
l05e3     = $05E3 =   1507          opense.asm:876
l05e7     = $05E7 =   1511          opense.asm:880
l05e9     = $05E9 =   1513          opense.asm:883
l05ed     = $05ED =   1517          opense.asm:888
l0605     = $0605 =   1541          opense.asm:907
l0621     = $0621 =   1569          opense.asm:922
l0629     = $0629 =   1577          opense.asm:929
l0644     = $0644 =   1604          opense.asm:946
l064b     = $064B =   1611          opense.asm:952
l0652     = $0652 =   1618          opense.asm:959
l0670     = $0670 =   1648          opense.asm:975 (unused)
l0672     = $0672 =   1650          opense.asm:979
l0685     = $0685 =   1669          opense.asm:991
l068f     = $068F =   1679          opense.asm:998
l0692     = $0692 =   1682          opense.asm:1001
l06a0     = $06A0 =   1696          opense.asm:1011
l06c3     = $06C3 =   1731          opense.asm:1026
l06e1     = $06E1 =   1761          opense.asm:1041
l06f0     = $06F0 =   1776          opense.asm:1050
l06f5     = $06F5 =   1781          opense.asm:1054
l06f9     = $06F9 =   1785          opense.asm:1058
l0710     = $0710 =   1808          opense.asm:1069
l0716     = $0716 =   1814          opense.asm:1073
l0723     = $0723 =   1827          opense.asm:1080
l073a     = $073A =   1850          opense.asm:1091
l075a     = $075A =   1882          opense.asm:1105
l0767     = $0767 =   1895          opense.asm:1113
l078a     = $078A =   1930          opense.asm:1130
l07a6     = $07A6 =   1958          opense.asm:1149
l07ad     = $07AD =   1965          opense.asm:1157
l07cb     = $07CB =   1995          opense.asm:1174
l07e9     = $07E9 =   2025          opense.asm:1190
l07f4     = $07F4 =   2036          opense.asm:1198
l0800     = $0800 =   2048          opense.asm:1207
l0802     = $0802 =   2050          opense.asm:1210
l0808     = $0808 =   2056          opense.asm:1218
l0819     = $0819 =   2073          opense.asm:1231
l0825     = $0825 =   2085          opense.asm:1239
l082e     = $082E =   2094          opense.asm:1246
l084c     = $084C =   2124          opense.asm:1266
l0873     = $0873 =   2163          opense.asm:1293
l08ad     = $08AD =   2221          opense.asm:1320
l08b6     = $08B6 =   2230          opense.asm:1327
l08d2     = $08D2 =   2258          opense.asm:1345
l08d7     = $08D7 =   2263          opense.asm:1350
l08df     = $08DF =   2271          opense.asm:1359
l08eb     = $08EB =   2283          opense.asm:1369
l08f0     = $08F0 =   2288          opense.asm:1373
l08f9     = $08F9 =   2297          opense.asm:1381
l0901     = $0901 =   2305          opense.asm:1388
l0909     = $0909 =   2313          opense.asm:1395
l0912     = $0912 =   2322          opense.asm:1403
l091e     = $091E =   2334          opense.asm:1414
l0921     = $0921 =   2337          opense.asm:1418
l0923     = $0923 =   2339          opense.asm:1421
l092c     = $092C =   2348          opense.asm:1429
l093e     = $093E =   2366          opense.asm:1440
l0955     = $0955 =   2389          opense.asm:1455
l0958     = $0958 =   2392          opense.asm:1458
l0970     = $0970 =   2416          opense.asm:1475
l0991     = $0991 =   2449          opense.asm:1491
l09a1     = $09A1 =   2465          opense.asm:1500
l09af     = $09AF =   2479          opense.asm:1510
l09bb     = $09BB =   2491          opense.asm:1519
l09c2     = $09C2 =   2498          opense.asm:1524
l09c3     = $09C3 =   2499          opense.asm:1527
l09e5     = $09E5 =   2533          opense.asm:1544
l0a11     = $0A11 =   2577          opense.asm:1572
l0a23     = $0A23 =   2595          opense.asm:1592
l0a37     = $0A37 =   2615          opense.asm:1605
l0a49     = $0A49 =   2633          opense.asm:1615
l0a52     = $0A52 =   2642          opense.asm:1621
l0a58     = $0A77 =   2679          opense.asm:1656
l0a59     = $0A59 =   2649          opense.asm:1628
l0a5b     = $0A5B =   2651          opense.asm:1631
l0a5d     = $0A5D =   2653          opense.asm:1634
l0a65     = $0A65 =   2661          opense.asm:1639
l0a6a     = $0A6A =   2666          opense.asm:1643
l0a6d     = $0A6D =   2669          opense.asm:1646
l0a70     = $0A70 =   2672          opense.asm:1649
l0a7e     = $0A7E =   2686          opense.asm:1661
l0a87     = $0A87 =   2695          opense.asm:1670
l0aa6     = $0AA6 =   2726          opense.asm:1689
l0abc     = $0ABC =   2748          opense.asm:1700
l0ac2     = $0AC2 =   2754          opense.asm:1704
l0ac3     = $0AC3 =   2755          opense.asm:1707
l0ad0     = $0AD0 =   2768          opense.asm:1716
l0ad9     = $0AD9 =   2777          opense.asm:1723
l0adc     = $0ADC =   2780          opense.asm:1726
l0aea     = $0AEA =   2794          opense.asm:1733
l0af6     = $0AF6 =   2806          opense.asm:1739
l0b03     = $0B03 =   2819          opense.asm:1747
l0b24     = $0B24 =   2852          opense.asm:1768
l0b38     = $0B38 =   2872          opense.asm:1779
l0b3e     = $0B3E =   2878          opense.asm:1783
l0b4c     = $0B4C =   2892          opense.asm:1794
l0b52     = $0B52 =   2898          opense.asm:1801
l0b5f     = $0B5F =   2911          opense.asm:1809
l0b65     = $0B65 =   2917          opense.asm:1813
l0b6a     = $0B6A =   2922          opense.asm:1817
l0b76     = $0B76 =   2934          opense.asm:1825
l0b7f     = $0B7F =   2943          opense.asm:1835
l0b87     = $0B87 =   2951          opense.asm:1843
l0b98     = $0B98 =   2968          opense.asm:1856
l0ba0     = $0BA0 =   2976          opense.asm:1865
l0bb6     = $0BB6 =   2998          opense.asm:1886
l0bbb     = $0BBB =   3003          opense.asm:1892
l0bd0     = $0BD0 =   3024          opense.asm:1905
l0bdb     = $0BDB =   3035          opense.asm:1916
l0bdd9    = $0BD9 =   3033          opense.asm:1912
l0bfa     = $0BFA =   3066          opense.asm:1936
l0c08     = $0C08 =   3080          opense.asm:1944
l0c0a     = $0C0A =   3082          opense.asm:1948
l0c10     = $0C10 =   3088          opense.asm:1954
l0c14     = $0C14 =   3092          opense.asm:1958
l0c22     = $0C22 =   3106          opense.asm:1965
l0c35     = $0C35 =   3125          opense.asm:1978
l0c3b     = $0C3B =   3131          opense.asm:1984
l0c41     = $0C41 =   3137          opense.asm:1992
l0c55     = $0C55 =   3157          opense.asm:2011
l0c81     = $0C81 =   3201          opense.asm:2031
l0c88     = $0C88 =   3208          opense.asm:2039
l0cce     = $0CCE =   3278          opense.asm:2072
l0cec     = $0CEC =   3308          opense.asm:2092
l0cf4     = $0CF4 =   3316          opense.asm:2101
l0cfe     = $0CFE =   3326          opense.asm:2108 (unused)
l0d02     = $0D02 =   3330          opense.asm:2115
l0d1c     = $0D1C =   3356          opense.asm:2131
l0d2d     = $0D2D =   3373          opense.asm:2144
l0d5b     = $0D5B =   3419          opense.asm:2168
l0d65     = $0D65 =   3429          opense.asm:2175
l0d84     = $0D84 =   3460          opense.asm:2196 (unused)
l0d87     = $0D87 =   3463          opense.asm:2199
l0d89     = $0D89 =   3465          opense.asm:2202
l0d8e     = $0D8E =   3470          opense.asm:2208
l0d94     = $0D94 =   3476          opense.asm:2212
l0da0     = $0DA0 =   3488          opense.asm:2219
l0daf     = $0DAF =   3503          opense.asm:2230
l0dd3     = $0DD3 =   3539          opense.asm:2246
l0dd9     = $0DD9 =   3545          opense.asm:2250
l0de5     = $0DE5 =   3557          opense.asm:2257
l0dfe     = $0DFE =   3582          opense.asm:2280
l0e00     = $0E00 =   3584          opense.asm:2283
l0e05     = $0E05 =   3589          opense.asm:2287
l0e0d     = $0E0D =   3597          opense.asm:2295
l0e19     = $0E19 =   3609          opense.asm:2304
l0e44     = $0E44 =   3652          opense.asm:2334
l0e4a     = $0E4A =   3658          opense.asm:2339
l0e4d     = $0E4D =   3661          opense.asm:2344
l0e80     = $0E80 =   3712          opense.asm:2380
l0e88     = $0E88 =   3720          opense.asm:2388
l0e9b     = $0E9B =   3739          opense.asm:2408
l0eac     = $0EAC =   3756          opense.asm:2423
l0ebb     = $0EBB =   3771          opense.asm:2432
l0ec5     = $0EC5 =   3781          opense.asm:2438
l0ed4     = $0ED4 =   3796          opense.asm:2450
l0ede     = $0EDE =   3806          opense.asm:2458
l0eed     = $0EED =   3821          opense.asm:2466
l0f00     = $0F00 =   3840          opense.asm:2477
l0f14     = $0F14 =   3860          opense.asm:2494
l0f1a     = $0F1A =   3866          opense.asm:2498
l0f38     = $0F38 =   3896          opense.asm:2515
l0f6c     = $0F6C =   3948          opense.asm:2542
l0f87     = $0F87 =   3975          opense.asm:2559
l0f8e     = $0F8E =   3982          opense.asm:2565
l0f92     = $0F92 =   3986          opense.asm:2569
l0ff9     = $0FF9 =   4089          opense.asm:2632
l0fff     = $0FFF =   4095          opense.asm:2637
l100e     = $100E =   4110          opense.asm:2651
l100f     = $100F =   4111          opense.asm:2654
l101a     = $101A =   4122          opense.asm:2663
l101f     = $101F =   4127          opense.asm:2670
l1037     = $1037 =   4151          opense.asm:2690
l1042     = $1042 =   4162          opense.asm:2700
l1056     = $1056 =   4182          opense.asm:2715
l105e     = $105E =   4190          opense.asm:2722
l1068     = $1068 =   4200          opense.asm:2730
l108b     = $108B =   4235          opense.asm:2753
l1095     = $1095 =   4245          opense.asm:2758
l10b3     = $10B3 =   4275          opense.asm:2775
l10d9     = $10D9 =   4313          opense.asm:2796
l10e6     = $10E6 =   4326          opense.asm:2805
l10f4     = $10F4 =   4340          opense.asm:2815
l10fa     = $10FA =   4346          opense.asm:2820
l1105     = $1105 =   4357          opense.asm:2829
l110d     = $110D =   4365          opense.asm:2834
l1113     = $1113 =   4371          opense.asm:2838
l111b     = $111B =   4379          opense.asm:2846
l111d     = $111D =   4381          opense.asm:2850
l1150     = $1150 =   4432          opense.asm:2874
l115e     = $115E =   4446          opense.asm:2883
l1167     = $1167 =   4455          opense.asm:2890
l1179     = $1179 =   4473          opense.asm:2900
l117c     = $117C =   4476          opense.asm:2905
l117e     = $117E =   4478          opense.asm:2909
l1190     = $1190 =   4496          opense.asm:2920
l1195     = $1195 =   4501          opense.asm:2925
l11a7     = $11A7 =   4519          opense.asm:2934
l11cb     = $11B7 =   4535          opense.asm:2945
l11cf     = $11CF =   4559          opense.asm:2960
l12a2     = $12A2 =   4770          opense.asm:3061
l12a9     = $12A9 =   4777          opense.asm:3065
l12ac     = $12AC =   4780          opense.asm:3068
l12cf     = $12CF =   4815          opense.asm:3082
l1301     = $1301 =   4865          opense.asm:3102
l130f     = $130F =   4879          opense.asm:3109
l1344     = $1344 =   4932          opense.asm:3131
l134a     = $134A =   4938          opense.asm:3135
l1373     = $1373 =   4979          opense.asm:3156
l1376     = $1376 =   4982          opense.asm:3159
l1384     = $1384 =   4996          opense.asm:3167
l1386     = $1386 =   4998          opense.asm:3170
l1396     = $1396 =   5014          opense.asm:3179
l13b6     = $13B6 =   5046          opense.asm:3182
l13d5     = $13D5 =   5077          opense.asm:3185
l140c     = $1403 =   5123          opense.asm:3188
l1555     = $1555 =   5461          opense.asm:3191
l15ab     = $15AB =   5547          opense.asm:3249
l15f7     = $15F7 =   5623          opense.asm:3301
l1601     = $1601 =   5633          opense.asm:3311
l1610     = $1610 =   5648          opense.asm:3327
l162c     = $162C =   5676          opense.asm:3347
l1634     = $1634 =   5684          opense.asm:3356
l1642     = $1642 =   5698          opense.asm:3362
l1646     = $1646 =   5702          opense.asm:3365
l1649     = $1649 =   5705          opense.asm:3368
l1650     = $1650 =   5712          opense.asm:3374
l1651     = $1651 =   5713          opense.asm:3377
l168f     = $168F =   5775          opense.asm:3435
l16db     = $16DB =   5851          opense.asm:3491
l16dc     = $16DC =   5852          opense.asm:3494
l16e5     = $16E5 =   5861          opense.asm:3504
l16fc     = $16FC =   5884          opense.asm:3518
l1701     = $1701 =   5889          opense.asm:3525
l1714     = $1714 =   5908          opense.asm:3539
l1716     = $1716 =   5910          opense.asm:3543
l171e     = $171E =   5918          opense.asm:3550
l1727     = $1727 =   5927          opense.asm:3559
l1736     = $1736 =   5942          opense.asm:3572
l1756     = $1756 =   5974          opense.asm:3595
l175d     = $175D =   5981          opense.asm:3602
l1767     = $1767 =   5991          opense.asm:3613
l177a     = $177A =   6010          opense.asm:3627
l1781     = $1781 =   6017          opense.asm:3633
l1785     = $1785 =   6021          opense.asm:3637
l1789     = $1789 =   6025          opense.asm:3641
l178b     = $178B =   6027          opense.asm:3644
l1793     = $1793 =   6035          opense.asm:3653 (unused)
l17ce     = $17CE =   6094          opense.asm:3680
l17e4     = $17E4 =   6116          opense.asm:3697
l17ed     = $17ED =   6125          opense.asm:3703
l17fb     = $17FB =   6139          opense.asm:3715
l1814     = $1814 =   6164          opense.asm:3728 (unused)
l1819     = $1819 =   6169          opense.asm:3732
l181f     = $181F =   6175          opense.asm:3737
l1822     = $1822 =   6178          opense.asm:3740
l1833     = $1833 =   6195          opense.asm:3750
l1835     = $1835 =   6197          opense.asm:3753
l1860     = $1860 =   6240          opense.asm:3777
l187f     = $187F =   6271          opense.asm:3798
l1883     = $1883 =   6275          opense.asm:3801
l1885     = $1885 =   6277          opense.asm:3805
l1895     = $1895 =   6293          opense.asm:3814
l18a6     = $18A6 =   6310          opense.asm:3826
l18a8     = $18A8 =   6312          opense.asm:3830
l18b4     = $18B4 =   6324          opense.asm:3843
l18b5     = $18B5 =   6325          opense.asm:3846
l18bc     = $18BC =   6332          opense.asm:3855
l18e5     = $18E5 =   6373          opense.asm:3883
l18ee     = $18EE =   6382          opense.asm:3889
l18ff     = $18FF =   6399          opense.asm:3901
l1903     = $1903 =   6403          opense.asm:3905
l190c     = $190C =   6412          opense.asm:3912
l1937     = $1937 =   6455          opense.asm:3953
l1946     = $1946 =   6470          opense.asm:3964
l1959     = $1959 =   6489          opense.asm:3974
l1963     = $1963 =   6499          opense.asm:3981
l1967     = $1967 =   6503          opense.asm:3985
l1988     = $1988 =   6536          opense.asm:4016 (unused)
l1990     = $1990 =   6544          opense.asm:4023
l1998     = $1998 =   6552          opense.asm:4032
l199a     = $199A =   6554          opense.asm:4036
l19a5     = $19A5 =   6565          opense.asm:4043
l19b1     = $19B1 =   6577          opense.asm:4053
l1b17     = $1B17 =   6935          opense.asm:4441
l1b7d     = $1B7D =   7037          opense.asm:4512
l1b9e     = $1B9E =   7070          opense.asm:4529
l1bb0     = $1BB0 =   7088          opense.asm:4541 (unused)
l1c56     = $1C56 =   7254          opense.asm:4675
l1cb9     = $1CB9 =   7353          opense.asm:4746
l1cd2     = $1CD2 =   7378          opense.asm:4761
l1cd7     = $1CD7 =   7383          opense.asm:4765
l1cde     = $1CDE =   7390          opense.asm:4772
l1d00     = $1D00 =   7424          opense.asm:4801
l1d64     = $1D64 =   7524          opense.asm:4869
l1d7c     = $1D7C =   7548          opense.asm:4883
l1d84     = $1D84 =   7556          opense.asm:4890
l1d86     = $1D86 =   7558          opense.asm:4894
l1d8b     = $1D8B =   7563          opense.asm:4899
l1da3     = $1DA3 =   7587          opense.asm:4920
l1dec     = $1DEC =   7660          opense.asm:4981
l1ded     = $1DED =   7661          opense.asm:4984
l1e0a     = $1E0A =   7690          opense.asm:5000
l1e1e     = $1E1E =   7710          opense.asm:5009
l1e27     = $1E27 =   7719          opense.asm:5016
l1e2c     = $1E2C =   7724          opense.asm:5020
l1e37     = $1E37 =   7735          opense.asm:5027
l1e39     = $1E39 =   7737          opense.asm:5030
l1f1a     = $1F1A =   7962          opense.asm:5193
l1f1f     = $1F1F =   7967          opense.asm:5197
l1f49     = $1F49 =   8009          opense.asm:5236
l1f60     = $1F60 =   8032          opense.asm:5254
l1f6a     = $1F6A =   8042          opense.asm:5260
l1f7d     = $1F7D =   8061          opense.asm:5270
l1f86     = $1F86 =   8070          opense.asm:5277
l1f89     = $1F89 =   8073          opense.asm:5280
l1f94     = $1F94 =   8084          opense.asm:5289
l1fa6     = $1FA6 =   8102          opense.asm:5301
l1fbd     = $1FBD =   8125          opense.asm:5315
l1fcf     = $1FCF =   8143          opense.asm:5332
l203c     = $203C =   8252          opense.asm:5400
l2048     = $2048 =   8264          opense.asm:5414
l2061     = $2061 =   8289          opense.asm:5432
l206e     = $206E =   8302          opense.asm:5443
l2070     = $2070 =   8304          opense.asm:5447
l207c     = $207C =   8316          opense.asm:5456
l2096     = $2096 =   8342          opense.asm:5471
l20ad     = $20AD =   8365          opense.asm:5482
l20ed     = $20ED =   8429          opense.asm:5514
l20fa     = $20FA =   8442          opense.asm:5520
l211c     = $211C =   8476          opense.asm:5539
l2148     = $2148 =   8520          opense.asm:5567
l2161     = $2161 =   8545          opense.asm:5579
l2174     = $2174 =   8564          opense.asm:5587
l219b     = $219B =   8603          opense.asm:5605
l21af     = $21AF =   8623          opense.asm:5616
l21b2     = $21B2 =   8626          opense.asm:5619
l21d0     = $21D0 =   8656          opense.asm:5638
l21e1     = $21E1 =   8673          opense.asm:5654
l2211     = $2211 =   8721          opense.asm:5693
l2234     = $2234 =   8756          opense.asm:5717
l223e     = $223E =   8766          opense.asm:5726
l2246     = $2246 =   8774          opense.asm:5736
l2257     = $2257 =   8791          opense.asm:5748
l2258     = $2258 =   8792          opense.asm:5751
l2273     = $2273 =   8819          opense.asm:5775
l227d     = $227D =   8829          opense.asm:5784
l2294     = $2294 =   8852          opense.asm:5802
l22a6     = $22A6 =   8870          opense.asm:5814
l22aa     = $22AA =   8874          opense.asm:5818
l22cb     = $22CB =   8907          opense.asm:5847
l22d4     = $22D4 =   8916          opense.asm:5854
l22e5     = $22E5 =   8933          opense.asm:5865
l22f0     = $22F0 =   8944          opense.asm:5872
l22fd     = $22FD =   8957          opense.asm:5882
l2303     = $2303 =   8963          opense.asm:5888
l233b     = $233B =   9019          opense.asm:5930
l235a     = $235A =   9050          opense.asm:5956
l2382     = $2382 =   9090          opense.asm:5988
l238d     = $238D =   9101          opense.asm:5995
l23a3     = $23A3 =   9123          opense.asm:6012
l2405     = $2405 =   9221          opense.asm:6102
l2408     = $2408 =   9224          opense.asm:6106
l2414     = $2414 =   9236          opense.asm:6112
l241e     = $241E =   9246          opense.asm:6121
l2425     = $2425 =   9253          opense.asm:6130
l2439     = $2439 =   9273          opense.asm:6152
l247d     = $247D =   9341          opense.asm:6201
l2495     = $2495 =   9365          opense.asm:6220
l2497     = $2497 =   9367          opense.asm:6223
l24c4     = $24C4 =   9412          opense.asm:6266
l24cb     = $24CB =   9419          opense.asm:6274
l24ce     = $24CE =   9422          opense.asm:6279
l24d4     = $24D4 =   9428          opense.asm:6285
l24db     = $24DB =   9435          opense.asm:6293
l24df     = $24DF =   9439          opense.asm:6299
l24ec     = $24EC =   9452          opense.asm:6310
l24f7     = $24F7 =   9463          opense.asm:6320
l24ff     = $24FF =   9471          opense.asm:6332
l250f     = $250F =   9487          opense.asm:6343
l2522     = $2522 =   9506          opense.asm:6354
l252d     = $252D =   9517          opense.asm:6362
l2535     = $2535 =   9525          opense.asm:6369
l2538     = $2538 =   9528          opense.asm:6372 (unused)
l253b     = $253B =   9531          opense.asm:6375
l253e     = $253E =   9534          opense.asm:6379
l2549     = $2549 =   9545          opense.asm:6390
l254c     = $254C =   9548          opense.asm:6394
l2562     = $2562 =   9570          opense.asm:6412
l2563     = $2563 =   9571          opense.asm:6415
l2569     = $2569 =   9577          opense.asm:6421
l257e     = $257E =   9598          opense.asm:6436
l2580     = $2580 =   9600          opense.asm:6440
l2596     = $2596 =   9622          opense.asm:6457
l25af     = $25AF =   9647          opense.asm:6472
l25b3     = $25B3 =   9651          opense.asm:6476
l25be     = $25BE =   9662          opense.asm:6484
l25cb     = $25CB =   9675          opense.asm:6493
l25d9     = $25D9 =   9689          opense.asm:6505
l25e8     = $25E8 =   9704          opense.asm:6516
l25f5     = $25F5 =   9717          opense.asm:6524
l2660     = $2660 =   9824          opense.asm:6593
l2665     = $2665 =   9829          opense.asm:6597
l2668     = $2668 =   9832          opense.asm:6600
l2672     = $2672 =   9842          opense.asm:6606
l267b     = $267B =   9851          opense.asm:6612
l2684     = $2684 =   9860          opense.asm:6618
l2695     = $2695 =   9877          opense.asm:6629
l26b6     = $26B6 =   9910          opense.asm:6651
l26dd     = $26DD =   9949          opense.asm:6674
l26df     = $26DF =   9951          opense.asm:6677
l274c     = $274C =  10060          opense.asm:6746
l2795     = $2795 =  10133          opense.asm:6802
l27bd     = $27BD =  10173          opense.asm:6822
l27d9     = $27D9 =  10201          opense.asm:6841
l27e4     = $27E4 =  10212          opense.asm:6849
l27f4     = $27F4 =  10228          opense.asm:6863
l27f7     = $27F7 =  10231          opense.asm:6866
l2802     = $2802 =  10242          opense.asm:6876
l2808     = $2808 =  10248          opense.asm:6882
l2814     = $2814 =  10260          opense.asm:6891
l2825     = $2825 =  10277          opense.asm:6902
l2831     = $2831 =  10289          opense.asm:6911
l2843     = $2843 =  10307          opense.asm:6922
l2852     = $2852 =  10322          opense.asm:6933
l2885     = $2885 =  10373          opense.asm:6963
l288d     = $288D =  10381          opense.asm:6973
l28ab     = $28AB =  10411          opense.asm:6991
l28e3     = $28E3 =  10467          opense.asm:7028
l2951     = $2951 =  10577          opense.asm:7122
l295a     = $295A =  10586          opense.asm:7128
l296b     = $296B =  10603          opense.asm:7141
l2981     = $2981 =  10625          opense.asm:7156
l2991     = $2991 =  10641          opense.asm:7165
l2ab6     = $2AB6 =  10934          opense.asm:7400
l2b1f     = $2B1F =  11039          opense.asm:7487
l2b29     = $2B29 =  11049          opense.asm:7493
l2bea     = $2BEA =  11242          opense.asm:7644
l2c7c     = $2C7C =  11388          opense.asm:7754
l2ca2     = $2CA2 =  11426          opense.asm:7790
l2cb3     = $2CB3 =  11443          opense.asm:7802
l2cb8     = $2CB8 =  11448          opense.asm:7807
l2cd5     = $2CD5 =  11477          opense.asm:7828
l2cf2     = $2CF2 =  11506          opense.asm:7856
l2d55     = $2D55 =  11605          opense.asm:7943
l2d60     = $2D60 =  11616          opense.asm:7952
l2d6d     = $2D6D =  11629          opense.asm:7963
l2d6e     = $2D6E =  11630          opense.asm:7966
l2d71     = $2D71 =  11633          opense.asm:7971
l2d7b     = $2D7B =  11643          opense.asm:7981
l2d8c     = $2D8C =  11660          opense.asm:8002 (unused)
l2d8e     = $2D8E =  11662          opense.asm:8005
l2dc1     = $2DC1 =  11713          opense.asm:8058
l2e01     = $2E01 =  11777          opense.asm:8121
l2e1e     = $2E1E =  11806          opense.asm:8145
l2e24     = $2E24 =  11812          opense.asm:8152
l2e56     = $2E56 =  11862          opense.asm:8188
l2e6f     = $2E6F =  11887          opense.asm:8203
l2e7b     = $2E7B =  11899          opense.asm:8213
l2e8a     = $2E8A =  11914          opense.asm:8223
l2ea1     = $2EA1 =  11937          opense.asm:8239
l2ea9     = $2EA9 =  11945          opense.asm:8246
l2eb3     = $2EB3 =  11955          opense.asm:8253
l2eb8     = $2EB8 =  11960          opense.asm:8258
l2ecb     = $2ECB =  11979          opense.asm:8268
l2ecf     = $2ECF =  11983          opense.asm:8274
l2edf     = $2EDF =  11999          opense.asm:8285
l2eec     = $2EEC =  12012          opense.asm:8294
l2eef     = $2EEF =  12015          opense.asm:8297
l2f0c     = $2F0C =  12044          opense.asm:8316
l2f18     = $2F18 =  12056          opense.asm:8325
l2f25     = $2F25 =  12069          opense.asm:8336
l2f2d     = $2F2D =  12077          opense.asm:8342
l2f46     = $2F46 =  12102          opense.asm:8358
l2f4a     = $2F4A =  12106          opense.asm:8362
l2f52     = $2F52 =  12114          opense.asm:8369
l2f59     = $2F59 =  12121          opense.asm:8377
l2f5e     = $2F5E =  12126          opense.asm:8381
l2f64     = $2F64 =  12132          opense.asm:8388
l2f6c     = $2F6C =  12140          opense.asm:8395
l2f83     = $2F83 =  12163          opense.asm:8411
l2f85     = $2F85 =  12165          opense.asm:8414
l2f8b     = $2F8B =  12171          opense.asm:8419
l3032     = $3032 =  12338          opense.asm:8582
l303c     = $303C =  12348          opense.asm:8594
l30a9     = $30A9 =  12457          opense.asm:8689
l30ea     = $30EA =  12522          opense.asm:8746
l31db     = $31DB =  12763          opense.asm:8958 (unused)
l3221     = $3221 =  12833          opense.asm:9019
l3232     = $3232 =  12850          opense.asm:9033
l3235     = $3235 =  12853          opense.asm:9036
l3293     = $3293 =  12947          opense.asm:9118
l3296     = $3296 =  12950          opense.asm:9121
l32b1     = $32B1 =  12977          opense.asm:9146
l32b2     = $32B2 =  12978          opense.asm:9149
l32bd     = $32BD =  12989          opense.asm:9158
l33b8     = $33B8 =  13240          opense.asm:9318
l3403     = $3403 =  13315          opense.asm:9386
l3468     = $3467 =  13415          opense.asm:9477
l347f     = $347F =  13439          opense.asm:9497
l34af     = $34AF =  13487          opense.asm:9535
l34c0     = $34C0 =  13504          opense.asm:9548
l359a     = $359A =  13722          opense.asm:9758
l35dc     = $35DC =  13788          opense.asm:9807
l382f     = $382F =  14383          opense.asm:10243
l3833     = $3833 =  14387          opense.asm:10248
l3882     = $3882 =  14466          opense.asm:10317
l388b     = $388B =  14475          opense.asm:10326
l3893     = $3893 =  14483          opense.asm:10332
l3898     = $3898 =  14488          opense.asm:10338
l38af     = $38AF =  14511          opense.asm:10355
l38c7     = $38C7 =  14535          opense.asm:10369
l38ce     = $38CE =  14542          opense.asm:10373
l38e6     = $38E4 =  14564          opense.asm:10387
l38ec     = $38EB =  14571          opense.asm:10391
l38ff     = $38FF =  14591          opense.asm:10399 (unused)
l3909     = $3909 =  14601          opense.asm:10408
l3914     = $3914 =  14612          opense.asm:10416
l3915     = $3915 =  14613          opense.asm:10419
l391b     = $391B =  14619          opense.asm:10425
l391d     = $391D =  14621          opense.asm:10429
l3927     = $3927 =  14631          opense.asm:10434
l3934     = $3933 =  14643          opense.asm:10441
l3943     = $3943 =  14659          opense.asm:10452
l394d     = $394D =  14669          opense.asm:10459
l3954     = $3954 =  14676          opense.asm:10464
l3958     = $3958 =  14680          opense.asm:10468
l3963     = $3963 =  14691          opense.asm:10477
l3977     = $3977 =  14711          opense.asm:10487
l397f     = $397F =  14719          opense.asm:10493
l3989     = $3989 =  14729          opense.asm:10503
l398d     = $398D =  14733          opense.asm:10506
l3990     = $3990 =  14736          opense.asm:10509
l39a7     = $39A7 =  14759          opense.asm:10521
l39ba     = $39BA =  14778          opense.asm:10535
l39c6     = $39C6 =  14790          opense.asm:10545
l39d0     = $39D0 =  14800          opense.asm:10555
l39db     = $39DB =  14811          opense.asm:10560
l39ec     = $39EC =  14828          opense.asm:10569
l39f3     = $39F3 =  14835          opense.asm:10574
l39ff     = $39FF =  14847          opense.asm:10582 (unused)
l3a01     = $3A01 =  14849          opense.asm:10585
l3a05     = $3A05 =  14853          opense.asm:10589
l3a15     = $3A15 =  14869          opense.asm:10599
l3a1b     = $3A1B =  14875          opense.asm:10605
l3a1d     = $3A1D =  14877          opense.asm:10608
l3a1e     = $3A1E =  14878          opense.asm:10611
l3a34     = $3A34 =  14900          opense.asm:10626
l3a40     = $3A40 =  14912          opense.asm:10633
l3a44     = $3A44 =  14916          opense.asm:10638
l3a4f     = $3A4F =  14927          opense.asm:10647
l3a51     = $3A51 =  14929          opense.asm:10650
l3a52     = $3A52 =  14930          opense.asm:10653
l3a5f     = $3A5F =  14943          opense.asm:10663
l3a68     = $3A68 =  14952          opense.asm:10669
l3a74     = $3A74 =  14964          opense.asm:10678
l3a92     = $3A92 =  14994          opense.asm:10698
l3a9b     = $3A9B =  15003          opense.asm:10705
l3a9e     = $3A9E =  15006          opense.asm:10708
l3aa9     = $3AAA =  15018          opense.asm:10716
l3abc     = $3ABC =  15036          opense.asm:10726
l3ac8     = $3AC8 =  15048          opense.asm:10735
l3ad6     = $3AD6 =  15062          opense.asm:10744
l3ad9     = $3AD9 =  15065          opense.asm:10749
l3adc     = $3ADC =  15068          opense.asm:10754
l3aff     = $3AFF =  15103          opense.asm:10774 (unused)
l3b01     = $3B01 =  15105          opense.asm:10777
l3b0e     = $3B0E =  15118          opense.asm:10785
l3b1c     = $3B1C =  15132          opense.asm:10794
l3b29     = $3B29 =  15145          opense.asm:10802
l3b41     = $3B41 =  15169          opense.asm:10815
l3b63     = $3B63 =  15203          opense.asm:10843
l3b74     = $3B74 =  15220          opense.asm:10854
l3b90     = $3B90 =  15248          opense.asm:10871
l3b94     = $3B94 =  15252          opense.asm:10875
l3b98     = $3B98 =  15256          opense.asm:10880
l3bac     = $3BAC =  15276          opense.asm:10892
l3bc1     = $3BC1 =  15297          opense.asm:10905
l3bc6     = $3BC6 =  15302          opense.asm:10909
l3bd7     = $3BD7 =  15319          opense.asm:10917
l3bff     = $3BFF =  15359          opense.asm:10940 (unused)
l3c01     = $3C01 =  15361          opense.asm:10943
l3c0b     = $3C0B =  15371          opense.asm:10950
l3c44     = $3C44 =  15428          opense.asm:10986
l3c4c     = $3C4C =  15436          opense.asm:10991
l3c58     = $3C58 =  15448          opense.asm:10998
l3c5e     = $3C5E =  15454          opense.asm:11002
l3c6f     = $3C6F =  15471          opense.asm:11014
l3c72     = $3C72 =  15474          opense.asm:11019
l3c76     = $3C76 =  15478          opense.asm:11023
l3c77     = $3C77 =  15479          opense.asm:11026
l3c7d     = $3C7D =  15485          opense.asm:11032
l3ca0     = $3CA0 =  15520          opense.asm:11050
l3ca1     = $3CA1 =  15521          opense.asm:11053
l_adds    = $2BAF =  11183          opense.asm:7597
l_char    = $2B3E =  11070          opense.asm:7508
l_deletes = $2B72 =  11122          opense.asm:7546
l_each_ch = $2B0B =  11019          opense.asm:7471
l_enter   = $2BA6 =  11174          opense.asm:7587
l_exists  = $2B66 =  11110          opense.asm:7539
l_in_w_s  = $2BA3 =  11171          opense.asm:7582
l_length  = $2B9B =  11163          opense.asm:7574
l_news    = $2BC0 =  11200          opense.asm:7612
l_no_sp   = $2B0C =  11020          opense.asm:7474
l_numeric = $2B59 =  11097          opense.asm:7528
l_single  = $2B4F =  11087          opense.asm:7521
l_string  = $2BC6 =  11206          opense.asm:7617
last      = $3861 =  14433          opense.asm:10296
lastk     = $5C08 =  23560          opense.def:519
lead_sp   = $1925 =   6437          opense.asm:3934
left_edge = $102A =   4138          opense.asm:2678
left_key  = $1006 =   4102          opense.asm:2644
less_mask = $328A =  12938          opense.asm:9107
let       = $2AFF =  11007          opense.asm:7465
line_addr = $196E =   6510          opense.asm:3991
line_no   = $1695 =   5781          opense.asm:3442
line_null = $1B29 =   6953          opense.asm:4453
linedraw  = $2477 =   9335          opense.asm:6197
lineend   = $1BB3 =   7091          opense.asm:4547
linerun   = $1B8A =   7050          opense.asm:4519
lines     = $19D5 =   6613          opense.asm:4083
lineuse   = $1BBF =   7103          opense.asm:4556
list      = $17F9 =   6137          opense.asm:3712
listsp    = $5C3F =  23615          opense.def:553
llist     = $17F5 =   6133          opense.asm:3708
lmt_step  = $1D34 =   7476          opense.asm:4839
lmt_v_val = $1DE2 =   7650          opense.asm:4968
ln_fetch  = $190F =   6415          opense.asm:3915
ln_store  = $191C =   6428          opense.asm:3926 (unused)
loc_mem   = $33F7 =  13303          opense.asm:9373
look_vars = $28B2 =  10418          opense.asm:6998
lprint    = $1FC9 =   8137          opense.asm:5325
magenta   = $0003 =      3          opense.def:258 (unused)
make_expt = $313B =  12603          opense.asm:8813
make_room = $1655 =   5717          opense.asm:3383
maskp     = $5C8E =  23694          opense.def:605
maskt     = $5C90 =  23696          opense.def:607
mem       = $5C68 =  23656          opense.def:578
mem_0_1   = $5C93 =  23699          opense.def:610 (unused)
mem_0_2   = $5C94 =  23700          opense.def:611
mem_0_3   = $5C95 =  23701          opense.def:612 (unused)
mem_0_4   = $5C96 =  23702          opense.def:613 (unused)
mem_1     = $5C97 =  23703          opense.def:614 (unused)
mem_1_1   = $5C98 =  23704          opense.def:615 (unused)
mem_1_2   = $5C99 =  23705          opense.def:616
mem_1_3   = $5C9A =  23706          opense.def:617 (unused)
mem_1_4   = $5C9B =  23707          opense.def:618 (unused)
mem_2     = $5C9C =  23708          opense.def:619
mem_2_1   = $5C9D =  23709          opense.def:620 (unused)
mem_2_2   = $5C9E =  23710          opense.def:621
mem_2_3   = $5C9F =  23711          opense.def:622 (unused)
mem_2_4   = $5CA0 =  23712          opense.def:623
mem_3     = $5CA1 =  23713          opense.def:624
mem_3_1   = $5CA1 =  23713          opense.def:625 (unused)
mem_3_2   = $5CA3 =  23715          opense.def:626 (unused)
mem_3_3   = $5CA4 =  23716          opense.def:627 (unused)
mem_3_4   = $5CA5 =  23717          opense.def:628
mem_4     = $5CA6 =  23718          opense.def:629
mem_4_1   = $5CA7 =  23719          opense.def:630
mem_4_2   = $5CA8 =  23720          opense.def:631 (unused)
mem_4_3   = $5CA9 =  23721          opense.def:632
mem_4_4   = $5CAA =  23722          opense.def:633
mem_5     = $5CAB =  23723          opense.def:634
mem_5_1   = $5CAC =  23724          opense.def:635
mem_5_2   = $5CAD =  23725          opense.def:636 (unused)
mem_5_3   = $5CAE =  23726          opense.def:637 (unused)
mem_5_4   = $5CAF =  23727          opense.def:638 (unused)
membot    = $5C92 =  23698          opense.def:609
mlt_loop  = $3114 =  12564          opense.asm:8779
mode      = $5C41 =  23617          opense.def:554
mprseplp  = $1FE5 =   8165          opense.asm:5345
multiply  = $30F0 =  12528          opense.asm:8754
n_l_key   = $101D =   4125          opense.asm:2666
n_l_line  = $155D =   5469          opense.asm:3197
n_l_only  = $18CE =   6350          opense.asm:3868
n_negtv   = $36D9 =  14041          opense.asm:9995
near_zero = $3159 =  12633          opense.asm:8845
neg_byte  = $2FAF =  12207          opense.asm:8453
negate    = $3458 =  13400          opense.asm:9462
new       = $11BB =   4539          opense.asm:2949
newppc    = $5C42 =  23618          opense.def:555
next      = $1DAB =   7595          opense.asm:4927
next_add  = $19DB =   6619          opense.asm:4093
next_ch   = $0020 =     32          opense.def:455
next_five = $19C7 =   6599          opense.asm:4071
next_lett = $19CE =   6606          opense.asm:4076
next_line = $1BD1 =   7121          opense.asm:4571
next_loop = $1DDA =   7642          opense.asm:4959
next_one  = $19B8 =   6584          opense.asm:4060
next_ptr  = $166B =   5739          opense.asm:3399
next_test = $1974 =   6516          opense.asm:3997
nextchar  = $3CB5 =  15541          opense.asm:11069
nextchar2 = $3CB7 =  15543          opense.asm:11073
nextstat  = $1B76 =   7030          opense.asm:4506
nil_bytes = $3272 =  12914          opense.asm:9086
nmi       = $0066 =    102          opense.asm:184 (unused)
nmi_ret   = $0070 =    112          opense.asm:193
nmiadd    = $5CB0 =  23728          opense.def:639
no_add    = $311B =  12571          opense.asm:8786
no_f_ops  = $0000 =      0          opense.def:463
no_number = $1A15 =   6677          opense.asm:4140
no_rstore = $31F9 =  12793          opense.asm:8985
no_to_stk = $1CE6 =   7398          opense.asm:4778
nonsense  = $2CCF =  11471          opense.asm:7822
normalize = $316C =  12652          opense.asm:8864
norml_now = $3186 =  12678          opense.asm:8884
nsppc     = $5C44 =  23620          opense.def:556
nu_or_str = $3528 =  13608          opense.asm:9655
num_exp   = $0006 =      6          opense.def:469
num_exp_0 = $0003 =      3          opense.def:466
number    = $18B1 =   6321          opense.asm:3839
numeric   = $2D1B =  11547          opense.asm:7886
numexp_nofops = $000C =     12          opense.def:475
nxt_dgt_1 = $2CDA =  11482          opense.asm:7835
nxt_dgt_2 = $2D40 =  11584          opense.asm:7924
nxtline   = $5C55 =  23637          opense.def:567
oflow_clr = $3195 =  12693          opense.asm:8895
oflw1_clr = $3146 =  12614          opense.asm:8825
oflw2_clr = $3151 =  12625          opense.asm:8834
oldsp     = $5BFE =  23550          opense.def:516
one       = $385F =  14431          opense.asm:10292
one_shift = $2FE5 =  12261          opense.asm:8509
one_space = $1652 =   5714          opense.asm:3380
onerrflag = $5C7F =  23679          opense.def:593
onerrflag_h = $5C80 =  23680          opense.def:594
opcursor  = $18D3 =   6355          opense.asm:3872
oserror   = $0C86 =   3206          opense.asm:2035
other_str = $358F =  13711          opense.asm:9747
out_code  = $15EF =   5615          opense.asm:3292
out_digit = $192A =   6442          opense.asm:3941
out_line  = $1855 =   6229          opense.asm:3771
out_no    = $1A28 =   6696          opense.asm:4155
out_num   = $1A1B =   6683          opense.asm:4144
p_beep    = $1AC6 =   6854          opense.asm:4330
p_border  = $1ACA =   6858          opense.asm:4334
p_bright  = $1B14 =   6932          opense.asm:4432
p_cat     = $1B0A =   6922          opense.asm:4406
p_circle  = $1ACD =   6861          opense.asm:4338
p_clear   = $1AB0 =   6832          opense.asm:4302
p_close   = $1AD1 =   6865          opense.asm:4342
p_cls     = $1AB3 =   6835          opense.asm:4306
p_cont    = $1AAD =   6829          opense.asm:4298
p_copy    = $1ABD =   6845          opense.asm:4318
p_data    = $1AD4 =   6868          opense.asm:4346
p_deffn   = $1AD7 =   6871          opense.asm:4350
p_delete  = $1ADA =   6874          opense.asm:4354
p_dim     = $1A97 =   6807          opense.asm:4270
p_draw    = $1ADE =   6878          opense.asm:4358
p_edit    = $1AE2 =   6882          opense.asm:4362
p_erase   = $1B0A =   6922          opense.asm:4407
p_flash   = $1B13 =   6931          opense.asm:4429
p_for     = $1A85 =   6789          opense.asm:4254
p_format  = $1AE5 =   6885          opense.asm:4366
p_gosub   = $1A7C =   6780          opense.asm:4242
p_goto    = $1A74 =   6772          opense.asm:4234
p_if      = $1A77 =   6775          opense.asm:4238
p_input   = $1A94 =   6804          opense.asm:4266
p_inverse = $1B15 =   6933          opense.asm:4435
p_let     = $1A71 =   6769          opense.asm:4231
p_list    = $1AA3 =   6819          opense.asm:4286
p_llist   = $1AC3 =   6851          opense.asm:4326
p_load    = $1B0E =   6926          opense.asm:4414
p_lprint  = $1AC0 =   6848          opense.asm:4322
p_merge   = $1B10 =   6928          opense.asm:4420
p_move    = $1AE8 =   6888          opense.asm:4370
p_neg     = $2DF2 =  11762          opense.asm:8103
p_new     = $1A9D =   6813          opense.asm:4278
p_next    = $1A8D =   6797          opense.asm:4258
p_onerr   = $1AED =   6893          opense.asm:4374
p_open    = $1AF0 =   6896          opense.asm:4378
p_out     = $1AF6 =   6902          opense.asm:4382
p_over    = $1B16 =   6934          opense.asm:4438
p_palette = $1AFA =   6906          opense.asm:4386
p_paper   = $1B12 =   6930          opense.asm:4426
p_pause   = $1ABA =   6842          opense.asm:4314
p_pen     = $1B11 =   6929          opense.asm:4423
p_plot    = $1AB6 =   6838          opense.asm:4310
p_poke    = $1AA6 =   6822          opense.asm:4290
p_pos     = $2DF8 =  11768          opense.asm:8110
p_print   = $1A91 =   6801          opense.asm:4262
p_rand    = $1AAA =   6826          opense.asm:4294
p_read    = $1AFE =   6910          opense.asm:4390
p_rem     = $1A9A =   6810          opense.asm:4274
p_renum   = $1B01 =   6913          opense.asm:4394
p_restore = $1B04 =   6916          opense.asm:4398
p_return  = $1A82 =   6786          opense.asm:4250
p_run     = $1AA0 =   6816          opense.asm:4282
p_save    = $1B0D =   6925          opense.asm:4411
p_sound   = $1B07 =   6919          opense.asm:4402
p_stop    = $1A7F =   6783          opense.asm:4246
p_verify  = $1B0F =   6927          opense.asm:4417
palbuf    = $5B00 =  23296          opense.def:514
parerr    = $288B =  10379          opense.asm:6969
pau1      = $1F3D =   7997          opense.asm:5224
pau2      = $1F4F =   8015          opense.asm:5240
pause     = $1F3A =   7994          opense.asm:5221
pchr_copyright = $007F =    127          opense.def:294 (unused)
pchr_pound = $0060 =     96          opense.def:293 (unused)
pflag     = $5C91 =  23697          opense.def:608
plot      = $22DC =   8924          opense.asm:5860
pointers  = $1664 =   5732          opense.asm:3393
poke      = $1E80 =   7808          opense.asm:5082
poke1     = $1E85 =   7813          opense.asm:5087
poke_save = $1E8E =   7822          opense.asm:5093
ppc       = $5C45 =  23621          opense.def:557
pramt     = $5CB4 =  23732          opense.def:641
prcifrn   = $1FF5 =   8181          opense.asm:5356
prep_add  = $2F9B =  12187          opense.asm:8436
prep_m_d  = $30C0 =  12480          opense.asm:8712
print     = $1FCD =   8141          opense.asm:5329
print2    = $1FDF =   8159          opense.asm:5340
print3    = $1FF2 =   8178          opense.asm:5352
print_a   = $0010 =     16          opense.def:453
print_fp  = $2DE3 =  11747          opense.asm:8089
print_sp  = $15F2 =   5618          opense.asm:3296
priority  = $27B0 =  10160          opense.asm:6818
pritem    = $1FFC =   8188          opense.asm:5362
pritem2   = $200E =   8206          opense.asm:5372
pritem4   = $2024 =   8228          opense.asm:5389
prmain    = $09F4 =   2548          opense.asm:1555
prog      = $5C53 =  23635          opense.def:566
prompt    = $211A =   8474          opense.asm:5535
prsepr    = $204E =   8270          opense.asm:5420
prserp3   = $2067 =   8295          opense.asm:5437
prterm    = $2045 =   8261          opense.asm:5410
ptr_done  = $167F =   5759          opense.asm:3419
qmult     = $30EF =  12527          opense.asm:8751
r1offcl   = $24B7 =   9399          opense.asm:6255
ram_check = $03A7 =    935          opense.asm:468
ramtop    = $5CB2 =  23730          opense.def:640
rand      = $1E4F =   7759          opense.asm:5047
re_entry  = $336C =  13164          opense.asm:9254
reclaim_1 = $19E5 =   6629          opense.asm:4106
reclaim_2 = $19E8 =   6632          opense.asm:4109
red       = $0002 =      2          opense.def:257
rem       = $1BB2 =   7090          opense.asm:4544
reorder   = $1D16 =   7446          opense.asm:4818
repdel    = $5C09 =  23561          opense.def:520
report6_2 = $36D7 =  14039          opense.asm:9991
report_1  = $1DD8 =   7640          opense.asm:4955
report_2  = $1C2E =   7214          opense.asm:4646
report_3  = $2A20 =  10784          opense.asm:7281
report_4  = $1F15 =   7957          opense.asm:5189
report_6  = $31AD =  12717          opense.asm:8920
report_7  = $1F36 =   7990          opense.asm:5215
report_b  = $24F9 =   9465          opense.asm:6323
report_b1 = $1E9F =   7839          opense.asm:5110
report_b2 = $35AF =  13743          opense.asm:9776
report_c  = $1C8A =   7306          opense.asm:4716
report_d  = $0D00 =   3328          opense.asm:2111
report_f  = $1765 =   5989          opense.asm:3609
repper    = $5C0A =  23562          opense.def:521
reserve   = $169E =   5790          opense.asm:3451
restore   = $1E42 =   7746          opense.asm:5036
restorez  = $1E45 =   7749          opense.asm:5039
result_ok = $36E0 =  14048          opense.asm:10001
return    = $1F23 =   7971          opense.asm:5201
right_key = $100B =   4107          opense.asm:2648
rslt_zero = $36E2 =  14050          opense.asm:10005
rterr     = $1EDA =   7898          opense.asm:5147
rubout    = $1013 =   4115          opense.asm:2658
run       = $1EA1 =   7841          opense.asm:5114
s_cont_2  = $2712 =  10002          opense.asm:6707
s_cont_3  = $2713 =  10003          opense.asm:6710
s_decimal = $268D =   9869          opense.asm:6624
s_endloop = $2770 =  10096          opense.asm:6774
s_let_num = $26C9 =   9929          opense.asm:6664
s_loop    = $2734 =  10036          opense.asm:6730
s_next    = $2790 =  10128          opense.asm:6797
s_no_to_s = $2707 =   9991          opense.asm:6697
s_not_and = $2788 =  10120          opense.asm:6791
s_numeric = $26C3 =   9923          opense.asm:6660
s_opertr  = $2723 =  10019          opense.asm:6719
s_pi      = $2627 =   9767          opense.asm:6557
s_pi_end  = $2630 =   9776          opense.asm:6565
s_push_po = $270D =   9997          opense.asm:6702
s_rnd     = $25F8 =   9720          opense.asm:6527
s_rnd_end = $2625 =   9765          opense.asm:6554
s_rprt_c2 = $2761 =  10081          opense.asm:6763
s_runtest = $2764 =  10084          opense.asm:6766
s_stk_dec = $26B5 =   9909          opense.asm:6648
s_string  = $25DB =   9691          opense.asm:6509
s_syntest = $275B =  10075          opense.asm:6758
s_tighter = $2773 =  10099          opense.asm:6778
scan_ent  = $3373 =  13171          opense.asm:9260
scan_loop = $1B52 =   6994          opense.asm:4477
scanfix   = $3CA8 =  15528          opense.asm:11059
scanning  = $24FB =   9467          opense.asm:6327
scld      = $00FF =    255          opense.def:441
scrct     = $5C8C =  23692          opense.def:603
screen2   = $0E71 =   3697          opense.asm:2371 (unused)
sdtop     = $5C6C =  23660          opense.def:581
sec_plus  = $354D =  13645          opense.asm:9689
secnd_low = $3543 =  13635          opense.asm:9678
seed      = $5C76 =  23670          opense.def:587
separator = $1B6F =   7023          opense.asm:4499
set_mem   = $16C5 =   5829          opense.asm:3477
set_seed  = $1E5A =   7770          opense.asm:5054
set_stk   = $1C30 =   7216          opense.asm:4650
set_strln = $1C46 =   7238          opense.asm:4662
set_top   = $1213 =   4627          opense.asm:2999
setmin    = $16B0 =   5808          opense.asm:3464
setudg    = $09EE =   2542          opense.asm:1551
setudg2   = $16D4 =   5844          opense.asm:3486
setudg3   = $138D =   5005          opense.asm:3174
setudg_ret = $1210 =   4624          opense.asm:2996
setwork   = $16BF =   5823          opense.asm:3473
sexpt1num = $1C81 =   7297          opense.asm:4708
sexpt2nums = $1C79 =   7289          opense.asm:4700
shift_fp  = $2FDD =  12253          opense.asm:8501
shift_len = $3055 =  12373          opense.asm:8616
shift_one = $316E =  12654          opense.asm:8867
sign_done = $2CFE =  11518          opense.asm:7865
sign_to_c = $34E3 =  13539          opense.asm:9586
skip_zero = $315E =  12638          opense.asm:8852
skipstats = $198B =   6539          opense.asm:4019
sl_define = $2A94 =  10900          opense.asm:7370
sl_over   = $2AA8 =  10920          opense.asm:7386
sl_rpt_c  = $2A7A =  10874          opense.asm:7349
sl_second = $2A81 =  10881          opense.asm:7355
sl_store  = $2AAD =  10925          opense.asm:7390
slicing   = $2A52 =  10834          opense.asm:7322
small     = $37C1 =  14273          opense.asm:10172
sposnl    = $5C8A =  23690          opense.def:601
sposnl_h  = $5C8B =  23691          opense.def:602
sposnu    = $5C88 =  23688          opense.def:599
sposnu_h  = $5C89 =  23689          opense.def:600
st_e_part = $2CFF =  11519          opense.asm:7868
stack_a   = $2D28 =  11560          opense.asm:7898
stack_bc  = $2D2B =  11563          opense.asm:7902
stack_bc1 = $2D2F =  11567          opense.asm:7905
stacka    = $3490 =  13456          opense.asm:9512
start     = $0000 =      0          opense.def:451
statlost  = $1BEC =   7148          opense.asm:4585
stk_code  = $3646 =  13894          opense.asm:9872
stk_const = $33CC =  13260          opense.asm:9333 (unused)
stk_digit = $2D22 =  11554          opense.asm:7893
stk_fetch = $2BF1 =  11249          opense.asm:7651
stk_pntrs = $3597 =  13719          opense.asm:9755
stk_st_0  = $2AB1 =  10929          opense.asm:7394
stk_store = $2AB2 =  10930          opense.asm:7397
stk_to_a  = $2314 =   8980          opense.asm:5903
stk_to_bc = $2307 =   8967          opense.asm:5892
stk_var   = $2996 =  10646          opense.asm:7172
stk_zeros = $33F1 =  13297          opense.asm:9366
stkbot    = $5C63 =  23651          opense.def:574
stkend    = $5C65 =  23653          opense.def:575
stkend_h  = $5C66 =  23654          opense.def:576
stmtlp    = $1B28 =   6952          opense.asm:4450
stmtnext1 = $1BF4 =   7156          opense.asm:4595
stop      = $1CEE =   7406          opense.asm:4786
str_exp   = $000A =     10          opense.def:473
str_test  = $3560 =  13664          opense.asm:9708
streamfe  = $0B17 =   2839          opense.asm:1756
stril     = $5C72 =  23666          opense.def:585
strings   = $3533 =  13619          opense.asm:9663
strms     = $5C10 =  23568          opense.def:527
strms_00  = $5C16 =  23574          opense.def:530
strms_01  = $5C18 =  23576          opense.def:531 (unused)
strms_02  = $5C1A =  23578          opense.def:532 (unused)
strms_03  = $5C1C =  23580          opense.def:533 (unused)
strms_04  = $5C1E =  23582          opense.def:534 (unused)
strms_05  = $5C20 =  23584          opense.def:535 (unused)
strms_06  = $5C22 =  23586          opense.def:536 (unused)
strms_07  = $5C24 =  23588          opense.def:537 (unused)
strms_08  = $5C26 =  23590          opense.def:538 (unused)
strms_09  = $5C28 =  23592          opense.def:539 (unused)
strms_10  = $5C2A =  23594          opense.def:540 (unused)
strms_11  = $5C2C =  23596          opense.def:541 (unused)
strms_12  = $5C2E =  23598          opense.def:542 (unused)
strms_13  = $5C30 =  23600          opense.def:543 (unused)
strms_14  = $5C32 =  23602          opense.def:544 (unused)
strms_15  = $5C34 =  23604          opense.def:545 (unused)
strms_fe  = $5C12 =  23570          opense.def:528 (unused)
strms_ff  = $5C14 =  23572          opense.def:529 (unused)
strmtab   = $15C6 =   5574          opense.asm:3268
strt_mlt  = $3125 =  12581          opense.asm:8794
subn_only = $31F2 =  12786          opense.asm:8978
subppc    = $5C47 =  23623          opense.def:558
sv_arrays = $29AE =  10670          opense.asm:7192
sv_chadd  = $29E0 =  10720          opense.asm:7232
sv_close  = $29D8 =  10712          opense.asm:7226
sv_comma  = $29C3 =  10691          opense.asm:7211
sv_count  = $29E7 =  10727          opense.asm:7238
sv_dim    = $2A48 =  10824          opense.asm:7313
sv_elems  = $2A2C =  10796          opense.asm:7293
sv_loop   = $29EA =  10730          opense.asm:7241
sv_mult   = $29FB =  10747          opense.asm:7254
sv_number = $2A22 =  10786          opense.asm:7285
sv_ptr    = $29C0 =  10688          opense.asm:7207
sv_rpt_c  = $2A12 =  10770          opense.asm:7270
sv_slice  = $2A45 =  10821          opense.asm:7310
sv_sliceq = $2A49 =  10825          opense.asm:7316
sv_smples = $29A1 =  10657          opense.asm:7181
swap_byte = $3423 =  13347          opense.asm:9412
syntax    = $1A39 =   6713          opense.asm:4173
syntax3   = $3901 =  14593          opense.asm:10402
syntax_z  = $2530 =   9520          opense.asm:6365
taddr     = $5C74 =  23668          opense.def:586
tap_offst = $000B =     11          opense.def:474
temp_ptr  = $0078 =    120          opense.asm:204
terror    = $0806 =   2054          opense.asm:1214
test_5_sp = $33AD =  13229          opense.asm:9309
test_end  = $1865 =   6245          opense.asm:3781
test_neg  = $307C =  12412          opense.asm:8647
test_norm = $3155 =  12629          opense.asm:8840
test_room = $1F05 =   7941          opense.asm:5178
test_sp   = $001C =     28          opense.asm:118
thousand  = $1A30 =   6704          opense.asm:4164
tk_abs    = $00BD =    189          opense.def:363 (unused)
tk_acs    = $00B6 =    182          opense.def:356 (unused)
tk_and    = $00C6 =    198          opense.def:372
tk_asn    = $00B5 =    181          opense.def:355 (unused)
tk_at     = $00AC =    172          opense.def:346
tk_atn    = $00B7 =    183          opense.def:357 (unused)
tk_attr   = $00AB =    171          opense.def:345
tk_beep   = $00D7 =    215          opense.def:389 (unused)
tk_bin    = $00C4 =    196          opense.def:370
tk_border = $00E7 =    231          opense.def:405 (unused)
tk_bright = $00DC =    220          opense.def:394 (unused)
tk_chr_str = $00C2 =    194          opense.def:368 (unused)
tk_circle = $00D8 =    216          opense.def:390 (unused)
tk_clear  = $00FD =    253          opense.def:427 (unused)
tk_close  = $00D4 =    212          opense.def:386 (unused)
tk_cls    = $00FB =    251          opense.def:425 (unused)
tk_code   = $00AF =    175          opense.def:349
tk_continue = $00E8 =    232          opense.def:406
tk_copy   = $00FF =    255          opense.def:429 (unused)
tk_cos    = $00B3 =    179          opense.def:353 (unused)
tk_deffn  = $00CE =    206          opense.def:380
tk_delete = $0000 =      0          opense.def:430 (unused)
tk_dim    = $00E9 =    233          opense.def:407 (unused)
tk_dir    = $00CF =    207          opense.def:381 (unused)
tk_draw   = $00FC =    252          opense.def:426 (unused)
tk_edit   = $0001 =      1          opense.def:431 (unused)
tk_erase  = $00D2 =    210          opense.def:384
tk_exp    = $00B9 =    185          opense.def:359 (unused)
tk_flash  = $00DB =    219          opense.def:393 (unused)
tk_fn     = $00A8 =    168          opense.def:342
tk_for    = $00EB =    235          opense.def:409 (unused)
tk_format = $00D0 =    208          opense.def:382 (unused)
tk_gosub  = $00ED =    237          opense.def:411
tk_goto   = $00EC =    236          opense.def:410
tk_gr_eq  = $00C8 =    200          opense.def:374
tk_if     = $00FA =    250          opense.def:424 (unused)
tk_in     = $00BF =    191          opense.def:365 (unused)
tk_inkey_str = $00A6 =    166          opense.def:340
tk_input  = $00EE =    238          opense.def:412 (unused)
tk_int    = $00BA =    186          opense.def:360 (unused)
tk_inverse = $00DD =    221          opense.def:395 (unused)
tk_l_eql  = $00C7 =    199          opense.def:373
tk_len    = $00B1 =    177          opense.def:351 (unused)
tk_let    = $00F1 =    241          opense.def:415 (unused)
tk_line   = $00CA =    202          opense.def:376
tk_list   = $00F0 =    240          opense.def:414
tk_llist  = $00E1 =    225          opense.def:399
tk_ln     = $00B8 =    184          opense.def:358 (unused)
tk_load   = $00EF =    239          opense.def:413 (unused)
tk_lprint = $00E0 =    224          opense.def:398 (unused)
tk_merge  = $00D5 =    213          opense.def:387 (unused)
tk_move   = $00D1 =    209          opense.def:383 (unused)
tk_neql   = $00C9 =    201          opense.def:375
tk_new    = $00E6 =    230          opense.def:404 (unused)
tk_next   = $00F3 =    243          opense.def:417
tk_not    = $00C3 =    195          opense.def:369 (unused)
tk_onerr  = $0005 =      5          opense.def:435 (unused)
tk_open   = $00D3 =    211          opense.def:385 (unused)
tk_or     = $00C5 =    197          opense.def:371
tk_out    = $00DF =    223          opense.def:397
tk_over   = $00DE =    222          opense.def:396 (unused)
tk_palette = $0003 =      3          opense.def:433 (unused)
tk_paper  = $00DA =    218          opense.def:392 (unused)
tk_pause  = $00F2 =    242          opense.def:416 (unused)
tk_peek   = $00BE =    190          opense.def:364 (unused)
tk_pen    = $00D9 =    217          opense.def:391
tk_pi     = $00A7 =    167          opense.def:341
tk_plot   = $00F6 =    246          opense.def:420 (unused)
tk_point  = $00A9 =    169          opense.def:343
tk_poke   = $00F4 =    244          opense.def:418 (unused)
tk_print  = $00F5 =    245          opense.def:419 (unused)
tk_randomize = $00F9 =    249          opense.def:423 (unused)
tk_read   = $00E3 =    227          opense.def:401 (unused)
tk_rem    = $00EA =    234          opense.def:408
tk_renum  = $0002 =      2          opense.def:432 (unused)
tk_restore = $00E5 =    229          opense.def:403
tk_return = $00FE =    254          opense.def:428 (unused)
tk_rnd    = $00A5 =    165          opense.def:339
tk_run    = $00F7 =    247          opense.def:421
tk_save   = $00F8 =    248          opense.def:422 (unused)
tk_screen_str = $00AA =    170          opense.def:344
tk_sgn    = $00BC =    188          opense.def:362 (unused)
tk_sin    = $00B2 =    178          opense.def:352 (unused)
tk_sound  = $0004 =      4          opense.def:434 (unused)
tk_sqr    = $00BB =    187          opense.def:361 (unused)
tk_step   = $00CD =    205          opense.def:379
tk_stop   = $00E2 =    226          opense.def:400
tk_str_str = $00C1 =    193          opense.def:367 (unused)
tk_tab    = $00AD =    173          opense.def:347
tk_tan    = $00B4 =    180          opense.def:354 (unused)
tk_then   = $00CB =    203          opense.def:377
tk_to     = $00CC =    204          opense.def:378
tk_usr    = $00C0 =    192          opense.def:366
tk_val    = $00B0 =    176          opense.def:350 (unused)
tk_val_str = $00AE =    174          opense.def:348
tk_verify = $00D6 =    214          opense.def:388 (unused)
tkdata    = $00E4 =    228          opense.def:402
trcurp    = $0D4D =   3405          opense.asm:2160
trunct2   = $3252 =  12882          opense.asm:9056
trunct3   = $325E =  12894          opense.asm:9066
trunct4   = $3261 =  12897          opense.asm:9070
trunct5   = $3267 =  12903          opense.asm:9075
tstzero   = $34C5 =  13509          opense.asm:9555
two_c_s_num = $0008 =      8          opense.def:471
two_csn_col = $0009 =      9          opense.def:472
udg       = $5C7B =  23675          opense.def:590
ula       = $00FE =    254          opense.def:440
ulaplus_dat = $FF3B =  65339          opense.def:446 (unused)
ulaplus_reg = $BF3B =  48955          opense.def:445
units     = $1A33 =   6707          opense.asm:4167
unstack_z = $1FC3 =   8131          opense.asm:5319
up_key    = $104A =   4170          opense.asm:2708
use_one   = $1D10 =   7440          opense.asm:4812
user      = $5C81 =  23681          opense.def:595
v_80_byte = $2932 =  10546          opense.asm:7090
v_char    = $28D4 =  10452          opense.asm:7017
v_each    = $2900 =  10496          opense.asm:7048
v_end     = $294B =  10571          opense.asm:7116
v_found_1 = $293E =  10558          opense.asm:7101
v_found_2 = $293F =  10559          opense.asm:7104
v_get_ptr = $2929 =  10537          opense.asm:7080
v_matches = $2912 =  10514          opense.asm:7062
v_next    = $292A =  10538          opense.asm:7083
v_pass    = $2943 =  10563          opense.asm:7110
v_run     = $28FD =  10493          opense.asm:7045
v_run_syn = $28EF =  10479          opense.asm:7035
v_spaces  = $2913 =  10515          opense.asm:7065
v_str_var = $28DE =  10462          opense.asm:7024
v_syntax  = $2934 =  10548          opense.asm:7093
valid     = $36F0 =  14064          opense.asm:10024
var_rqd   = $0001 =      1          opense.def:464
var_syn   = $0005 =      5          opense.def:468
vars      = $5C4B =  23627          opense.def:562
vdudata   = $5C0E =  23566          opense.def:525
vdudata_h = $5C0F =  23567          opense.def:526
waitkey   = $15D4 =   5588          opense.asm:3272
white     = $0007 =      7          opense.def:262
words     = $0C44 =   3140          opense.asm:1997
worksp    = $5C61 =  23649          opense.def:573
wtky2     = $15DE =   5598          opense.asm:3277
x360f     = $3617 =  13847          opense.asm:9838
x3621     = $3629 =  13865          opense.asm:9851
x362c     = $3634 =  13876          opense.asm:9859
x36e6     = $36EE =  14062          opense.asm:10020
x80_fabs  = $344E =  13390          opense.asm:9453
x80_facos = $380C =  14348          opense.asm:10214
x80_fadd  = $3014 =  12308          opense.asm:8554
x80_fasc  = $363E =  13886          opense.asm:9865
x80_fasin = $37FC =  14332          opense.asm:10196
x80_fatan = $37AB =  14251          opense.asm:10154
x80_fband = $3500 =  13568          opense.asm:9617
x80_fbands = $3509 =  13577          opense.asm:9625
x80_fbor  = $34F7 =  13559          opense.asm:9609
x80_fcat  = $3574 =  13684          opense.asm:9726
x80_fce   = $3670 =  13936          opense.asm:9916
x80_fchrs = $35A2 =  13730          opense.asm:9768
x80_fcos  = $377B =  14203          opense.asm:10113
x80_fcp   = $3517 =  13591          opense.asm:9639
x80_fcp_gz = $34D5 =  13525          opense.asm:9573
x80_fcp_lz = $34E2 =  13538          opense.asm:9583
x80_fdel  = $33A5 =  13221          opense.asm:9300
x80_fdiv  = $31AF =  12719          opense.asm:8924
x80_fdjnz = $364F =  13903          opense.asm:9879
x80_fexp  = $3699 =  13977          opense.asm:9965
x80_fget  = $3755 =  14165          opense.asm:10075
x80_fgt   = $3400 =  13312          opense.asm:9383
x80_fhexs = $3863 =  14435          opense.asm:10300
x80_fin   = $3485 =  13445          opense.asm:9503
x80_fint  = $3684 =  13956          opense.asm:9940
x80_fjp   = $365B =  13915          opense.asm:9890
x80_fjpt  = $3664 =  13924          opense.asm:9903
x80_flen  = $3649 =  13897          opense.asm:9875
x80_flogn = $36E7 =  14055          opense.asm:10012
x80_fmod  = $3675 =  13941          opense.asm:9923
x80_fmove = $33C4 =  13252          opense.asm:9324
x80_fmul  = $30CA =  12490          opense.asm:8721
x80_fneg  = $3452 =  13394          opense.asm:9457
x80_fnot  = $34DD =  13533          opense.asm:9579
x80_fpeek = $348C =  13452          opense.asm:9508
x80_fread = $361C =  13852          opense.asm:9843
x80_frstk = $3297 =  12951          opense.asm:9124
x80_fsgen = $342D =  13357          opense.asm:9423
x80_fsgl  = $33A6 =  13222          opense.asm:9303
x80_fsgn  = $3472 =  13426          opense.asm:9487
x80_fsin  = $3786 =  14214          opense.asm:10124
x80_fsqrt = $3813 =  14355          opense.asm:10223
x80_fst   = $3411 =  13329          opense.asm:9397
x80_fstk  = $33CA =  13258          opense.asm:9329
x80_fstkc = $340C =  13324          opense.asm:9393
x80_fstrs = $35EF =  13807          opense.asm:9816
x80_fsub  = $300F =  12303          opense.asm:8549
x80_ftan  = $0DF5 =   3573          opense.asm:2269
x80_ftop  = $3846 =  14406          opense.asm:10268
x80_ftrn  = $3214 =  12820          opense.asm:9009
x80_fusr  = $3493 =  13459          opense.asm:9515
x80_fusrs = $349C =  13468          opense.asm:9522
x80_fval  = $35B1 =  13745          opense.asm:9780
x80_fxch  = $3421 =  13345          opense.asm:9409
x_large   = $326D =  12909          opense.asm:9081
x_neg     = $368C =  13964          opense.asm:9949
xcoord    = $5C7D =  23677          opense.def:591
xis0      = $3852 =  14418          opense.asm:10279
xptr      = $5C5F =  23647          opense.def:572
ycoord    = $5C7E =  23678          opense.def:592
yellow    = $0006 =      6          opense.def:261 (unused)
yneg      = $3779 =  14201          opense.asm:10109
zero_de   = $1691 =   5777          opense.asm:3438
zero_rslt = $315D =  12637          opense.asm:8849
zeros_4_5 = $2FFB =  12283          opense.asm:8527
zplus     = $3772 =  14194          opense.asm:10101


total time: 0.1624 sec.
no errors
